{"author":{"name":null,"type":"card","url":"http://localhost:1313/"},"content":{"html":"\u003cp\u003e关于怎样定义例程和使用例程, 请参阅 \u003ca href=\"https://docs.raku.org/type/Sub\"\u003eSub\u003c/a\u003e 。\u003c/p\u003e\n\u003ch1 id=\"控制例程httpsdocsrakuorglanguageroutines___top\"\u003e\u003ca href=\"https://docs.raku.org/language/routines#___top\"\u003e控制例程\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003e控制例程是能改变程序流的例程, 它可能会返回一个值。\u003c/p\u003e\n\u003ch2 id=\"sub-exithttpsdocsrakuorglanguageroutines___top\"\u003e\u003ca href=\"https://docs.raku.org/language/routines#___top\"\u003esub exit\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e定义为:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eInt\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"nv\"\u003e$status\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e使用返回码 \u003ccode\u003e$status\u003c/code\u003e 退出当前进程，如果未指定值，则返回码为 0。退出值 (\u003ccode\u003e$status\u003c/code\u003e)，当不同于零时，必须从捕获它的进程（例如，shell）进行适当的计算; 它是从\u003ca href=\"https://docs.raku.org/routine/MAIN\"\u003eMain\u003c/a\u003e 返回不同于零的退出代码的唯一方法。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eexit\u003c/code\u003e 防止 \u003ca href=\"https://docs.raku.org/language/phasers#LEAVE\"\u003eLEAVE\u003c/a\u003e phaser 被执行, 但是它会在 \u003ca href=\"https://docs.raku.org/language/variables#index-entry-%2524%2AEXIT\"\u003e\u003ccode\u003e\u0026amp;*EXIT\u003c/code\u003e\u003c/a\u003e 变量中运行。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eexit\u003c/code\u003e 应该作为最后的手段用于向父进程发出关于退出代码不等于零的信号，而不是异常地终止方法或 sub, 使用 \u003ca href=\"https://docs.raku.org/language/exceptions\"\u003eexceptions\u003c/a\u003e 代替。\u003c/p\u003e\n\u003ch2 id=\"done\"\u003edone\u003c/h2\u003e\n\u003cp\u003e定义为:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003e--\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eNil\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e如果用在任何 supply 或 react 块儿之外, 则抛出异常: \u003ccode\u003edone without supply or react\u003c/code\u003e。在 \u003ca href=\"https://docs.raku.org/type/Supply\"\u003eSupply\u003c/a\u003e 块儿里面, 它会指示该 supply 不会再发出任何东西. 还请参阅 \u003ca href=\"https://docs.raku.org/routine/done\"\u003edocumentation on method \u003ccode\u003edone\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$supply\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003esupply\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e..\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nb\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$_\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$supply\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003etap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"k\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$v\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003eSecond : \u003c/span\u003e\u003cspan class=\"nv\"\u003e$v\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003edone\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003eNo more\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# OUTPUT: OUTPUT: «Second : 1␤Second : 2␤Second : 3␤No More␤» \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e传递给 \u003ccode\u003edone\u003c/code\u003e 命名参数的块将在 \u003ccode\u003esupply\u003c/code\u003e 块中调用结束 (\u003ccode\u003edone\u003c/code\u003e) 时运行。\u003c/p\u003e\n\u003ch2 id=\"emit\"\u003eemit\u003c/h2\u003e\n\u003cp\u003e定义为:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\\\u003cspan class=\"nb\"\u003evalue\u003c/span\u003e \u003cspan class=\"k\"\u003e--\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eNil\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e如果在任何 supply 或 react 块儿外面使用 \u003ccode\u003eemit\u003c/code\u003e, 则抛出异常 \u003ccode\u003eemit without supply or react\u003c/code\u003e. 在 \u003ca href=\"https://docs.raku.org/type/Supply\"\u003eSupply\u003c/a\u003e 块儿里面, 它会添加一条消息给 stream 流。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$supply\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003esupply\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e..\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e      \u003cspan class=\"nb\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$_\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$supply\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003etap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"k\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$v\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003eFirst : \u003c/span\u003e\u003cspan class=\"nv\"\u003e$v\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e还请参阅 \u003ca href=\"https://docs.raku.org/routine/emit\"\u003ethe page for \u003ccode\u003eemit\u003c/code\u003e methods\u003c/a\u003e.\u003c/p\u003e\n\u003ch2 id=\"undefine\"\u003eundefine\u003c/h2\u003e\n\u003cp\u003e定义为:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eundefine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eMu\u003c/span\u003e    \\\u003cspan class=\"nb\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eundefine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eArray\u003c/span\u003e \\\u003cspan class=\"nb\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eundefine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eHash\u003c/span\u003e  \\\u003cspan class=\"nb\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e在 6.d 中被\u003cstrong\u003e废弃\u003c/strong\u003e, 将在 6.e 中移除。 对于 \u003ca href=\"https://docs.raku.org/type/Array\"\u003eArray\u003c/a\u003e 和 \u003ca href=\"https://docs.raku.org/type/Hash\"\u003eHash\u003c/a\u003e, 它会变得和赋值为 \u003ca href=\"https://docs.raku.org/type/Slip#index-entry-Empty-Empty\"\u003eEmpty\u003c/a\u003e 相等; 对于其它任何东西, 它会和赋值为 \u003ca href=\"https://docs.raku.org/type/Nil\"\u003eNil\u003c/a\u003e 相等, 建议使用它。\u003c/p\u003e\n","text":"关于怎样定义例程和使用例程, 请参阅 Sub 。\n控制例程 控制例程是能改变程序流的例程, 它可能会返回一个值。\nsub exit 定义为:\nsub exit(Int() $status = 0) 使用返回码 $status 退出当前进程，如果未指定值，则返回码为 0。退出值 ($status)，当不同于零时，必须从捕获它的进程（例如，shell）进行适当的计算; 它是从Main 返回不同于零的退出代码的唯一方法。\nexit 防止 LEAVE phaser 被执行, 但是它会在 \u0026amp;*EXIT 变量中运行。\nexit 应该作为最后的手段用于向父进程发出关于退出代码不等于零的信号，而不是异常地终止方法或 sub, 使用 exceptions 代替。\ndone 定义为:\nsub done(--\u0026gt; Nil) 如果用在任何 supply 或 react 块儿之外, 则抛出异常: done without supply or react。在 Supply 块儿里面, 它会指示该 supply 不会再发出任何东西. 还请参阅 documentation on method done.\nmy $supply = supply { for 1 .. 3 { emit($_); } done; } $supply.tap( -\u0026gt; $v { say \u0026#34;Second : $v\u0026#34; }, done =\u0026gt; { say \u0026#34;No more\u0026#34; }); # OUTPUT: OUTPUT: «Second : 1␤Second : 2␤Second : 3␤No More␤» 传递给 done 命名参数的块将在 supply 块中调用结束 (done) 时运行。\nemit 定义为:\nsub emit(\\value --\u0026gt; Nil) 如果在任何 supply 或 react 块儿外面使用 emit, 则抛出异常 emit without supply or react. 在 Supply 块儿里面, 它会添加一条消息给 stream 流。\nmy $supply = supply { for 1 .. 10 { emit($_); } } $supply.tap( -\u0026gt; $v { say \u0026#34;First : $v\u0026#34; }); 还请参阅 the page for emit methods.\nundefine 定义为:\nmulti sub undefine(Mu \\x) multi sub undefine(Array \\x) multi sub undefine(Hash \\x) 在 6.d 中被废弃, 将在 6.e 中移除。 对于 Array 和 Hash, 它会变得和赋值为 Empty 相等; 对于其它任何东西, 它会和赋值为 Nil 相等, 建议使用它。\n"},"name":"例程","published":"2018-12-06T21:13:31+08:00","summary":"关于怎样定义例程和使用例程, 请参阅 Sub 。\n控制例程 控制例程是能改变程序流的例程, 它可能会返回一个值。\nsub exit 定义为:\nsub exit(Int() $status = 0) 使用返回码 $status 退出当前进程，如果未指定值，则返回码为 0。退出值 ($status)，当不同于零时，必须从捕获它的进程（例如，shell）进行适当的计算; 它是从Main 返回不同于零的退出代码的唯一方法。\nexit 防止 LEAVE phaser 被执行, 但是它会在 \u0026amp;*EXIT 变量中运行。\nexit 应该作为最后的手段用于向父进程发出关于退出代码不等于零的信号，而不是异常地终止方法或 sub, 使用 exceptions 代替。\ndone 定义为:\nsub done(--\u0026gt; Nil) 如果用在任何 supply 或 react 块儿之外, 则抛出异常: done without supply or react。在 Supply 块儿里面, 它会指示该 supply 不会再发出任何东西. 还请参阅 documentation on method done.\nmy $supply = supply { for 1 .. 3 { emit($_); } done; } $supply.","type":"entry","url":"http://localhost:1313/rakulang/62.routines/"}
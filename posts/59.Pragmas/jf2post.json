{"author":{"name":null,"type":"card","url":"https://ohmycloud.github.io/"},"content":{"html":"\u003cp\u003e在 Raku 中，\u003cstrong\u003epragma\u003c/strong\u003e 是用于识别要使用的 Raku 的特定版本或以某种方式修改编译器的正常行为的指令。\u003ccode\u003euse\u003c/code\u003e 关键字开启编译指示（类似于你怎么 \u003ccode\u003euse\u003c/code\u003e 一个模块）。要禁用 pragma，请使用 \u003ccode\u003eno\u003c/code\u003e 关键字：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"ni\"\u003e.c\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# use 6.c language version \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eno\u003c/span\u003e \u003cspan class=\"kt\"\u003eworries\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e# don\u0026#39;t issue compile time warnings \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e以下是一个编译指令列表，其中包含每个编译指令意图的简短描述或指向其使用的更多详细信息的链接。（注意：标记为“[NYI]”的编译指令尚未实现，标记为“[TBD]”的编号将在稍后定义。）\u003c/p\u003e\n\u003ch2 id=\"v6xhttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003ev6.x\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e该编译指令 声明了将要使用的编译器的版本，如果它们是可选的，则开启它的功能。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# Load latest supported version (non-PREVIEW). \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"c1\"\u003e# Also, useful for producing better errors when accidentally \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e          \u003cspan class=\"c1\"\u003e# executing the program with `perl` instead of `raku` \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"ni\"\u003e.c\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e         \u003cspan class=\"c1\"\u003e# Use the \u0026#34;Christmas\u0026#34; version of Raku \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"ni\"\u003e.d\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e         \u003cspan class=\"c1\"\u003e# Use the \u0026#34;Diwali\u0026#34; version of Raku \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"ni\"\u003e.d.PREVIEW\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e# On 6.d-capable compilers, enables 6.d features, \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e                  \u003cspan class=\"c1\"\u003e# otherwise enables the available experimental \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e                  \u003cspan class=\"c1\"\u003e# preview features for 6.d language \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e                  \u003cspan class=\"c1\"\u003e# This will only work on releases previous to 6.d. \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e由于这些编译指令是在编译器版本上开启的，所以它们应该是文件中的第一个语句（前面的注释和 Pod 都没问题）。\u003c/p\u003e\n\u003ch2 id=\"monkey-gutshttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003eMONKEY-GUTS\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e该编译指令目前不是任何 Raku 规范的一部分，但作为 \u003ccode\u003euse nqp\u003c/code\u003e 的同义词存在于 Rakudo 中（见下文）。\u003c/p\u003e\n\u003ch2 id=\"monkey-see-no-evalhttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003eMONKEY-SEE-NO-EVAL\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://docs.raku.org/routine/EVAL\"\u003eEVAL\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"monkey-typinghttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003eMONKEY-TYPING\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://docs.raku.org/syntax/augment\"\u003eaugment\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"monkeyhttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003eMONKEY\u003c/a\u003e\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"nn\"\u003eMONKEY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e打开所有可用的 \u003ccode\u003eMONKEY\u003c/code\u003e 编译指令，目前有上面的三个; 因此，它等同于：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"kt\"\u003eMONKEY-TYPING\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"kt\"\u003eMONKEY-SEE-NO-EVAL\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"kt\"\u003eMONKEY-GUTS\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"experimentalhttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003eexperimental\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e允许使用\u003ca href=\"https://docs.raku.org/language/experimental\"\u003e实验性功能\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"fatalhttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003efatal\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e一个词法编译指令，使得\u003ca href=\"https://docs.raku.org/type/Failure\"\u003eFailures\u003c/a\u003e从例程致命错误中返回。例如，\u003ca href=\"https://docs.raku.org/type/Str\"\u003eStr\u003c/a\u003e上的 \u003ccode\u003e+\u003c/code\u003e 前缀将其强制转换为\u003ca href=\"https://docs.raku.org/type/Numeric\"\u003eNumeric\u003c/a\u003e，但如果字符串包含非数字字符，则返回\u003ca href=\"https://docs.raku.org/type/Failure\"\u003eFailure\u003c/a\u003e。在变量中保存该\u003ca href=\"https://docs.raku.org/type/Failure\"\u003eFailure\u003c/a\u003e可以防止它被下沉，因此下面的第一个代码块到达 \u003ccode\u003esay $x.^name;\u003c/code\u003e 行并在输出中打印 \u003ccode\u003eFailure\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e在第二个块中，\u003ccode\u003euse fatal\u003c/code\u003e 编译指定开启了，因此 \u003ccode\u003esay\u003c/code\u003e 永远不会到达该行，因为从前缀 \u003ccode\u003e+\u003c/code\u003e 返回的 \u003ca href=\"https://docs.raku.org/type/Failure\"\u003eFailure\u003c/a\u003e 中包含的 \u003ca href=\"https://docs.raku.org/type/Exception\"\u003eException\u003c/a\u003e 被抛出并且 \u003ccode\u003eCATCH\u003c/code\u003e 块被运行，打印出 \u003ccode\u003eCaught...\u003c/code\u003e 行。请注意，这两个块都是相同的程序，\u003ccode\u003euse fatal\u003c/code\u003e 只会影响它所使用的词法块：\u003ccode\u003eCaught...use fatal\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$x\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$x\u003c/span\u003e\u003cspan class=\"o\"\u003e.^\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eCATCH\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003eCaught \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e.^\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"c1\"\u003e# OUTPUT: «Failure» \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"kt\"\u003efatal\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$x\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$x\u003c/span\u003e\u003cspan class=\"o\"\u003e.^\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eCATCH\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003eCaught \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e.^\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"c1\"\u003e# OUTPUT: «Caught X::Str::Numeric» \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e在\u003ca href=\"https://docs.raku.org/language/exceptions#index-entry-try_blocks-try\"\u003e\u003ccode\u003etry\u003c/code\u003e\u003c/a\u003e 块内部，默认开启 \u003ccode\u003efatal\u003c/code\u003e 编译指令，您可以使用 \u003ccode\u003eno fatal\u003c/code\u003e \u003cem\u003e禁用\u003c/em\u003e它：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$x\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$x\u003c/span\u003e\u003cspan class=\"o\"\u003e.^\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eCATCH\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003eCaught \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e.^\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"c1\"\u003e# OUTPUT: «Caught X::Str::Numeric» \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eno\u003c/span\u003e \u003cspan class=\"kt\"\u003efatal\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$x\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$x\u003c/span\u003e\u003cspan class=\"o\"\u003e.^\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eCATCH\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003eCaught \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e.^\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"c1\"\u003e# OUTPUT: «Failure» \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"internalshttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003einternals\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e[NYI]\u003c/p\u003e\n\u003ch2 id=\"invocanthttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003einvocant\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e[NYI]\u003c/p\u003e\n\u003ch2 id=\"ismshttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003eisms\u003c/a\u003e\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e[2018.09 and later]\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e允许被认为是正常 Raku 编程中的警告和/或错误的陷阱的一些其他语言结构。目前，\u003ccode\u003ePerl5\u003c/code\u003e 和 \u003ccode\u003eC++\u003c/code\u003e 是被允许的。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eabs\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eabs\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# Unsupported use of bare \u0026#34;abs\u0026#34;; in Raku please use .abs if you meant \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# to call it as a method on $_, or use an explicit invocant or argument, \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# or use \u0026amp;abs to refer to the function as a noun \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e在这种情况下，提供一个不带任何参数的 \u003ccode\u003eabs\u003c/code\u003e sub，并没有使编译错误消失。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"kt\"\u003eisms\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"s\"\u003ePerl5\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eabs\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eabs\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# foo \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e有了这个，编译器将允许违规的 Perl 5 构造，允许实际执行代码。\u003c/p\u003e\n\u003cp\u003e如果未指定任何语言，则允许使用所有已知语言结构。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"kt\"\u003eisms\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# allow for Perl5 and C++ isms \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"libhttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003elib\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e该编译指令将子目录添加到库搜索路径，以便解释器可以\u003ca href=\"https://docs.raku.org/language/modules#Finding_modules\"\u003e找到模块\u003c/a\u003e。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"kt\"\u003elib\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"s\"\u003elib /opt/lib /usr/local/lib\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e这将搜索列表中传递的目录。有关更多示例，请查看\u003ca href=\"https://docs.raku.org/language/modules#use\"\u003e模块文档\u003c/a\u003e。\u003c/p\u003e\n\u003ch2 id=\"newlinehttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003enewline\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e在调用的作用域内设置\u003ca href=\"https://docs.raku.org/language/variables#Compile-time_variables\"\u003e$?NL\u003c/a\u003e常量的值。可能的值有 \u003ccode\u003e:lf\u003c/code\u003e（默认值，表示换行），\u003ccode\u003e:crlf\u003c/code\u003e（表示回车，换行）和 \u003ccode\u003e:cr\u003c/code\u003e（表示回车）。\u003c/p\u003e\n\u003ch2 id=\"nqphttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003enqp\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e使用风险由您自己承担。\u003c/p\u003e\n\u003cp\u003e这是一个 Rakudo 特有的编译指令。有了它，Rakudo 可以访问顶级命名空间中的\u003ca href=\"https://github.com/raku/nqp/blob/master/docs/ops.markdown\"\u003enqp操作码\u003c/a\u003e：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"kt\"\u003enqp\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nf\"\u003enqp::say\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003ehello world\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e这使用底层的 nqp \u003ccode\u003esay\u003c/code\u003e 操作码而不是 Raku 例程。这个编译指示可能会使您的代码依赖于特定版本的 nqp，并且由于该代码不是 Raku 规范的一部分，因此不能保证它是稳定的。您可能会在 Rakudo 核心中找到大量用法，这些用法用于尽可能快地实现核心功能。Rakudo 代码生成的未来优化可能会废弃这些用法。\u003c/p\u003e\n\u003ch2 id=\"parametershttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003eparameters\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e[NYI]\u003c/p\u003e\n\u003ch2 id=\"precompilationhttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003eprecompilation\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e默认允许预编译源代码，特别是在模块中使用时。如果由于某种原因您不希望预编译（模块的）代码，您可以使用 \u003ccode\u003eno precompilation\u003c/code\u003e。这将阻止整个编译单元（通常是文件）被预编译。\u003c/p\u003e\n\u003ch2 id=\"softhttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003esoft\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://docs.raku.org/language/functions#Re-dispatching\"\u003eRe-dispatching\u003c/a\u003e, \u003ca href=\"https://docs.raku.org/language/functions#index-entry-use_soft_%28pragma%29\"\u003einlining\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"stricthttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003estrict\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003estrict\u003c/code\u003e 是默认行为，并要求您在使用变量之前声明变量。你可以用 \u003ccode\u003eno\u003c/code\u003e 放松这个限制。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eno\u003c/span\u003e \u003cspan class=\"kt\"\u003estrict\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$x\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e# OK \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"tracehttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003etrace\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e当 \u003ccode\u003euse trace\u003c/code\u003e 被激活时，执行的代码的任何行将被写入 stderr。您可以使用 \u003ccode\u003eno trace\u003c/code\u003e 关闭该功能，因此这仅适用于某些代码段。\u003c/p\u003e\n\u003ch2 id=\"v6httpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003ev6\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://docs.raku.org/language/testing#Writing_tests\"\u003eWriting Tests\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"variableshttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003evariables\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://docs.raku.org/language/variables#Default_defined_variables_pragma\"\u003eDefined Variables Pragma\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"worrieshttpsdocsrakuorglanguagepragmas___top\"\u003e\u003ca href=\"https://docs.raku.org/language/pragmas#___top\"\u003eworries\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e词法地控制是否显示编译器生成的编译时警告。默认情况下启用。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$\u003c/span\u003e \u003cspan class=\"nb\"\u003eraku\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"no\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003esay :foo\u0026lt;\u0026gt;.Pair\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nf\"\u003ePotential\u003c/span\u003e \u003cspan class=\"n\"\u003edifficulties:\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"kt\"\u003ePair\u003c/span\u003e \u003cspan class=\"k\"\u003ewith\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ereally\u003c/span\u003e \u003cspan class=\"n\"\u003emeans\u003c/span\u003e \u003cspan class=\"n\"\u003ean\u003c/span\u003e \u003cspan class=\"n\"\u003eempty\u003c/span\u003e \u003cspan class=\"nb\"\u003elist\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003enot\u003c/span\u003e \u003cspan class=\"n\"\u003enull\u003c/span\u003e \u003cspan class=\"n\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u0026#39;\u0026#39;)\u003c/span\u003e \u003cspan class=\"nb\"\u003eto\u003c/span\u003e \u003cspan class=\"n\"\u003erepresent\u003c/span\u003e \u003cspan class=\"n\"\u003ethe\u003c/span\u003e \u003cspan class=\"n\"\u003enull\u003c/span\u003e \u003cspan class=\"n\"\u003estring\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"ow\"\u003eor\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"nb\"\u003eto\u003c/span\u003e \u003cspan class=\"n\"\u003erepresent\u003c/span\u003e \u003cspan class=\"n\"\u003ethe\u003c/span\u003e \u003cspan class=\"n\"\u003eempty\u003c/span\u003e \u003cspan class=\"nb\"\u003elist\u003c/span\u003e \u003cspan class=\"n\"\u003emore\u003c/span\u003e \u003cspan class=\"n\"\u003eaccurately\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"nb\"\u003eat\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"no\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"o\"\u003e------\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u0026gt;\u003c/span\u003e⏏\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"kt\"\u003ePair\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003efoo\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eNil\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$\u003c/span\u003e \u003cspan class=\"nb\"\u003eraku\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"no\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eno worries; say :foo\u0026lt;\u0026gt;.Pair\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003efoo\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eNil\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","text":"在 Raku 中，pragma 是用于识别要使用的 Raku 的特定版本或以某种方式修改编译器的正常行为的指令。use 关键字开启编译指示（类似于你怎么 use 一个模块）。要禁用 pragma，请使用 no 关键字：\nuse v6.c; # use 6.c language version no worries; # don\u0026#39;t issue compile time warnings 以下是一个编译指令列表，其中包含每个编译指令意图的简短描述或指向其使用的更多详细信息的链接。（注意：标记为“[NYI]”的编译指令尚未实现，标记为“[TBD]”的编号将在稍后定义。）\nv6.x 该编译指令 声明了将要使用的编译器的版本，如果它们是可选的，则开启它的功能。\nuse v6; # Load latest supported version (non-PREVIEW). # Also, useful for producing better errors when accidentally # executing the program with `perl` instead of `raku` use v6.c; # Use the \u0026#34;Christmas\u0026#34; version of Raku use v6.d; # Use the \u0026#34;Diwali\u0026#34; version of Raku use v6.d.PREVIEW; # On 6.d-capable compilers, enables 6.d features, # otherwise enables the available experimental # preview features for 6.d language # This will only work on releases previous to 6.d. 由于这些编译指令是在编译器版本上开启的，所以它们应该是文件中的第一个语句（前面的注释和 Pod 都没问题）。\nMONKEY-GUTS 该编译指令目前不是任何 Raku 规范的一部分，但作为 use nqp 的同义词存在于 Rakudo 中（见下文）。\nMONKEY-SEE-NO-EVAL EVAL\nMONKEY-TYPING augment\nMONKEY use MONKEY; 打开所有可用的 MONKEY 编译指令，目前有上面的三个; 因此，它等同于：\nuse MONKEY-TYPING; use MONKEY-SEE-NO-EVAL; use MONKEY-GUTS; experimental 允许使用实验性功能\nfatal 一个词法编译指令，使得Failures从例程致命错误中返回。例如，Str上的 + 前缀将其强制转换为Numeric，但如果字符串包含非数字字符，则返回Failure。在变量中保存该Failure可以防止它被下沉，因此下面的第一个代码块到达 say $x.^name; 行并在输出中打印 Failure。\n在第二个块中，use fatal 编译指定开启了，因此 say 永远不会到达该行，因为从前缀 + 返回的 Failure 中包含的 Exception 被抛出并且 CATCH 块被运行，打印出 Caught... 行。请注意，这两个块都是相同的程序，use fatal 只会影响它所使用的词法块：Caught...use fatal\n{ my $x = +\u0026#34;a\u0026#34;; say $x.^name; CATCH { default { say \u0026#34;Caught {.^name}\u0026#34; } } } # OUTPUT: «Failure» { use fatal; my $x = +\u0026#34;a\u0026#34;; say $x.^name; CATCH { default { say \u0026#34;Caught {.^name}\u0026#34; } } } # OUTPUT: «Caught X::Str::Numeric» 在try 块内部，默认开启 fatal 编译指令，您可以使用 no fatal 禁用它：\ntry { my $x = +\u0026#34;a\u0026#34;; say $x.^name; CATCH { default { say \u0026#34;Caught {.^name}\u0026#34; } } } # OUTPUT: «Caught X::Str::Numeric» try { no fatal; my $x = +\u0026#34;a\u0026#34;; say $x.^name; CATCH { default { say \u0026#34;Caught {.^name}\u0026#34; } } } # OUTPUT: «Failure» internals [NYI]\ninvocant [NYI]\nisms [2018.09 and later] 允许被认为是正常 Raku 编程中的警告和/或错误的陷阱的一些其他语言结构。目前，Perl5 和 C++ 是被允许的。\nsub abs() { say \u0026#34;foo\u0026#34; } abs; # Unsupported use of bare \u0026#34;abs\u0026#34;; in Raku please use .abs if you meant # to call it as a method on $_, or use an explicit invocant or argument, # or use \u0026amp;abs to refer to the function as a noun 在这种情况下，提供一个不带任何参数的 abs sub，并没有使编译错误消失。\nuse isms \u0026lt;Perl5\u0026gt;; sub abs() { say \u0026#34;foo\u0026#34; } abs; # foo 有了这个，编译器将允许违规的 Perl 5 构造，允许实际执行代码。\n如果未指定任何语言，则允许使用所有已知语言结构。\nuse isms; # allow for Perl5 and C++ isms lib 该编译指令将子目录添加到库搜索路径，以便解释器可以找到模块。\nuse lib \u0026lt;lib /opt/lib /usr/local/lib\u0026gt;; 这将搜索列表中传递的目录。有关更多示例，请查看模块文档。\nnewline 在调用的作用域内设置$?NL常量的值。可能的值有 :lf（默认值，表示换行），:crlf（表示回车，换行）和 :cr（表示回车）。\nnqp 使用风险由您自己承担。\n这是一个 Rakudo 特有的编译指令。有了它，Rakudo 可以访问顶级命名空间中的nqp操作码：\nuse nqp; nqp::say(\u0026#34;hello world\u0026#34;); 这使用底层的 nqp say 操作码而不是 Raku 例程。这个编译指示可能会使您的代码依赖于特定版本的 nqp，并且由于该代码不是 Raku 规范的一部分，因此不能保证它是稳定的。您可能会在 Rakudo 核心中找到大量用法，这些用法用于尽可能快地实现核心功能。Rakudo 代码生成的未来优化可能会废弃这些用法。\nparameters [NYI]\nprecompilation 默认允许预编译源代码，特别是在模块中使用时。如果由于某种原因您不希望预编译（模块的）代码，您可以使用 no precompilation。这将阻止整个编译单元（通常是文件）被预编译。\nsoft Re-dispatching, inlining\nstrict strict 是默认行为，并要求您在使用变量之前声明变量。你可以用 no 放松这个限制。\nno strict; $x = 42; # OK trace 当 use trace 被激活时，执行的代码的任何行将被写入 stderr。您可以使用 no trace 关闭该功能，因此这仅适用于某些代码段。\nv6 Writing Tests\nvariables Defined Variables Pragma\nworries 词法地控制是否显示编译器生成的编译时警告。默认情况下启用。\n$ raku -e \u0026#39;say :foo\u0026lt;\u0026gt;.Pair\u0026#39; Potential difficulties: Pair with \u0026lt;\u0026gt; really means an empty list, not null string; use :foo(\u0026#39;\u0026#39;) to represent the null string, or :foo() to represent the empty list more accurately at -e:1 ------\u0026gt; say :foo\u0026lt;\u0026gt;⏏.Pair foo =\u0026gt; Nil $ raku -e \u0026#39;no worries; say :foo\u0026lt;\u0026gt;.Pair\u0026#39; foo =\u0026gt; Nil "},"name":"编译指令","published":"2018-12-03T21:13:31+08:00","summary":"在 Raku 中，pragma 是用于识别要使用的 Raku 的特定版本或以某种方式修改编译器的正常行为的指令。use 关键字开启编译指示（类似于你怎么 use 一个模块）。要禁用 pragma，请使用 no 关键字：\nuse v6.c; # use 6.c language version no worries; # don\u0026#39;t issue compile time warnings 以下是一个编译指令列表，其中包含每个编译指令意图的简短描述或指向其使用的更多详细信息的链接。（注意：标记为“[NYI]”的编译指令尚未实现，标记为“[TBD]”的编号将在稍后定义。）\nv6.x 该编译指令 声明了将要使用的编译器的版本，如果它们是可选的，则开启它的功能。\nuse v6; # Load latest supported version (non-PREVIEW). # Also, useful for producing better errors when accidentally # executing the program with `perl` instead of `raku` use v6.c; # Use the \u0026#34;Christmas\u0026#34; version of Raku use v6.d; # Use the \u0026#34;Diwali\u0026#34; version of Raku use v6.","type":"entry","url":"https://ohmycloud.github.io/posts/59.pragmas/"}
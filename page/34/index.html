<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">

    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
    
    
    

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

    
    <meta name="referrer" content="no-referrer">

    <title>
        
            焉知非鱼 ❚
        
    </title>

    
    


    
    
    
    

    
    
    
    

    
    
    

    
    
    
    <style>
     
     
     :root {
         --theme-color: #ac4142;
         --theme-color-light: rgba(172, 65, 66, 0.2);
     }
     
     html {
         line-height: 1.5;
     }
    </style>

    
    

    
    
    
    
    <link rel="stylesheet" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css">
    
    <link rel="preload" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css" as="style">

    



    
        <style>
         
         /* Background */ .chroma { background-color: #ffffff }
/* Error */ .chroma .err { color: #a61717; background-color: #e3d2d2 }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; width: auto; overflow: auto; display: block; }
/* LineHighlight */ .chroma .hl { display: block; width: 100%;background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* LineNumbers */ .chroma .ln { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* Keyword */ .chroma .k { color: #000000; font-weight: bold }
/* KeywordConstant */ .chroma .kc { color: #000000; font-weight: bold }
/* KeywordDeclaration */ .chroma .kd { color: #000000; font-weight: bold }
/* KeywordNamespace */ .chroma .kn { color: #000000; font-weight: bold }
/* KeywordPseudo */ .chroma .kp { color: #000000; font-weight: bold }
/* KeywordReserved */ .chroma .kr { color: #000000; font-weight: bold }
/* KeywordType */ .chroma .kt { color: #445588; font-weight: bold }
/* NameAttribute */ .chroma .na { color: #008080 }
/* NameBuiltin */ .chroma .nb { color: #0086b3 }
/* NameBuiltinPseudo */ .chroma .bp { color: #999999 }
/* NameClass */ .chroma .nc { color: #445588; font-weight: bold }
/* NameConstant */ .chroma .no { color: #008080 }
/* NameDecorator */ .chroma .nd { color: #3c5d5d; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #800080 }
/* NameException */ .chroma .ne { color: #990000; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #990000; font-weight: bold }
/* NameLabel */ .chroma .nl { color: #990000; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #555555 }
/* NameTag */ .chroma .nt { color: #000080 }
/* NameVariable */ .chroma .nv { color: #008080 }
/* NameVariableClass */ .chroma .vc { color: #008080 }
/* NameVariableGlobal */ .chroma .vg { color: #008080 }
/* NameVariableInstance */ .chroma .vi { color: #008080 }
/* LiteralString */ .chroma .s { color: #dd1144 }
/* LiteralStringAffix */ .chroma .sa { color: #dd1144 }
/* LiteralStringBacktick */ .chroma .sb { color: #dd1144 }
/* LiteralStringChar */ .chroma .sc { color: #dd1144 }
/* LiteralStringDelimiter */ .chroma .dl { color: #dd1144 }
/* LiteralStringDoc */ .chroma .sd { color: #dd1144 }
/* LiteralStringDouble */ .chroma .s2 { color: #dd1144 }
/* LiteralStringEscape */ .chroma .se { color: #dd1144 }
/* LiteralStringHeredoc */ .chroma .sh { color: #dd1144 }
/* LiteralStringInterpol */ .chroma .si { color: #dd1144 }
/* LiteralStringOther */ .chroma .sx { color: #dd1144 }
/* LiteralStringRegex */ .chroma .sr { color: #009926 }
/* LiteralStringSingle */ .chroma .s1 { color: #dd1144 }
/* LiteralStringSymbol */ .chroma .ss { color: #990073 }
/* LiteralNumber */ .chroma .m { color: #009999 }
/* LiteralNumberBin */ .chroma .mb { color: #009999 }
/* LiteralNumberFloat */ .chroma .mf { color: #009999 }
/* LiteralNumberHex */ .chroma .mh { color: #009999 }
/* LiteralNumberInteger */ .chroma .mi { color: #009999 }
/* LiteralNumberIntegerLong */ .chroma .il { color: #009999 }
/* LiteralNumberOct */ .chroma .mo { color: #009999 }
/* Operator */ .chroma .o { color: #000000; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #000000; font-weight: bold }
/* Comment */ .chroma .c { color: #999988; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #999988; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #999988; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #999988; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #999999; font-weight: bold; font-style: italic }
/* GenericDeleted */ .chroma .gd { color: #000000; background-color: #ffdddd }
/* GenericEmph */ .chroma .ge { color: #000000; font-style: italic }
/* GenericError */ .chroma .gr { color: #aa0000 }
/* GenericHeading */ .chroma .gh { color: #999999 }
/* GenericInserted */ .chroma .gi { color: #000000; background-color: #ddffdd }
/* GenericOutput */ .chroma .go { color: #888888 }
/* GenericPrompt */ .chroma .gp { color: #555555 }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa }
/* GenericTraceback */ .chroma .gt { color: #aa0000 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #bbbbbb }

         
         /* Overrides on top of the theme and Chroma CSS */
/* Chroma-based lines highlighting in code blocks */
.chroma .hl {
    background-color: #e8e8e8;
    /* Extend highlight up to 100 characters (assuming that the code blocks never have more than 100 characters in a line) */
    min-width: 100ch;
}
/* GenericHeading */ .chroma .gh { color: #999999; font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa; font-weight: bold }

         
        </style>
    

    

    
    
    

    
    <script src="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js"></script>
    
    <link rel="preload" href="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js" as="script">

    
    
    <script defer src="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js"></script>
    
    <link rel="preload" href="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js" as="script">

    

    

    
    
    

    
    
<!-- rel="me" links for IndieAuth -->







    
 
<meta property="og:title" content="焉知非鱼" />
<meta property="og:description"
      content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/" />


    
        <meta property="og:updated_time" content="2022-12-27T00:00:00&#43;00:00"/>
    












     <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="焉知非鱼"/>
<meta name="twitter:description" content=""/>


    
    
    <link rel="alternate" type="application/rss+xml" href="http://localhost:1313/index.xml" title="Rss for 焉知非鱼" />
    <link rel="alternate" type="application/atom+xml" href="http://localhost:1313/atom.xml" title="Atom for 焉知非鱼" />
    <link rel="alternate" type="application/jf2feed+json" href="http://localhost:1313/jf2feed.json" title="Jf2feed for 焉知非鱼" />
    
     






    
    
    
    <meta name="hugo-build-date" content="2024-03-01T16:16:06Z"/>
    <meta name="hugo-commit-hash" content="312735366b20d64bd61bff8627f593749f86c964"/>
    <meta name="generator" content="Hugo 0.123.7">
</head>


    
        <body lang="en">
    

        
        <div class="border" id="home"></div>

        <div class="wrapper">   
            
<nav id="nav" class="nav-collapse opened" aria-hidden="false">
    <ul class="navbar">
        <li><a class="active" href="/">Home</a></li>
        
            
                <li><a class="" href="http://localhost:1313/posts/">Posts</a></li>
            
        
            
                <li><a class="" href="http://localhost:1313/notes/">Notes</a></li>
            
        
            
                <li><a class="" href="http://localhost:1313/rakulang/">Rakulang</a></li>
            
        
        
            <li><a class="" href="http://localhost:1313/search/">Search</a></li>
        
    </ul>
</nav>

            <div class="container">
                <header class="masthead">
                    <div class="masthead-title no-text-decoration">
                        <a href="/">焉知非鱼</a> <span class="blinking-cursor">❚</span>
                    </div>
                    <div class="masthead-tagline">
                        Wait the light to fall
                    </div>
                </header>

                

<div class="posts h-feed">
    <header>
        
        <data class="u-url" value="http://localhost:1313/"></data>
         





        <data class="p-name" value="焉知非鱼"></data>
    </header>
    
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/use-carton-for-your-mojolicious-app-deployment/'> 第二十二天 - 使用 Carton 进行 Mojolicious 应用程序部署</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-22T14:29:15+0000" class="dt-published">Sat Dec 22, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>你有一个可爱的Mojolicious应用程序，它是时候部署它了！
但是&hellip;&hellip;它不能在生产服务器上运行！到底是怎么回事？哦，不，您所依赖的模块与开发服务器上的版本不同。你能做什么？
实际上，一些模块发展得很快（Hello Mojolicious！），这没有毛病，但可能会导致不兼容的变化。
还有一些可以在版本中解决或引入的错误，如果您的版本错误，则会遇到这些错误。
Cpanfile来救援 Cpanfile是一种用于描述Perl应用程序的CPAN依赖关系的格式。
有了cpanfile，我们可以列出我们需要的模块，但我们也可以强制模块的最小版本，它们的最大版本&hellip;&hellip;或者说“我想要那个模块的确切版本”。
但我们也可以列出可选模块：您可以支持不同的数据库，但如果用户想要使用PostgreSQL，则不必安装与MySQL相关的模块。
这是一个例子cpanfile：
# Do not ask for a specific version requires &#39;DateTime&#39;; # Ask a specific version requires &#39;Plack&#39;, &#39;== 1.0&#39;; # Ask a minimal version requires &#39;Net::DNS&#39;, &#39;&gt;= 1.12&#39;; # Or requires &#39;Net::DNS&#39;, &#39;1.12&#39;; # Ask a maximal version requires &#39;Locale::Maketext&#39;, &#39;&lt; 1.28&#39;; # Give a range requires &#39;Mojolicious&#39;, &#39;&gt;= 7.0, &lt; 8.0&#39;; # Optional modules feature &#39;postgresql&#39;, &#39;PostgreSQL support&#39; =&gt; sub { requires &#39;Mojo::Pg&#39;; }; feature &#39;mysql&#39;, &#39;MySQL support&#39; =&gt; sub { requires &#39;Mojo::mysql&#39;; }; feature &#39;ldap&#39;, &#39;LDAP authentication support&#39; =&gt; sub { requires &#39;Net::LDAP&#39;; }; Cpanfile格式可以做更多（推荐模块，用于特定阶段（需求configure，test&hellip;），使用没有公布关于CPAN &hellip;模块），但是这是一个关于 Carton 的文章：我让你读cpanfile文档🙂</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='http://localhost:1313/notes/use-carton-for-your-mojolicious-app-deployment/'
               title="Read more about 第二十二天 - 使用 Carton 进行 Mojolicious 应用程序部署">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第二十二天 - 使用 Carton 进行 Mojolicious 应用程序部署</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/reversing-a-file-with-raku/'> 🎄 22/25. 使用 Raku 反转文件</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-22T10:10:35+0000" class="dt-published">Sat Dec 22, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>欢迎来到Raku One-Liner Advent Calendar的第22天！今天，我们将继续使用文件，今天的目标是创建一个单行程序以相反的顺序打印文本文件的行（如tail -r那样）。
第一个单行程序使用 STDIN 流完成工作：
.say for $*IN.lines.reverse 运行程序为：
$ raku reverse.pl &lt; text.txt 如果要直接从Raku读取文件，请稍微修改程序以从命令行参数创建文件句柄：
.say for @*ARGS[0].IO.open.lines.reverse 现在运行如下：
$ raku reverse.pl text.txt 重要的是要记住，lines方法的默认行为是从最后的行序列中排除换行符（该方法返回Seq对象，而不是数组或列表）。它可能与你在使用Perl 5时习惯的方式相反。使用chomp是一种常见的做法。
在Raku中，lines方法根据IO::Handle对象的nl-in 属性中存储的值来拆分行。
您可以使用以下小脚本查看行分隔符的当前值：
dd $_ for @*ARGS[0].IO.open.nl-in 这是您默认找到的内容：
$[&#34;\n&#34;, &#34;\r\n&#34;] 有趣的是，你可以控制的 lines 的行为，并告诉 Perl 不排除换行符：
@*ARGS[0].IO.open(chomp =&gt; False).lines.reverse.put 该 chomp 属性由默认设置为 True。您还可以更改默认分隔符：
@*ARGS[0].IO.open( nl-in =&gt; &#34;\r&#34;, chomp =&gt; False ).lines.reverse.put 请注意，如果没有 chomping，则不需要对行进行显式的for循环：在最后两个单行中，直接在序列对象上调用.put方法。在早期版本中，字符串不包含换行符，因此它们将打印为单个长行。
今天我将给你留一些小功课：告诉 say 和 put 之间的差异。
明天见！</p>

    </div>

    
    
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/a-little-christmas-template-cooking/'> 第二十一天 - 一个小小的圣诞节模板烹饪</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-21T20:46:54+0000" class="dt-published">Fri Dec 21, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>Advent Calendar向您展示了许多使用Mojolicious的好方法，因为您已经安装了Mojo，所以除了Web处理之外，您还可以使用它。今天的配方使用模板渲染引擎进行Web响应之外的其他操作。
首先，处理一些字符串模板。这是使用v5.26中发布的波浪形heredoc语法从Mojo::Template中取出的一个示例
use Mojo::Template; my $mt = Mojo::Template-&gt;new; say $mt-&gt;render(&lt;&lt;~&#39;EOF&#39;); % use Time::Piece; &lt;div&gt; % my $now = localtime; Time: &lt;%= $now-&gt;hms %&gt; &lt;/div&gt; EOF 带有前导百分号的行是Perl代码。其中一行加载模块，Time::Piece，另一行创建变量$now。该&lt;%= %&gt;插入值内联。您可以自己找出其他模板语法; 这些都在模块文档中。
您可以将其反转，以便值的来源来自模板外部。有时，这比在让表示层中有太多逻辑更可取：
use v5.26; use Mojo::Template; my $mt = Mojo::Template-&gt;new; use Time::Piece; my $now = localtime; say $mt-&gt;render(&lt;&lt;~&#39;EOF&#39;, $now-&gt;hms ); % my $time = shift; &lt;div&gt; Time: &lt;%= $time %&gt; &lt;/div&gt; EOF 如上所示，默认情况下，参数以位置方式传递给模板。然而，通过名称而不是位置来描述变量更为自然。该vars属性打开您将哈希传递给模板的能力; 哈希键成为模板本身的变量名。
use v5.26; use Mojo::Template; my $mt = Mojo::Template-&gt;new-&gt;vars(1); use Time::Piece; my $now = localtime; say $mt-&gt;render(&lt;&lt;~&#39;EOF&#39;, { time =&gt; $now-&gt;hms } ); &lt;div&gt; Time: &lt;%= $time %&gt; &lt;/div&gt; EOF 从文件（或许多文件）中获取该模板同样容易。这是我以前使用Template Toolkit执行此操作的一种方式，这是一个非常精细且功能强大的模块，与以前一样好。但是，我已经在使用了Mojo的很多东西，它已经有了一个模板引擎。我可以减少依赖计数并专注于一种模板语言。</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='http://localhost:1313/notes/a-little-christmas-template-cooking/'
               title="Read more about 第二十一天 - 一个小小的圣诞节模板烹饪">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第二十一天 - 一个小小的圣诞节模板烹饪</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/start-a-flink-app/'> 开始第一个 Flink 应用程序</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-21T13:30:29+0000" class="dt-published">Fri Dec 21, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>创建一个 Flink 应用程序的样板 mvn archetype:generate \ -DarchetypeGroupId=org.apache.flink \ -DarchetypeArtifactId=flink-quickstart-scala \ -DarchetypeVersion=1.6.0 \ -DarchetypeRepository=http://maven.aliyun.com/nexus/content/groups/public 开始 我有一个 Spark 应用程序, 我想把它转为 Flink 应用。在 Spark 应用里我读取 Kafka 中的消息为 DStream, 然后打印出来。我们使用 Flink 来做同样的事情。为了方便起见, 我们使用本地模式:
首先启动一个本地的 Flink 集群
/usr/local/Cellar/apache-flink/1.7.0/libexec/bin/start-cluster.sh 然后在 pom 文件中添加入口类(可选)：
&lt;mainClass&gt;ohmysummer.BigdataApplication&lt;/mainClass&gt; 然后启动这个应用：(如果是其它的 object, 使用 flink run -c className)
flink run ./target/stream-word-count-1.0-SNAPSHOT.jar 打开浏览器, 输入网址: localhost:8081 查看 job 的运行状态, 即使你 Ctrl-C 了 flink 提交命令, 依然可以看见任务在运行。如果要取消, 在 UI 界面找到任务后点击 Cancel。
或查看输出：
tail -f /usr/local/Cellar/apache-flink/1.7.0/libexec/log/flink-&lt;whoami&gt;-taskexecutor-0-&lt;hostname&gt;.out 停止集群：
/usr/local/Cellar/apache-flink/1.7.0/libexec/bin/stop-cluster.sh </p>

    </div>

    
    
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/merging-files-horizontally-in-raku/'> 🎄 21/25. 在 Raku 中水平地合并文件</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-21T09:23:06+0000" class="dt-published">Fri Dec 21, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>欢迎来到Raku One-Liner Advent Calendar的第21天！到本季即将结束的日历只剩下几天了，所以让我们在剩下的日子里收集尽可能多的东西，今天我们将几个文件合并到一个文件中 🙂
我们今天的目标是获取两个（或三个或更多）文件并逐行复制其内容。例如，我们想要合并两个日志文件，知道它们的所有行都相互对应。
文件 a.txt：
2018/12/20 11:16:13 2018/12/20 11:17:58 2018/12/20 11:19:18 2018/12/20 11:24:30 文件 b.txt：
&#34;/favicon.ico&#34; failed (No such file) &#34;/favicon.ico&#34; failed (No such file) &#34;/robots.txt&#34; failed (No such file) &#34;/robots.txt&#34; failed (No such file) 我们的第一个单行程序阐述了这个想法：
.say for [Z~] @*ARGS.map: *.IO.lines; 假设程序运行如下：
$ raku merge.pl a.txt b.txt 对于命令行中的每个文件名（@*.ARGS.map），将创建一个IO::Path对象（.IO），并读取文件中的行（.lines）。
在两个文件的情况下，我们有两个序列，然后使用应用了连接中缀~的zip元运算符Z逐行连接。
在那一步之后，我们得到另一个序列，我们可以逐行打印（.say for）。
2018/12/20 11:16:13&#34;/favicon.ico&#34; failed (No such file) 2018/12/20 11:17:58&#34;/favicon.ico&#34; failed (No such file) 2018/12/20 11:19:18&#34;/robots.txt&#34; failed (No such file) 2018/12/20 11:24:30&#34;/robots.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='http://localhost:1313/notes/merging-files-horizontally-in-raku/'
               title="Read more about 🎄 21/25. 在 Raku 中水平地合并文件">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 🎄 21/25. 在 Raku 中水平地合并文件</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/testing-dancer/'> 测试 Dancer</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-20T16:16:47+0000" class="dt-published">Thu Dec 20, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>Dancer（及其他）PSGI 应用程序的作者很可能习惯于测试与Plack::Test，虽然这是一个崇敬的选择，这是很裸机。
在去年出现的过程中，我写了一篇关于Test::Mojo的文章，展示了许多简单易用（我敢说）有趣的方法，你可以用它来测试你的Mojolicious应用程序。如果你错过了，那就去看看吧。
我希望至少有一些人能够阅读并思考，“我很乐意使用它，但我不会使用Mojolicious！”; 好吧，你很幸运！只需要一点角色来弥补差距，你也可以使用Test::Mojo来测试你的PSGI应用程序！
安装PSGI应用程序 Mojolicious本身不使用PSGI协议，因为它没有提供某些特性，而且某些异步操作也是必需的。也就是说，你可以使用Mojo::Server::PSGI在PSGI服务器上提供Mojolicious应用程序。当你的基于Mojolicious的应用程序检测到它已在PSGI服务器（例如plackup或Starman）下启动时，将自动使用此Mojolicious核心模块。
虽然在Mojo应用程序和PSGI服务器之间进行转换是核心功能，但相反，在PSGI应用程序和Mojolicious服务器（或应用程序，如你所见）之间进行转换可作为第三方模块使用。Mojolicious::Plugin::MountPSGI，顾名思义，可以将PSGI应用程序安装到基于Mojolicious的应用程序中。为此，它构建了一个新的，空的Mojolicious应用程序，在将任何请求转移到PSGI环境之前，将其转移到任何mount-ed应用程序。
使用Test::Mojo进行测试 一旦你能做到这一点，采用PSGI应用程序，用MountPSGI包装它，并将其设置为与Test::Mojo一起使用的应用程序是微不足道的。尽管如此，为了让它变得更加容易，在Test::Mojo::Role::PSGI中已经完成了所有这些工作。
与任何Mojolicious Role一样，我们可以使用应用角色with_roles创建（主要是匿名）子类。你可以使用快捷方式+代替Test::Mojo::Role::。
use Test::Mojo; my $class = Test::Mojo-&gt;with_roles(&#39;+PSGI&#39;); 然后使用PSGI应用程序的路径实例化该角色，或者使用PSGI应用程序本身。
由于你使用的是角色，这些角色都与组合有关，因此你还可以应用可能在CPAN上找到的其他角色。
一个例子 作为一个例子，假设我们有一个简单的应用程序脚本（命名app.psgi），可以以不同的方式渲染 &quot;hello world&quot;或&quot;hello $user&quot; 。我将允许纯文本响应，JSON和模板化HTML（使用简单的模板来保持这种简洁）。
use Dancer2; set template =&gt; &#39;simple&#39;; set views =&gt; &#39;.&#39;; any &#39;/text&#39; =&gt; sub { my $name = param(&#39;name&#39;) // &#39;world&#39;; send_as plain =&gt; &#34;hello $name&#34;; }; any &#39;/data&#39; =&gt; sub { my $name = param(&#39;name&#39;) // &#39;world&#39;; send_as JSON =&gt; { hello =&gt; $name }; }; any &#39;/html&#39; =&gt; sub { my $name = param(&#39;name&#39;) // &#39;world&#39;; template &#39;hello&#39; =&gt; { name =&gt; $name }; }; start; 而模板（hello.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='http://localhost:1313/notes/testing-dancer/'
               title="Read more about 测试 Dancer">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 测试 Dancer</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/using-command-line-options-in-raku-one-liners/'> 🎄 20/25. 在 Raku 单行程序中使用命令行选项</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-20T09:13:47+0000" class="dt-published">Thu Dec 20, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>欢迎来到 Raku One-Liner Advent Calendar 的第20天！到目前为止，我们创建了大约25种不同的单行程序，但从未讨论过Rakudo Raku编译器为我们提供的命令行选项。
-e 使用（Rakudo）Raku时的第一个选项是-e。它需要一个带有Raku单行程序的字符串并立即执行。
例如，打印当前Raku规范的版本：
$ raku -e&#39;$ * PERL.version.say&#39; v6.c 注意不要使用Perl 5.10+样式的大写字母 -E，它与-e相同，但也激活诸如 say 之类的功能。在Raku中，选项始终为小写。
-n 此选项为每行输入数据重复运行代码。当您想要处理文件时，这非常方便。例如，这是一个单行程序，将行中的值相加并打印总和：
raku -ne&#39;say [+] .split(&#34; &#34;)&#39; data.txt 如果data.txt文件包含以下内容：
10 20 30 40 1 2 3 4 5 6 7 8 然后单行程序的结果是：
100 10 26 这与你是否使用shell的输入重定向没有区别; 以下单行程序也有效：
raku -ne&#39;say [+] .split(&#34; &#34;)&#39; &lt; data.txt 确保将 e 选项放在选项列表中的最后一个（因此，不是raku -en'...'）或拆分选项：raku -n -e'...'。
-p 此选项类似于-n，但在每次迭代后打印主题变量。
以下单行程序反转文件中的行并将其打印到控制台：
raku -npe&#39;.=flip&#39; data.txt 对于相同的输入文件，结果将如下所示：
04 03 02 01 4 3 2 1 8 7 6 5 请注意，您必须更新$_变量，因此键入.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='http://localhost:1313/notes/using-command-line-options-in-raku-one-liners/'
               title="Read more about 🎄 20/25. 在 Raku 单行程序中使用命令行选项">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 🎄 20/25. 在 Raku 单行程序中使用命令行选项</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/git%E5%92%8Cssh%E7%AC%94%E8%AE%B0/'> ssh 和 git 笔记</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-19T16:16:21+0000" class="dt-published">Wed Dec 19, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>把旧电脑上的 .ssh 目录拷贝到新电脑上, 继续使用之前的 ssh 免密码登录提示 「权限不够或需要输入密码」， 解决办法：
chmod 755 ~/.ssh/ chmod 600 ~/.ssh/id_rsa ~/.ssh/id_rsa.pub chmod 644 ~/.ssh/known_hosts git 回滚 git log # 查看提交的 commit 历史 git reset –hard 8ff24a6803173208f3e606e32dfcf82db9ac84d8 git 瘦身 http://blog.mallol.cn/如何给git仓库瘦身删除大文件.html
git pull 不输入密码 # vi .git/config [remote &#34;origin&#34;] url = https://Username:Password@github.com/myRepoDir/myRepo.git scp 复制文件 - 权限拒绝 ssh 可以登陆，但是 scp 复制文件时却不行：
$ sudo scp -P 52113 ubuntu@123.206.136.59:/tmp/*.txt . Permission denied (publickey) 在 ~/.ssh/config 文件中添加：
Host 123.206.136.59 IdentityFile ~/.ssh/ohmycloud </p>

    </div>

    
    
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/you-only-export-twice/'> 你只需导出俩次</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-19T16:16:21+0000" class="dt-published">Wed Dec 19, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>我的Yancy文档站点已经构建，具有自定义登录页面和POD查看器，我只需要部署该站点。我可以使用hypnotoad部署网站，Mojolicious的preforking服务器进行热部署，但这需要我有一台服务器并保持在线。如果我可以像Github一样部署静态网站，就像所有酷炫的人一样，那就好多了。
但要做到这一点，我需要把我的动态网站变成一个静态网站，这是不可能的！真的是吗？为什么我问我自己，我就是那个开辟道路的人：Mojolicious导出命令。
export 命令将一组路径作为输入，获取这些页面，并将结果写入目录。然后它会查看这些页面上的所有链接并编写这些页面。通过这种方式，它将整个 Mojolicious 网站导出为静态文件。
我需要做的就是能够使用 export 命令来安装它：
$ cpanm Mojolicious::Command::export 一旦安装完毕，我们现在在我们的应用程序中有了 export 命令，我可以像任何其他 Mojolicious 命令一样使用它。
$ ./myapp.pl export 默认情况下，export命令尝试导出主页（/）并从那里递归工作。如果我的页面没有从其他地方链接，我应该（a）可能添加一些指向该页面的链接，但是（b）可以将它添加到要导出的页面列表中：
$ ./myapp.pl export / /private 由于我在我的个人网站的目录下托管这个网站，我需要使用该--base选项重写所有内部链接到正确的路径，我可以使用该--to选项直接写入Web服务器的目录：
$ ./myapp.pl export --base /yancy --to /var/www/preaction.me/yancy 而且，如果我愿意，我可以使用Mojolicious Config插件 来更改默认设置，包括要导出的页面，导出目录和 base URL。
最好的部分是export命令处理重定向。因此，当我们使用PODViewer插件并重定向到MetaCPAN时，页面会根据重定向的位置进行更新！
将来，如果将此命令设置为插件，以便它可以具有用于自定义导出内容的钩子或对断开链接的附加检查，那将是很好的。如果有人有兴趣帮助完成这项工作，请告诉我，我可以帮助他们开始工作！
现在，通过Yancy CMS，PODViewer插件和Mojolicious导出命令，我为Yancy提供了一个好看的文档网站！查看完整的应用程序。</p>

    </div>

    
    
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='http://localhost:1313/notes/redis/'> 给 redis 设置密码</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="http://localhost:1313/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-19T16:16:21+0000" class="dt-published">Wed Dec 19, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>brew install redis
To have launchd start redis now and restart at login: brew services start redis Or, if you don&#39;t want/need a background service you can just run: redis-server /usr/local/etc/redis.conf 可以编辑 /usr/local/etc/redis.conf， 设置 redis 密码 requirepass
启动：
# redis-server redis-server /usr/local/etc/redis.conf 127.0.0.1:6379&gt; pfadd mykey a b c (integer) 1 127.0.0.1:6379&gt; pfcount mykey (integer) 3 127.0.0.1:6379&gt; pfadd mykey2 a b c c d (integer) 1 127.0.0.1:6379&gt; pfcount mykey2 (integer) 4 127.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='http://localhost:1313/notes/redis/'
               title="Read more about 给 redis 设置密码">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 给 redis 设置密码</span>
            </a>
        </div>
    
</article>
      
    
</div>



                <footer>
                    

<div class="pagination no-text-decoration">
    
        <a class="pagination-item newer" href="/page/33/">Newer</a>
    
    
        <a class="pagination-item older" href="/page/35/">Older</a>
    
</div>




                    <ul class="no-bullets feed right inline">
    
        
        
            <li class="inline no-text-decoration">
                <a href="http://localhost:1313/index.xml">RSS</a>
            </li>
        
    
        
        
            <li class="inline no-text-decoration">
                <a href="http://localhost:1313/atom.xml">ATOM</a>
            </li>
        
    
        
        
    
</ul>
<div class="clear-float"></div>

                </footer>
                <hr />
            </div>               

            <footer> 
                

<ul class="social no-text-decoration">
    
</ul>










 
    
    



<p class="generated no-text-decoration">
    Generated using  <a href="https://gitlab.com/kaushalmodi/hugo-theme-refined"><code class="nobr">hugo-theme-refined</code></a> + <span class="nobr">Hugo <a href="https://github.com/gohugoio/hugo/commit/312735366b20d64bd61bff8627f593749f86c964">0.123.7</a></span>
</p>

<p>
    
</p>




<div class="badges no-text-decoration">
    
    

    
</div>




<script type="application/javascript">var nav=responsiveNav("#nav");</script>




<script defer src="/js/libs/fragmentions/wrapper.min.e8c468c89edc4f5dccaa8c720c6b220b3088a16cd7b1e4a1e3345985788260c9.js"></script>









            </footer>
        </div> 
    </body>
</html>

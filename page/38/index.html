<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">

    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
    
    
    

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

    
    <meta name="referrer" content="no-referrer">

    <title>
        
            焉知非鱼 ❚
        
    </title>

    
    


    
    
    
    

    
    
    
    

    
    
    

    
    
    
    <style>
     
     
     :root {
         --theme-color: #ac4142;
         --theme-color-light: rgba(172, 65, 66, 0.2);
     }
     
     html {
         line-height: 1.5;
     }
    </style>

    
    

    
    
    
    
    <link rel="stylesheet" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css">
    
    <link rel="preload" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css" as="style">

    



    
        <style>
         
         /* Background */ .chroma { background-color: #ffffff }
/* Error */ .chroma .err { color: #a61717; background-color: #e3d2d2 }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; width: auto; overflow: auto; display: block; }
/* LineHighlight */ .chroma .hl { display: block; width: 100%;background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* LineNumbers */ .chroma .ln { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* Keyword */ .chroma .k { color: #000000; font-weight: bold }
/* KeywordConstant */ .chroma .kc { color: #000000; font-weight: bold }
/* KeywordDeclaration */ .chroma .kd { color: #000000; font-weight: bold }
/* KeywordNamespace */ .chroma .kn { color: #000000; font-weight: bold }
/* KeywordPseudo */ .chroma .kp { color: #000000; font-weight: bold }
/* KeywordReserved */ .chroma .kr { color: #000000; font-weight: bold }
/* KeywordType */ .chroma .kt { color: #445588; font-weight: bold }
/* NameAttribute */ .chroma .na { color: #008080 }
/* NameBuiltin */ .chroma .nb { color: #0086b3 }
/* NameBuiltinPseudo */ .chroma .bp { color: #999999 }
/* NameClass */ .chroma .nc { color: #445588; font-weight: bold }
/* NameConstant */ .chroma .no { color: #008080 }
/* NameDecorator */ .chroma .nd { color: #3c5d5d; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #800080 }
/* NameException */ .chroma .ne { color: #990000; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #990000; font-weight: bold }
/* NameLabel */ .chroma .nl { color: #990000; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #555555 }
/* NameTag */ .chroma .nt { color: #000080 }
/* NameVariable */ .chroma .nv { color: #008080 }
/* NameVariableClass */ .chroma .vc { color: #008080 }
/* NameVariableGlobal */ .chroma .vg { color: #008080 }
/* NameVariableInstance */ .chroma .vi { color: #008080 }
/* LiteralString */ .chroma .s { color: #dd1144 }
/* LiteralStringAffix */ .chroma .sa { color: #dd1144 }
/* LiteralStringBacktick */ .chroma .sb { color: #dd1144 }
/* LiteralStringChar */ .chroma .sc { color: #dd1144 }
/* LiteralStringDelimiter */ .chroma .dl { color: #dd1144 }
/* LiteralStringDoc */ .chroma .sd { color: #dd1144 }
/* LiteralStringDouble */ .chroma .s2 { color: #dd1144 }
/* LiteralStringEscape */ .chroma .se { color: #dd1144 }
/* LiteralStringHeredoc */ .chroma .sh { color: #dd1144 }
/* LiteralStringInterpol */ .chroma .si { color: #dd1144 }
/* LiteralStringOther */ .chroma .sx { color: #dd1144 }
/* LiteralStringRegex */ .chroma .sr { color: #009926 }
/* LiteralStringSingle */ .chroma .s1 { color: #dd1144 }
/* LiteralStringSymbol */ .chroma .ss { color: #990073 }
/* LiteralNumber */ .chroma .m { color: #009999 }
/* LiteralNumberBin */ .chroma .mb { color: #009999 }
/* LiteralNumberFloat */ .chroma .mf { color: #009999 }
/* LiteralNumberHex */ .chroma .mh { color: #009999 }
/* LiteralNumberInteger */ .chroma .mi { color: #009999 }
/* LiteralNumberIntegerLong */ .chroma .il { color: #009999 }
/* LiteralNumberOct */ .chroma .mo { color: #009999 }
/* Operator */ .chroma .o { color: #000000; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #000000; font-weight: bold }
/* Comment */ .chroma .c { color: #999988; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #999988; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #999988; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #999988; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #999999; font-weight: bold; font-style: italic }
/* GenericDeleted */ .chroma .gd { color: #000000; background-color: #ffdddd }
/* GenericEmph */ .chroma .ge { color: #000000; font-style: italic }
/* GenericError */ .chroma .gr { color: #aa0000 }
/* GenericHeading */ .chroma .gh { color: #999999 }
/* GenericInserted */ .chroma .gi { color: #000000; background-color: #ddffdd }
/* GenericOutput */ .chroma .go { color: #888888 }
/* GenericPrompt */ .chroma .gp { color: #555555 }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa }
/* GenericTraceback */ .chroma .gt { color: #aa0000 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #bbbbbb }

         
         /* Overrides on top of the theme and Chroma CSS */
/* Chroma-based lines highlighting in code blocks */
.chroma .hl {
    background-color: #e8e8e8;
    /* Extend highlight up to 100 characters (assuming that the code blocks never have more than 100 characters in a line) */
    min-width: 100ch;
}
/* GenericHeading */ .chroma .gh { color: #999999; font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa; font-weight: bold }

         
        </style>
    

    

    
    
    

    
    <script src="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js"></script>
    
    <link rel="preload" href="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js" as="script">

    
    
    <script defer src="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js"></script>
    
    <link rel="preload" href="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js" as="script">

    

    

    
    
    

    
    
<!-- rel="me" links for IndieAuth -->







    
 
<meta property="og:title" content="焉知非鱼" />
<meta property="og:description"
      content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://ohmycloud.github.io/" />


    
        <meta property="og:updated_time" content="2022-12-27T00:00:00&#43;00:00"/>
    












     <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="焉知非鱼"/>
<meta name="twitter:description" content=""/>


    
    
    <link rel="alternate" type="application/rss+xml" href="https://ohmycloud.github.io/index.xml" title="Rss for 焉知非鱼" />
    <link rel="alternate" type="application/atom+xml" href="https://ohmycloud.github.io/atom.xml" title="Atom for 焉知非鱼" />
    <link rel="alternate" type="application/jf2feed+json" href="https://ohmycloud.github.io/jf2feed.json" title="Jf2feed for 焉知非鱼" />
    
     






    
    
    
    <meta name="hugo-build-date" content="2024-03-01T16:16:06Z"/>
    <meta name="hugo-commit-hash" content="312735366b20d64bd61bff8627f593749f86c964"/>
    <meta name="generator" content="Hugo 0.123.7">
</head>


    
        <body lang="en">
    

        
        <div class="border" id="home"></div>

        <div class="wrapper">   
            
<nav id="nav" class="nav-collapse opened" aria-hidden="false">
    <ul class="navbar">
        <li><a class="active" href="/">Home</a></li>
        
            
                <li><a class="" href="https://ohmycloud.github.io/posts/">Posts</a></li>
            
        
            
                <li><a class="" href="https://ohmycloud.github.io/notes/">Notes</a></li>
            
        
        
            <li><a class="" href="https://ohmycloud.github.io/search/">Search</a></li>
        
    </ul>
</nav>

            <div class="container">
                <header class="masthead">
                    <div class="masthead-title no-text-decoration">
                        <a href="/">焉知非鱼</a> <span class="blinking-cursor">❚</span>
                    </div>
                    <div class="masthead-tagline">
                        Wait the light to fall
                    </div>
                </header>

                

<div class="posts h-feed">
    <header>
        
        <data class="u-url" value="https://ohmycloud.github.io/"></data>
         





        <data class="p-name" value="焉知非鱼"></data>
    </header>
    
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/notes/use-spark-to-read-hbase/'> 使用 Spark 读取 HBase</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-10T16:16:21+0000" class="dt-published">Mon Dec 10, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>package wmstat.trip import org.apache.log4j.{Level, Logger} import org.apache.spark.sql.execution.datasources.hbase._ import org.apache.spark.sql.functions._ import org.apache.spark.sql.{DataFrame, SparkSession} import scopt.OptionParser import wmutils.WmTimeUtil._ import scala.collection.mutable.ArrayBuffer /** * 提交方式 * spark2-submit --name HBASE-CONNECTOR --files /etc/hbase/conf/hbase-site.xml --class wmhbase.MileageAnxiety --master yarn --deploy-mode client --driver-memory 2g --driver-cores 2 --executor-memory 2g --executor-cores 1 --num-executors 2 wmanxiety-1.0-SNAPSHOT.jar --day 20180810 --repartition 500 --interval 7 */ object MileageAnxiety { def cat = s&#34;&#34;&#34;{ |&#34;table&#34;:{&#34;namespace&#34;:&#34;default&#34;, &#34;name&#34;:&#34;trip_signal&#34;, &#34;tableCoder&#34;:&#34;PrimitiveType&#34;}, |&#34;rowkey&#34;:&#34;key&#34;, |&#34;columns&#34;:{ |&#34;rowkey&#34; :{&#34;cf&#34;:&#34;rowkey&#34;, &#34;col&#34;:&#34;key&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;vin&#34; :{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;vin&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;tripStatus&#34; :{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;tripStatus&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;tripStartTime&#34;:{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;tripStartTime&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;tripEndTime&#34; :{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;tripEndTime&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;tripDistance&#34; :{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;tripDistance&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;startSoc&#34; :{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;startSoc&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;endSoc&#34; :{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;endSoc&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;maxSpeed&#34; :{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;maxSpeed&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;startMileage&#34; :{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;startMileage&#34;, &#34;type&#34;:&#34;string&#34;}, |&#34;coordinate&#34; :{&#34;cf&#34;:&#34;info&#34;, &#34;col&#34;:&#34;coordinate&#34;, &#34;type&#34;:&#34;string&#34;} |} |}&#34;&#34;&#34;.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/notes/use-spark-to-read-hbase/'
               title="Read more about 使用 Spark 读取 HBase">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 使用 Spark 读取 HBase</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry posts">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/posts/66.system-interaction/'> 系统交互</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-10T21:13:31+0800" class="dt-published">Mon Dec 10, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>通过命令行获取参数 最简单的方法是使用 @*ARGS 变量从命令行获取参数;此数组将包含程序名称后面的字符串。 %*ENV 将包含环境变量，因此如果您使用：
export API_KEY=1967196417966160761fabc1511067 ./consume_api.p6 您可以通过以下方式在程序中使用它们：
my $api-key = %*ENV&lt;API_KEY&gt; // die &#34;Need the API key&#34;; 如果先前未定义环境变量 API_KEY，则此操作将失败。
Raku 有一个更好的方法来处理命令行参数，如果它们代表文件名：那么使用 $*ARGFILES 动态变量。
for $*ARGFILES.lines -&gt; $l { say &#34;Long lines in {$*ARGFILES.path}&#34; if $l.chars &gt; 72 ; } 例如，你可以用 argf​​iles.p6 *.p6 的方式运行这个程序，每次找到一个超过72个字符的行时，它就会打印一个文件名。 $*ARGFILES 包含命令行中描述的所有文件的文件句柄 - .lines 将依次读取每行文件的一行，每次处理新句柄时都会更改 $*ARGFILES.path 的值。通常，它为处理文件集的脚本提供了非常方便的 API。
以交互方式获取参数 使用 prompt 让一个正在运行的程序向用户查询数据：
my UInt $num-iters = prompt &#34;How many iterations to run: &#34;; 同步和异步运行程序 运行外部程序有两个例程：run 和 shell。两者都存在于 IO 角色中，因此包含在混合该角色的所有类中，如 IO::Path。两者都返回一个 Proc 对象，但主要区别在于 run 会尽可能避免系统 shell，而 shell 会通过默认系统 shell 运行命令。</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/posts/66.system-interaction/'
               title="Read more about 系统交互">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 系统交互</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/notes/reduction-operator-in-raku/'> 🎄 10/25. Raku 中的化简运算符</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-10T09:52:14+0000" class="dt-published">Mon Dec 10, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>欢迎来到 Raku One-Liner Advent Calendar 的第10天！今天，将有三个单行命令而不是一个。
我们今天的客人是一个带有方括号的化简结构。当它们不包围数组索引时，它们就工作在完全不同的领域中了。
例 1 最经典的例子，也是 Raku Calendar 2019，使用化简运算符来计算阶乘：
say [*] 1..2019 Raku 中的 [ ] 是一个化简元运算符。名字里面的的「元」告诉我们它可以用作另一个运算符的包层（顺便说一句，不仅仅是作用于运算符）。
在第一个示例中，该运算符包含另一个运算符，并且可以通过将范围注册到列表并将 * 放在其所有元素之间来重写整行：
say 1 * 2 * 3 #`(more elements) * 2018 * 2019 例2 现在，让我们解决欧拉项目的问题5，我们需要找到最小的数字，这个数字可以被从1到20的所有数字整除。
让我在 Raku 中给你一个直接的答案：
say [lcm] 1..20 此代码看起来与前面的示例非常相似，但使用另一个运算符 lcm 例程，它是 Raku 中的中缀运算符。这个名字代表最小公倍数，但在文档中你还可以读到它返回这两个参数都可以被整除的最小整数。几乎相同的词，用于表达我们要解决的问题。
say 1 lcm 2 lcm 3 lcm 4 lcm 5 lcm 6 lcm 7 # ... and up to 20 例子3 其他已经内置在 Raku 中的中缀运算符也可以非常高效。这是一个只用几个代码字符旋转矩阵的例子：</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/notes/reduction-operator-in-raku/'
               title="Read more about 🎄 10/25. Raku 中的化简运算符">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 🎄 10/25. Raku 中的化简运算符</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/notes/add-a-theme-system-to-your-mojolicious-app/'> 第九天 - 为你的 Mojolicious 应用添加主题系统</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-09T22:40:29+0000" class="dt-published">Sun Dec 9, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>你写了一个很棒的Mojolicious应用程序，人们使用它。奇妙！但是用户可能想要修改应用程序的主题：更改徽标，使用其他CSS框架，这类事情。
修改Mojolicious应用程序的主题非常简单：在公共和模板中添加，修改或删除内容。但是所有这些直接修改可能无法在更新应用程序时继续存在：它们只会被新版本的文件删除。
让我们看看我们如何提供一种在Mojolicious应用程序中拥有主题系统的方法，该方法允许用户在没有痛苦的情况下拥有自定义主题，并且没有丢失更新的风险。
一个新的应用程序 当您使用mojo生成MyApplication创建新的Mojolicious应用程序时，这些是将提供文件及其默认内容的默认目录：
$ tree public templates public └── index.html templates ├── example │ └── welcome.html.ep └── layouts └── default.html.ep 2 directories, 3 files public是存储静态文件的地方，而templates是存储模板的地方。
这些路径在$ app-&gt; static-&gt; paths和$ app-&gt; renderer-&gt; paths中的Mojolicious应用程序中注册。幸运的是，这两个对象是数组引用，因此我们可以向它们添加或删除目录。
当提供静态文件时，我们的应用程序在$ app-&gt; static-&gt; paths数组的第一个目录中搜索该文件，如果找不到它，则搜索下一个目录，依此类推。模板渲染也是如此。
让我们改变路由 我们可以将公共模板和模板默认目录保存在应用程序目录的根目录下，但我喜欢在一个名为themes的目录中重新组合所有与主题相关的东西并调用我的默认主题&hellip;好吧，默认。
创建新目录并在其中移动默认主题目录：
$ mkdir -p themes/default $ mv public templates themes/default 然后，我们需要更改应用程序中的路径。在 lib/MyApplication.pm 中添加：
# Replace the default paths $self-&gt;renderer-&gt;paths([$self-&gt;home-&gt;rel_file(&#39;themes/default/templates&#39;)]); $self-&gt;static-&gt;paths([$self-&gt;home-&gt;rel_file(&#39;themes/default/public&#39;)]); 添加使用其他主题的方法 如前所述，Mojolicious在已注册路径的第一个目录中搜索静态文件或模板，如果找不到文件或模板则转到下一个。
因此，我们需要在默认主题路径之前添加新主题路径。
假设我们创建了一个圣诞主题，其中文件位于主题/圣诞节/公共内容中，哪些模板位于主题/圣诞节/模板中。
我们要添加到代码中的代码段变为：
# Replace the default paths $self-&gt;renderer-&gt;paths([$self-&gt;home-&gt;rel_file(&#39;themes/default/templates&#39;)]); $self-&gt;static-&gt;paths([$self-&gt;home-&gt;rel_file(&#39;themes/default/public&#39;)]); # Put the new theme first unshift @{$self-&gt;renderer-&gt;paths}, $self-&gt;home-&gt;rel_file(&#39;themes/christmas/templates&#39;); unshift @{$self-&gt;static-&gt;paths}, $self-&gt;home-&gt;rel_file(&#39;themes/christmas/public&#39;); 通过这种方式，我们可以重载默认文件。</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/notes/add-a-theme-system-to-your-mojolicious-app/'
               title="Read more about 第九天 - 为你的 Mojolicious 应用添加主题系统">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第九天 - 为你的 Mojolicious 应用添加主题系统</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry posts">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/posts/65.syntax/'> 语法</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-09T21:13:31+0800" class="dt-published">Sun Dec 9, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>Raku 借用了人类语言中的许多概念。考虑到它是由语言学家设计的，这并不奇怪。
它重用不同语境中的共同元素，具有名词（术语）和动词（运算符）的概念，是上下文敏感的（在日常意义上，不一定在计算机科学解释中），因此符号可以具有不同的含义取决于名词或动词是否是预期的。
它也是自同步的，因此解析器可以检测大多数常见错误并提供良好的错误消息。
词法约定 Raku 代码是 Unicode 文本。当前的实现支持 UTF-8 作为输入编码。
也参阅 Unicode versus ASCII symbols.
自由形式 Raku 代码也是自由格式的，从某种意义上说，你可以自由选择你使用的空格量，尽管在某些情况下，空格的存在与否具有意义。
所以你可以写
if True { say &#34;Hello&#34;; } 或
if True { say &#34;Hello&#34;; # Bad indentation intended } 或
if True { say &#34;Hello&#34; } 或者甚至
if True {say &#34;Hello&#34;} 虽然你不能省略任何剩余的空白。
Unspace 在编译器不允许空格的许多地方，只要用反斜杠引用，就可以使用任意数量的空格。不支持 token 中的空格。当编译器生成行号时，未空格的换行仍然计算。用于非空格的用例是后缀运算符和例程参数列表的分离。
sub alignment(+@l) { +@l }; sub long-name-alignment(+@l) { +@l }; alignment\ (1,2,3,4).say; long-name-alignment(3,5)\ .say; say Inf+Inf\i; 在这种情况下，我们的目的是让 .</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/posts/65.syntax/'
               title="Read more about 语法">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 语法</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/notes/more-one-x/'> 🎄 9/25. 关于 X 的更多东西, Raku 中的 .. 和 …</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-09T10:04:43+0000" class="dt-published">Sun Dec 9, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>欢迎来到 Raku One-Liner Advent Calendar 的第9天！ 在第6天，我们有一个带有交叉算子的构造，(999...100) X* (999...100)。 今天，我们将从11月开始进入类似的结构：
1..10 X* 1..10 它打印乘积表的项，数字从1到10：
(1 2 3 4 5 6 7 8 9 10 2 4 6 8 10 12 14 16 18 20 3 6 9 12 15 18 21 24 27 30 4 8 12 16 20 24 28 32 36 40 5 10 15 20 25 30 35 40 45 50 6 12 18 24 30 36 42 48 54 60 7 14 21 28 35 42 49 56 63 70 8 16 24 32 40 48 56 64 72 80 9 18 27 36 45 54 63 72 81 90 10 20 30 40 50 60 70 80 90 100) 关于这样的结构，有几点需要了解。</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/notes/more-one-x/'
               title="Read more about 🎄 9/25. 关于 X 的更多东西, Raku 中的 .. 和 …">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 🎄 9/25. 关于 X 的更多东西, Raku 中的 .. 和 …</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/notes/authenticating-with-ldap/'> 第八天 - 使用 LDAP 进行身份验证</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-08T22:24:09+0000" class="dt-published">Sat Dec 8, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>仍然有不少人在生产中使用LDAP，但对于那些不熟悉它的人来说，LDAP是一个具有树结构的目录，该树结构针对非常快速的查找进行了优化。它曾经是非常常见的集中式身份验证系统，如果您使用的是Active Directory，那么您（主要是）使用LDAP。我漫游在身份验证的荒野中，最后是我的解决方案，如何将LDAP身份验证添加到您的应用程序。
这篇文章是基于我在2018年伦敦Perl研讨会上发表的一篇演讲。我们有点乐观地认为他们会在圣诞节之前编辑所有视频，但我们希望能有一种顿悟。 LDAP只是验证周期的一小部分，所以这篇文章对于你必须编写自己的凭证检查器的情况来说相当好。哦，这篇文章的谈话和写作完全符合我的意图和提出的问题，我没有考虑过这些问题。结果，它开始像爱丽丝的餐厅一样，没有完整的编排和五部分和谐。我希望这个警示故事可以帮助你避免陷入同样的​​陷阱。
在此期间，请参加MojoConf 2018的Lightning Talk。
路由 - lib/MyApp.pm
首先，一个忏悔。我从未真正进入过Lite Apps。我知道很容易将它们发展为完整的应用程序，但是当我开始并且从未回到它时，我面临着制定解决方案的压力。结果是这篇文章是关于认证一个完整的应用程序，并不像其他帖子谈论他们的Lite应用程序那样苗条。
直接进入，我们假设您已经在模板中有一个登录页面，并且它有一个将数据发布到/ login的表单。如果你有这样的路线
$r-&gt;post(&#39;/login&#39;)-&gt;name(&#39;do_login&#39;)-&gt;to(&#39;Secure#on_user_login&#39;); 将凭据发送到您的控制器。或者，如果你对命名路线很酷，你的模板可能会包含这一行
&lt;form action=&#34;&lt;%= url_for &#39;do_login&#39; %&gt;&#34; method=&#34;POST&#34;&gt; 专业提示：你甚至可以简化它
%= form_for &#39;do_login&#39; 如果路由只处理POST，它会为您完成所有操作，包括方法。
控制器 - lib / MyApp / Controller / Secure.pm 让我们从 Mojolicious Cookbook 中汲取灵感。
package MyApp::Controller::Secure; use Mojo::Base &#39;Mojolicious::Controller&#39;; sub on_user_login { my $self = shift; my $username = $self-&gt;param(&#39;username&#39;); my $password = $self-&gt;param(&#39;password&#39;); if (check_credentials($username, $password)) { $self-&gt;render(text =&gt; &#39;Hello Bender!&#39;); } else { $self-&gt;render( text =&gt; &#39;&lt;h2&gt;Login failed&lt;/h2&gt;&lt;a href=&#34;/login&#34;&gt;Try again&lt;/a&gt;&#39;, format =&gt; &#39;html&#39;, status =&gt; 401 ); } } sub check_credentials { my ($username, $password) = @_; return $username eq &#39;Bender&#39; &amp;&amp; $password eq &#39;rocks&#39;; } 存储密码 - MojoX::Auth::Simple 我们同意硬编码用户名和密码是不可持续的。如果您可以连接到数据库，Perl DBI 模块可以连接的任何数据库，那么您可能会认为 MojoX::Auth::Simple 将解决您的问题。进一步阅读将告诉您它只提供帮助方法 log_in，is_logged_in 和 log_out，这些方法对于身份验证周围的所有内容都很有用，但对身份验证本身不起作用。但是，既然您现在正在使用数据库，那么您可以将 check_credentials 更改为比这更好的东西（wot是在周五下午制作而未经过测试）</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/notes/authenticating-with-ldap/'
               title="Read more about 第八天 - 使用 LDAP 进行身份验证">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第八天 - 使用 LDAP 进行身份验证</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry posts">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/posts/64.subscripts/'> 下标</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-08T21:13:31+0800" class="dt-published">Sat Dec 8, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>Subscripts 通过索引或键访问数据结构中的元素。
通常，人们需要引用集合或数据结构中的一个特定的元素（或特定的元素切片）。从数学标记法中偷学到的，向量 v 的组成部分用 v₁, v₂, v₃ 来引用，在 Raku 中这个概念叫做 “下标” （或“索引”）。
Basics Raku 提供了两个通用的下标接口：
elements are identified by interface name supported by [ ]	zero-based indices	Positional Array, List, Buf, Match, ... { }	string or object keys Associative Hash, Bag, Mix, Match, ... Positional 下标 (通过 postcircumfix [ ] 通过元素在有序集合中的位置来寻址元素。)索引 0 引用第一个元素， 索引 1 引用第二个元素， 以此类推： my @chores = &#34;buy groceries&#34;, &#34;feed dog&#34;, &#34;wash car&#34;; say @chores[0]; #-&gt; buy groceries say @chores[1]; #-&gt; feed dog say @chores[2]; #-&gt; wash car Associative 下标 (通过 postcircumfix { }), 不要求集合以任何特定的顺序保存元素 - 相反，它使用一个唯一的键来寻址每个值。键的种类取决于使用的集合： 举个例子， 一个标准的散列 使用字符串作为键， 而一个 Mix 能使用任意的对象作为键， 等等: my %grade = Zoe =&gt; &#34;C&#34;, Ben =&gt; &#34;B+&#34;; say %grade{&#34;Zoe&#34;}; #-&gt; C say %grade{&#34;Ben&#34;}; #-&gt; B+ my $stats = ( Date.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/posts/64.subscripts/'
               title="Read more about 下标">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 下标</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/notes/adding-up-even-fibonacci-numbers-in-perl-6/'> 🎄 8/25. 在 Raku 中加总偶数斐波纳契数</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-08T11:08:09+0000" class="dt-published">Sat Dec 8, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>欢迎来到今年的 Raku One-Liner Advent Calendar 的第8天。 它大约是整个系列的 ¼，并且不要忘记你可以在 Raku 中键入 ¼ 而不是0.25！
今天，我们正在解决欧拉项目的问题2。 任务是找到所有偶数斐波纳契数都低于四百万的数字的总和。
这是完整的答案：
(1, 1, * + * ... * &gt; 4_000_000).grep(* %% 2).sum.say 从左侧或右侧解析代码同样有趣。 我们从左边开始吧。
在第一个圆括号内，我们生成一个斐波纳契数序列，从两个1开始，每个跟随的数字是前两个数之和。 在 Raku 中，您可以使用 WhateverCode 块表达它：* + * 相当于 {$^a + $^b}。
Raku 序列的一个鲜为人知的特征是最终条件。 在许多例子中，你会看到裸星或 Inf。 在我们的示例中，我们使用显式的上边界限制序列。
请注意，您不能简单地写成这样：
1, 1, * + * ... 4_000_000 要更好地将其可视化，请尝试更小的限制，例如100：
&gt; (1, 1, * + * ... 100) (1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 当序列越过我们想要的边界时，Raku 没有停止，并继续生成数字。 只有当序列的下一个计算元素完全等于给定数字时，它才会停止它，例如：</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/notes/adding-up-even-fibonacci-numbers-in-perl-6/'
               title="Read more about 🎄 8/25. 在 Raku 中加总偶数斐波纳契数">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 🎄 8/25. 在 Raku 中加总偶数斐波纳契数</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmycloud.github.io/notes/metacpan-mojolicious-and-openapi/'> 第七天 - MetaCPAN, Mojolicious 和 OpenAPI</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2018-12-07T22:16:24+0000" class="dt-published">Fri Dec 7, 2018</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>在这几年meta :: hack 3中，我非常幸运地与Joel Berger合作，通过Mojolicious将OpenAPI与MetaCPAN API集成/记录。
它是什么？ OpenAPI是用于设计，记录，验证和驱动RESTful API的规范。它可用于为现有API提供文档，或者在创建新API时提供文档。
OpenAPI规范起源于Swagger规范，并重命名为将API描述格式（OpenAPI）与开源工具（Swagger）分开。该规范已移至新的GitHub存储库，但未更改。
对于MetaCPAN API，我们开始提供现有API的文档，但很快也转向支持API调用的验证。
工具 OpenAPI有许多可用的工具可供帮助，包括有助于编写规范的发现工具。我们选择手动编写定义（当然是vim）并使用工具生成文档并将规范集成到MetaCPAN中。
ReDoc - OpenAPI / Swagger生成的API参考文档 ReDoc创建一个交互式页面，根据OpenAPI规范文件中提供的详细信息提供文档和示例。 ReDoc包含一个HTML模板，用作静态文件，用于自定义文档的显示方式。
Mojolicious :: Plugin :: OpenAPI - Mojolicious的OpenAPI / Swagger插件 读取OpenAPI规范文件，并为基于Mojolicious的应用程序添加适当的路由和验证。
JSON :: Validator - 根据JSON模式验证数据 集成到Mojolicious :: Plugin :: OpenAPI模块中，提供输入和输出验证，以及为规范文件本身提供验证。
入门 在实现MetaCPAN OpenAPI规范时使用以下策略。
OpenAPI 规范文件 通过支持多行属性值，可以更轻松地以更少的格式进行读写，我们选择了YAML。还支持JSON。
# Define the version of the OpenAPI spec to use. Version 2.0 still uses # swagger as the key swagger: &#34;2.0&#34; # general information about the API info: version: &#34;1.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmycloud.github.io/notes/metacpan-mojolicious-and-openapi/'
               title="Read more about 第七天 - MetaCPAN, Mojolicious 和 OpenAPI">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第七天 - MetaCPAN, Mojolicious 和 OpenAPI</span>
            </a>
        </div>
    
</article>
      
    
</div>



                <footer>
                    

<div class="pagination no-text-decoration">
    
        <a class="pagination-item newer" href="/page/37/">Newer</a>
    
    
        <a class="pagination-item older" href="/page/39/">Older</a>
    
</div>




                    <ul class="no-bullets feed right inline">
    
        
        
            <li class="inline no-text-decoration">
                <a href="https://ohmycloud.github.io/index.xml">RSS</a>
            </li>
        
    
        
        
            <li class="inline no-text-decoration">
                <a href="https://ohmycloud.github.io/atom.xml">ATOM</a>
            </li>
        
    
        
        
    
</ul>
<div class="clear-float"></div>

                </footer>
                <hr />
            </div>               

            <footer> 
                

<ul class="social no-text-decoration">
    
</ul>










 
    
    



<p class="generated no-text-decoration">
    Generated using  <a href="https://gitlab.com/kaushalmodi/hugo-theme-refined"><code class="nobr">hugo-theme-refined</code></a> + <span class="nobr">Hugo <a href="https://github.com/gohugoio/hugo/commit/312735366b20d64bd61bff8627f593749f86c964">0.123.7</a></span>
</p>

<p>
    
</p>




<div class="badges no-text-decoration">
    
    

    
</div>




<script type="application/javascript">var nav=responsiveNav("#nav");</script>




<script defer src="/js/libs/fragmentions/wrapper.min.e8c468c89edc4f5dccaa8c720c6b220b3088a16cd7b1e4a1e3345985788260c9.js"></script>









            </footer>
        </div> 
    </body>
</html>

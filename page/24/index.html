<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">

    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
    
    
    

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

    
    <meta name="referrer" content="no-referrer">

    <title>
        
            焉知非鱼 ❚
        
    </title>

    
    


    
    
    
    

    
    
    
    

    
    
    

    
    
    
    <style>
     
     
     :root {
         --theme-color: #ac4142;
         --theme-color-light: rgba(172, 65, 66, 0.2);
     }
     
     html {
         line-height: 1.5;
     }
    </style>

    
    

    
    
    
    
    <link rel="stylesheet" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css">
    
    <link rel="preload" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css" as="style">

    



    
        <style>
         
         /* Background */ .chroma { background-color: #ffffff }
/* Error */ .chroma .err { color: #a61717; background-color: #e3d2d2 }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; width: auto; overflow: auto; display: block; }
/* LineHighlight */ .chroma .hl { display: block; width: 100%;background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* LineNumbers */ .chroma .ln { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* Keyword */ .chroma .k { color: #000000; font-weight: bold }
/* KeywordConstant */ .chroma .kc { color: #000000; font-weight: bold }
/* KeywordDeclaration */ .chroma .kd { color: #000000; font-weight: bold }
/* KeywordNamespace */ .chroma .kn { color: #000000; font-weight: bold }
/* KeywordPseudo */ .chroma .kp { color: #000000; font-weight: bold }
/* KeywordReserved */ .chroma .kr { color: #000000; font-weight: bold }
/* KeywordType */ .chroma .kt { color: #445588; font-weight: bold }
/* NameAttribute */ .chroma .na { color: #008080 }
/* NameBuiltin */ .chroma .nb { color: #0086b3 }
/* NameBuiltinPseudo */ .chroma .bp { color: #999999 }
/* NameClass */ .chroma .nc { color: #445588; font-weight: bold }
/* NameConstant */ .chroma .no { color: #008080 }
/* NameDecorator */ .chroma .nd { color: #3c5d5d; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #800080 }
/* NameException */ .chroma .ne { color: #990000; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #990000; font-weight: bold }
/* NameLabel */ .chroma .nl { color: #990000; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #555555 }
/* NameTag */ .chroma .nt { color: #000080 }
/* NameVariable */ .chroma .nv { color: #008080 }
/* NameVariableClass */ .chroma .vc { color: #008080 }
/* NameVariableGlobal */ .chroma .vg { color: #008080 }
/* NameVariableInstance */ .chroma .vi { color: #008080 }
/* LiteralString */ .chroma .s { color: #dd1144 }
/* LiteralStringAffix */ .chroma .sa { color: #dd1144 }
/* LiteralStringBacktick */ .chroma .sb { color: #dd1144 }
/* LiteralStringChar */ .chroma .sc { color: #dd1144 }
/* LiteralStringDelimiter */ .chroma .dl { color: #dd1144 }
/* LiteralStringDoc */ .chroma .sd { color: #dd1144 }
/* LiteralStringDouble */ .chroma .s2 { color: #dd1144 }
/* LiteralStringEscape */ .chroma .se { color: #dd1144 }
/* LiteralStringHeredoc */ .chroma .sh { color: #dd1144 }
/* LiteralStringInterpol */ .chroma .si { color: #dd1144 }
/* LiteralStringOther */ .chroma .sx { color: #dd1144 }
/* LiteralStringRegex */ .chroma .sr { color: #009926 }
/* LiteralStringSingle */ .chroma .s1 { color: #dd1144 }
/* LiteralStringSymbol */ .chroma .ss { color: #990073 }
/* LiteralNumber */ .chroma .m { color: #009999 }
/* LiteralNumberBin */ .chroma .mb { color: #009999 }
/* LiteralNumberFloat */ .chroma .mf { color: #009999 }
/* LiteralNumberHex */ .chroma .mh { color: #009999 }
/* LiteralNumberInteger */ .chroma .mi { color: #009999 }
/* LiteralNumberIntegerLong */ .chroma .il { color: #009999 }
/* LiteralNumberOct */ .chroma .mo { color: #009999 }
/* Operator */ .chroma .o { color: #000000; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #000000; font-weight: bold }
/* Comment */ .chroma .c { color: #999988; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #999988; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #999988; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #999988; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #999999; font-weight: bold; font-style: italic }
/* GenericDeleted */ .chroma .gd { color: #000000; background-color: #ffdddd }
/* GenericEmph */ .chroma .ge { color: #000000; font-style: italic }
/* GenericError */ .chroma .gr { color: #aa0000 }
/* GenericHeading */ .chroma .gh { color: #999999 }
/* GenericInserted */ .chroma .gi { color: #000000; background-color: #ddffdd }
/* GenericOutput */ .chroma .go { color: #888888 }
/* GenericPrompt */ .chroma .gp { color: #555555 }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa }
/* GenericTraceback */ .chroma .gt { color: #aa0000 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #bbbbbb }

         
         /* Overrides on top of the theme and Chroma CSS */
/* Chroma-based lines highlighting in code blocks */
.chroma .hl {
    background-color: #e8e8e8;
    /* Extend highlight up to 100 characters (assuming that the code blocks never have more than 100 characters in a line) */
    min-width: 100ch;
}
/* GenericHeading */ .chroma .gh { color: #999999; font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa; font-weight: bold }

         
        </style>
    

    

    
    
    

    
    <script src="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js"></script>
    
    <link rel="preload" href="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js" as="script">

    
    
    <script defer src="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js"></script>
    
    <link rel="preload" href="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js" as="script">

    

    

    
    
    

    
    
<!-- rel="me" links for IndieAuth -->







    
 
<meta property="og:title" content="焉知非鱼" />
<meta property="og:description"
      content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://ohmyweekly.github.io/" />


    
        <meta property="og:updated_time" content="2022-12-27T00:00:00&#43;00:00"/>
    












     <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="焉知非鱼"/>
<meta name="twitter:description" content=""/>


    
    
    <link rel="alternate" type="application/rss+xml" href="https://ohmyweekly.github.io/index.xml" title="Rss for 焉知非鱼" />
    <link rel="alternate" type="application/atom+xml" href="https://ohmyweekly.github.io/atom.xml" title="Atom for 焉知非鱼" />
    <link rel="alternate" type="application/jf2feed+json" href="https://ohmyweekly.github.io/jf2feed.json" title="Jf2feed for 焉知非鱼" />
    
     






    
    
    
    <meta name="hugo-build-date" content="2024-03-01T16:16:06Z"/>
    <meta name="hugo-commit-hash" content="312735366b20d64bd61bff8627f593749f86c964"/>
    <meta name="generator" content="Hugo 0.123.7">
</head>


    
        <body lang="en">
    

        
        <div class="border" id="home"></div>

        <div class="wrapper">   
            
<nav id="nav" class="nav-collapse opened" aria-hidden="false">
    <ul class="navbar">
        <li><a class="active" href="/">Home</a></li>
        
            
                <li><a class="" href="https://ohmyweekly.github.io/posts/">Posts</a></li>
            
        
            
                <li><a class="" href="https://ohmyweekly.github.io/notes/">Notes</a></li>
            
        
        
            <li><a class="" href="https://ohmyweekly.github.io/search/">Search</a></li>
        
    </ul>
</nav>

            <div class="container">
                <header class="masthead">
                    <div class="masthead-title no-text-decoration">
                        <a href="/">焉知非鱼</a> <span class="blinking-cursor">❚</span>
                    </div>
                    <div class="masthead-tagline">
                        Wait the light to fall
                    </div>
                </header>

                

<div class="posts h-feed">
    <header>
        
        <data class="u-url" value="https://ohmyweekly.github.io/"></data>
         





        <data class="p-name" value="焉知非鱼"></data>
    </header>
    
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/simplicity-made-easy/'> 简单化</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-07-03T22:25:40+0000" class="dt-published">Fri Jul 3, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>上周每周挑战的第二个任务是列出某年每个月最后一个星期五的日期。
许多参与者花了很大的力气来创建高效而准确的解决方案：跟踪每个月的最后一天，正确检测闰年，计算出特定日期的月日公式，管理所需的复杂日期运算。
但是，鉴于 Raku 中内置了强大的 Date 类，这些令人钦佩的劳作其实大部分都没有必要。
整个任务可以通过简单地从给定年份的1月1日到12月31日来完成，首先检查每个日期是否是星期五（即&quot;星期几&quot;的值是5），然后检查下一个星期五（即正好一周后的日期）是否恰好在不同的月份。
如果这两个条件都为真，那么我们就有一个&quot;本月最后一个星期五&quot;，所以我们只需打印出来。
换句话说:
for Date.new($year,1,1) .. Date.new($year,12,31) -&gt; $date { if $date.day-of-week == 5 &amp;&amp; $date.later(:1week).month != $date.month { say $date; } } 我们不需要明确地担心每个月有多长，一年是否是闰年，或者如何计算出某一天是否是星期五；Date 类为我们解决了所有这些问题。
而这不是运气，完全是设计好的。Raku 有大量类似这样的内置数据类型；它们是另一种&quot;合适的工具，就在手边&quot;。
当然，因为 Raku 是多范式的，所以有很多其他的方法可以将解决方案包裹在 Date 类的便利性中，这取决于你喜欢如何思考这个世界。
如果你喜欢纯韩式式的解决方案，可以这样写:
say join &#34;\n&#34;, grep { .later(:1week).month != .month }, grep { .day-of-week == 5 }, Date.new($year,1,1) .. Date.new($year,12,31); 或者你更喜欢一个（潜在的）并行的管道，然后通过一系列独立的过滤器和处理器来过滤日期序列:
Date.new($year,1,1) .. Date.new($year,12,31) ==&gt; grep( {.day-of-week == 5} ) ==&gt; grep( {.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/simplicity-made-easy/'
               title="Read more about 简单化">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 简单化</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/coding-with-an-even-fuller-toolset/'> 编程之更全面的工具集</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-07-03T22:24:34+0000" class="dt-published">Fri Jul 3, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>叹息。它总是这样，不是吗？
你很快就写完了关于拥有正确的工具如何使某一特定的编码任务变得微不足道&hellip;当你意识到，就在隔壁，有一个更好的例子，你可以用它来表达同样的观点。
我在上一篇文章中谈到的&quot;最长初始子路径&quot;的例子是上周每周挑战的第2项挑战。但那周的挑战1让我更清楚地看到，正确的工具可以简化一项任务。
挑战1是找到最小的不是质数的欧几里得数。第 N 个欧几里得数是由前 N 个质数的乘积加上1给出的。所以欧几里得数的序列是:
(2)+1, (2*3)+1, (2*3*5)+1, (2*3*5*7)+1, (2*3*5*7*11)+1, ... 如果有一个简单的方法来建立另一个列表的部分乘积的序列（例如质数的部分乘积），这个序列就很容易计算了:
(2), (2*3), (2*3*5), (2*3*5*7), (2*3*5*7*11), ... 当然，Raku 也有这样一个工具内置在核心语言中。它叫做三角还原元操作符。
在 Raku 中，一个普通的还原运算符(如 [*]):
$product = [*] @nums; 在列表的每两个元素之间插入方括号内的操作符，就像已经写好的一样:
$product = @nums[0] * @nums[1] * @nums[2] * ... * @nums[*-1]; 在这个例子中，这计算的是所有数字的乘积。
另一方面，三角还原元运算符(例如，&ldquo;三角积&quot;运算符：[/*]):
@products = [\*] @n; 或多或少地做了同样的事情，但它不是只返回最后的计算结果，而是从每一个连续的乘法步骤中返回一个部分结果的渐进列表，就像它被写的那样:
@products = (@n[0], @n[0]*@n[1], @n[0]*@n[1]*@n[2], ...); 这似乎是一个神秘而无用的功能，但是，当然，这正是我们实际需要的神秘而无用的功能，以便从质数列表中建立欧几里得数的列表。
记住，我们要找的是第一个非质数欧几里得数。也就是：从所有大于从2到无穷大的所有质数的累计部分乘积序列的数中，选出第一个非质数。
而这一描述，又一次直接转化为一行 Raku:
say first !*.is-prime, # Print the first non-prime from map *+1, # all numbers one greater than [\*] # the cumulative products of grep &amp;is-prime, # all the prime numbers 2.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/coding-with-an-even-fuller-toolset/'
               title="Read more about 编程之更全面的工具集">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 编程之更全面的工具集</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/coding-with-a-full-toolset/'> 编程之全套工具</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-07-03T22:22:59+0000" class="dt-published">Fri Jul 3, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>几年前，我在 Raku 中创建了一个关于 &ldquo;transparadigm 编程&quot;的演讲（以及后来的整个课程）。
基本的前提是，当一些语言限制你只能使用一个单一的锤子（或者更糟的是：一个装满锤子的盒子）时，Raku 被设计成一个完整的工具箱：整合了 OO、函数式、并发、声明式和过程式工具，使你能够为每个工作选择正确的组合。
最近，这个想法又在我脑海中全面浮现。在上周的每周挑战中，第二个任务是把文件路径列表，找到最长的共同初始子路径（即它们都共享的最深的目录）。
各个注册参与者提供的解决方案都非常简洁，而且通常既高效又优雅。然而他们中的大多数都是同一个程序解决方案的变体。在目录分隔符上拆分每条路径，然后对于1到N： 比较所有第N个组件，如果它们不一样就退出。类似于:
my @components = @list.map({.split(&#39;/&#39;)}; for 1..* -&gt; $n { next if all(@components).elems &gt; $n &amp;&amp; [~~] @components.values».[$n]; say @components.first.[0..$n-1].join(&#39;/&#39;); last; } 并不是说这种方法有什么不好。
只是感觉比实际需要的&quot;体力劳动&quot;多了很多；很多低级的程序化的&quot;告诉我怎么做&rdquo;，而不是高级的声明性或功能性的&quot;告诉我做什么&quot;。
当我自己来解决这个问题的时候，我是这样想的。
我的搜索空间是所有可能的初始子路径的所有路径。在这个空间内，我需要找到所有路径共享的最长的初始子路径。换句话说，我需要将每条路径转换成一组越来越长的子路径，然后找到这些集合的交集，再找到该交集中最长的元素。它可以直接翻译成 Raku，比如这样:
@list.map({m:ex{^.*\/}».Str}).reduce({$^a∩$^b}).keys.max(*.chars).say; 或（对于喜欢注释的人）喜欢这样:
@list\ # In the list... .map({m:ex{^ .* &#39;/&#39;}\ # Find all initial subpaths ».Str})\ # ...as lists of strings .reduce({$^a ∩ $^b})\ # Then find all shared subpaths .keys.max(*.chars)\ # Then find the longest .</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/coding-with-a-full-toolset/'
               title="Read more about 编程之全套工具">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 编程之全套工具</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/vigenere-vs-vigenere/'> 加密</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-07-03T20:27:15+0000" class="dt-published">Fri Jul 3, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>第15周挑战赛的第二个任务是实现 Vigenère 密码的编码器和解码器。但这比看起来要复杂一些，因为以 Blaise de Vigenère 命名的密码其实并不是他发明的，而 Vigenère 真正发明的密码也不是以他的名字命名的。
所以我们应该实现维根埃密码&hellip;还是维根埃的密码？为什么不两者兼而有之呢!
Vigenère 密码是由 Giovan Battista Bellaso 在1553年设计的，然后在大约三百年后被误认为是 Vigenère 发明的。它使用了一个 tabula rēcta 来将信息文本翻译成密码文本，然后再翻译回来。
给定一个用户提供的密钥（如 &ldquo;BELLASO&rdquo;），我们通过匹配密钥和信息中各自的字母来加密信息（如 &ldquo;VIGENEREDIDNOTINVENTTHIS&rdquo;），然后用它们作为两个索引，在 tabula rēcta 的相应列和行中查找相应的密文字符。而如果密钥比信息短，我们只需回收密钥，次数不限。
比如说:
Key: B E L L A S O B E L L A S O B E L L A S O B E L L A... Text: V I G E N E R E D I D N O T I N V E N T T H I S Table: ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ Cipher: W M R P N W F F H T O N G H J R G P N L H I M D 换句话说，tabula rēcta 的每一列都是一个独立的凯撒密码（或 ROT-N 转录），钥匙的每一个连续字母都会选择对信息中的相应字母进行哪种替换。</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/vigenere-vs-vigenere/'
               title="Read more about 加密">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 加密</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/infinite-work-is-lesss-work/'> 工欲善其事必先利其器</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-07-03T19:49:16+0000" class="dt-published">Fri Jul 3, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>上周每周挑战的第一个任务是打印前十个强质数和弱质数。如果一个质数 pn 大于其两个相邻质数的平均数（即 pₙ &gt; (pₙ₋₁+pₙ₊₁)/2），则该质数为&quot;强&quot;质数。如果一个质数小于其两个相邻质数的平均值，那么它就是&quot;弱&quot;质数。
当然，如果我们碰巧有一个所有质数的列表，这个挑战就变得微不足道了。那么我们只需要过滤掉前十个强数，和前十个弱数。事实上，如果我们碰巧有一个强质数的列表和一个弱质数的列表，那就更简单了。那我们就只需要打印出每个的前十个。
但是，质数和弱质数的数量是无限的（也有可能是强质数，虽然这还只是猜测），所以在大多数编程语言中建立一个完整的质数亚种列表是不切实际的。
然而，我喜欢 Raku 的另一个原因是它能很好地处理无限列表和序列。不用担心有限的上限，简化了大量的任务&hellip;这就是其中之一。
质数序列只是正整数序列，经过过滤（用 .grep）只保留那些质数。当然，Raku 已经有一个质数测试器：内置的 &amp;is-prime 函数。质数序列永远不会改变，所以我们可以把它声明为一个常数:
constant p = [ (1..∞).grep( &amp;is-prime ) ]; 现在我们只需要提取强质数和弱质数。鉴于前面的&quot;强&quot;和&quot;弱&quot;的定义，我们得到：
sub strong (\n) { n &gt; 0 &amp;&amp; p[n] &gt; p[n-1, n+1].sum/2 } sub weak (\n) { n &gt; 0 &amp;&amp; p[n] &lt; p[n-1, n+1].sum/2 } 请注意，p[n-1，n+1] 是 p[n] 的两个邻域的列表，然后我们把它们加在一起(.sum)和平均(/2)。
这两个强度测试是在质数的索引上操作的，而不是它的值，所以要生成强质数和弱质数的完整列表，我们需要取这些索引（p.keys），过滤它们，只保留强或弱的索引（另一个 .grep），然后将每个索引映射回对应的质数。
这就得到了：
constant strong-p = [ p.keys.grep(&amp;strong).map(-&gt;\n { p[n] }) ]; constant weak-p = [ p.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/infinite-work-is-lesss-work/'
               title="Read more about 工欲善其事必先利其器">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 工欲善其事必先利其器</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/as-simple-as-possible-but-no-simper/'> 越简单越好</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-07-03T17:24:52+0000" class="dt-published">Fri Jul 3, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>上周每周挑战的第一个任务是生成范埃克序列:
0, 0, 1, 0, 2, 0, 2, 2, 1, 6, 0, 5, 0, 2, 6, 5, 4, 0,... 第一个挑战是要理解什么是范埃克序列，因为网上的各种解释都没有即时的帮助。
范埃克序列是一个从零开始的整数列表，序列中的下一个数字由当前数字与该数字最近的前一个出现的距离给出。
例如，如果当前指数N处的数字（我们称它为：Aₙ）是7，那么为了计算指数N+1处的数字，我们通过序列回溯7的最近一次出现（在某个较早的指数M处）。那么序列中的下一个数字就是这两个7的出现之间的距离: N - M
唯一复杂的是，如果当前数字在前面的序列中没有出现，那么下一个数字就是零。这并不像你想象的那样武断：我们可以把这个零值看作是 Aₙ 到自身的距离。也就是说，如果没有前面的出现，那么&quot;前面&quot;出现的唯一可能的候选者只是 Aₙ 本身，所以这种情况下的距离是 N - N，也就是零。
好了，这就是范埃克序列。现在我们如何在 Raku 中生成它？
如果你一直在关注我最近的博客文章，那么了解到 Raku 有一个适当的内置工具，它将让我们通过一个单一的语句来完成整个任务，可能不会有太多的惊喜。这个工具就是序列运算符。
... 序列操作符接受一个初始值列表，然后是一个代码对象（即一个块或子例程），接着是一个终止条件。
my @sequence = @initial-list, &amp;code-obj ... $termination; 它从初始值开始建立一个序列（字面意思是 Seq 类的对象），然后通过在初始列表的最后元素上反复调用代码对象，在初始列表之后生成额外的值。每次调用代码对象时，它返回的值都会被追加到序列中，直到返回一个与终止条件智能匹配的值，这时序列就完成了。例如
# initial code-obj termination my @odd-nums = 1, 3, 5, {$^n + 2} ... 999; my @N-powers = $N, $N², {$^x * $N} .</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/as-simple-as-possible-but-no-simper/'
               title="Read more about 越简单越好">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 越简单越好</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/creating-packages/'> 创建包</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__programming__"
                                
                                
                                title="See all 0 posts categorized in ‘programming’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/programming/">programming</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__flutter__"
                                
                                
                                title="See all 0 posts tagged with ‘flutter’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/flutter/">flutter</a>
                            </li>
                        
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__packages__"
                                
                                
                                title="See all 0 posts tagged with ‘packages’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/packages/">packages</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-06-30T00:00:00+0000" class="dt-published">Tue Jun 30, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>Creating packages</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/creating-packages/'
               title="Read more about 创建包">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 创建包</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/publishing-packages/'> 发布包</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__programming__"
                                
                                
                                title="See all 0 posts categorized in ‘programming’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/programming/">programming</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__flutter__"
                                
                                
                                title="See all 0 posts tagged with ‘flutter’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/flutter/">flutter</a>
                            </li>
                        
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__packages__"
                                
                                
                                title="See all 0 posts tagged with ‘packages’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/packages/">packages</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-06-30T00:00:00+0000" class="dt-published">Tue Jun 30, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>Publishing packages</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/publishing-packages/'
               title="Read more about 发布包">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 发布包</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/write-http-clients/'> 编写HTTP客户端和服务器</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__programming__"
                                
                                
                                title="See all 0 posts categorized in ‘programming’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/programming/">programming</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__flutter__"
                                
                                
                                title="See all 0 posts tagged with ‘flutter’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/flutter/">flutter</a>
                            </li>
                        
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__client__"
                                
                                
                                title="See all 0 posts tagged with ‘client’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/client/">client</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-06-30T00:00:00+0000" class="dt-published">Tue Jun 30, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>Write HTTP clients &amp; servers</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/write-http-clients/'
               title="Read more about 编写HTTP客户端和服务器">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 编写HTTP客户端和服务器</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/how-to-use-packages/'> 如何使用包</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__programming__"
                                
                                
                                title="See all 0 posts categorized in ‘programming’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/programming/">programming</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__flutter__"
                                
                                
                                title="See all 0 posts tagged with ‘flutter’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/flutter/">flutter</a>
                            </li>
                        
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__packages__"
                                
                                
                                title="See all 0 posts tagged with ‘packages’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/packages/">packages</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2020-06-29T00:00:00+0000" class="dt-published">Mon Jun 29, 2020</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>Dart 包管理工具 - pub</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/how-to-use-packages/'
               title="Read more about 如何使用包">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 如何使用包</span>
            </a>
        </div>
    
</article>
      
    
</div>



                <footer>
                    

<div class="pagination no-text-decoration">
    
        <a class="pagination-item newer" href="/page/23/">Newer</a>
    
    
        <a class="pagination-item older" href="/page/25/">Older</a>
    
</div>




                    <ul class="no-bullets feed right inline">
    
        
        
            <li class="inline no-text-decoration">
                <a href="https://ohmyweekly.github.io/index.xml">RSS</a>
            </li>
        
    
        
        
            <li class="inline no-text-decoration">
                <a href="https://ohmyweekly.github.io/atom.xml">ATOM</a>
            </li>
        
    
        
        
    
</ul>
<div class="clear-float"></div>

                </footer>
                <hr />
            </div>               

            <footer> 
                

<ul class="social no-text-decoration">
    
</ul>










 
    
    



<p class="generated no-text-decoration">
    Generated using  <a href="https://gitlab.com/kaushalmodi/hugo-theme-refined"><code class="nobr">hugo-theme-refined</code></a> + <span class="nobr">Hugo <a href="https://github.com/gohugoio/hugo/commit/312735366b20d64bd61bff8627f593749f86c964">0.123.7</a></span>
</p>

<p>
    
</p>




<div class="badges no-text-decoration">
    
    

    
</div>




<script type="application/javascript">var nav=responsiveNav("#nav");</script>




<script defer src="/js/libs/fragmentions/wrapper.min.e8c468c89edc4f5dccaa8c720c6b220b3088a16cd7b1e4a1e3345985788260c9.js"></script>









            </footer>
        </div> 
    </body>
</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">

    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
    
    
    

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

    
    <meta name="referrer" content="no-referrer">

    <title>
        
            焉知非鱼 ❚
        
    </title>

    
    


    
    
    
    

    
    
    
    

    
    
    

    
    
    
    <style>
     
     
     :root {
         --theme-color: #ac4142;
         --theme-color-light: rgba(172, 65, 66, 0.2);
     }
     
     html {
         line-height: 1.5;
     }
    </style>

    
    

    
    
    
    
    <link rel="stylesheet" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css">
    
    <link rel="preload" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css" as="style">

    



    
        <style>
         
         /* Background */ .chroma { background-color: #ffffff }
/* Error */ .chroma .err { color: #a61717; background-color: #e3d2d2 }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; width: auto; overflow: auto; display: block; }
/* LineHighlight */ .chroma .hl { display: block; width: 100%;background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* LineNumbers */ .chroma .ln { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* Keyword */ .chroma .k { color: #000000; font-weight: bold }
/* KeywordConstant */ .chroma .kc { color: #000000; font-weight: bold }
/* KeywordDeclaration */ .chroma .kd { color: #000000; font-weight: bold }
/* KeywordNamespace */ .chroma .kn { color: #000000; font-weight: bold }
/* KeywordPseudo */ .chroma .kp { color: #000000; font-weight: bold }
/* KeywordReserved */ .chroma .kr { color: #000000; font-weight: bold }
/* KeywordType */ .chroma .kt { color: #445588; font-weight: bold }
/* NameAttribute */ .chroma .na { color: #008080 }
/* NameBuiltin */ .chroma .nb { color: #0086b3 }
/* NameBuiltinPseudo */ .chroma .bp { color: #999999 }
/* NameClass */ .chroma .nc { color: #445588; font-weight: bold }
/* NameConstant */ .chroma .no { color: #008080 }
/* NameDecorator */ .chroma .nd { color: #3c5d5d; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #800080 }
/* NameException */ .chroma .ne { color: #990000; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #990000; font-weight: bold }
/* NameLabel */ .chroma .nl { color: #990000; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #555555 }
/* NameTag */ .chroma .nt { color: #000080 }
/* NameVariable */ .chroma .nv { color: #008080 }
/* NameVariableClass */ .chroma .vc { color: #008080 }
/* NameVariableGlobal */ .chroma .vg { color: #008080 }
/* NameVariableInstance */ .chroma .vi { color: #008080 }
/* LiteralString */ .chroma .s { color: #dd1144 }
/* LiteralStringAffix */ .chroma .sa { color: #dd1144 }
/* LiteralStringBacktick */ .chroma .sb { color: #dd1144 }
/* LiteralStringChar */ .chroma .sc { color: #dd1144 }
/* LiteralStringDelimiter */ .chroma .dl { color: #dd1144 }
/* LiteralStringDoc */ .chroma .sd { color: #dd1144 }
/* LiteralStringDouble */ .chroma .s2 { color: #dd1144 }
/* LiteralStringEscape */ .chroma .se { color: #dd1144 }
/* LiteralStringHeredoc */ .chroma .sh { color: #dd1144 }
/* LiteralStringInterpol */ .chroma .si { color: #dd1144 }
/* LiteralStringOther */ .chroma .sx { color: #dd1144 }
/* LiteralStringRegex */ .chroma .sr { color: #009926 }
/* LiteralStringSingle */ .chroma .s1 { color: #dd1144 }
/* LiteralStringSymbol */ .chroma .ss { color: #990073 }
/* LiteralNumber */ .chroma .m { color: #009999 }
/* LiteralNumberBin */ .chroma .mb { color: #009999 }
/* LiteralNumberFloat */ .chroma .mf { color: #009999 }
/* LiteralNumberHex */ .chroma .mh { color: #009999 }
/* LiteralNumberInteger */ .chroma .mi { color: #009999 }
/* LiteralNumberIntegerLong */ .chroma .il { color: #009999 }
/* LiteralNumberOct */ .chroma .mo { color: #009999 }
/* Operator */ .chroma .o { color: #000000; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #000000; font-weight: bold }
/* Comment */ .chroma .c { color: #999988; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #999988; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #999988; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #999988; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #999999; font-weight: bold; font-style: italic }
/* GenericDeleted */ .chroma .gd { color: #000000; background-color: #ffdddd }
/* GenericEmph */ .chroma .ge { color: #000000; font-style: italic }
/* GenericError */ .chroma .gr { color: #aa0000 }
/* GenericHeading */ .chroma .gh { color: #999999 }
/* GenericInserted */ .chroma .gi { color: #000000; background-color: #ddffdd }
/* GenericOutput */ .chroma .go { color: #888888 }
/* GenericPrompt */ .chroma .gp { color: #555555 }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa }
/* GenericTraceback */ .chroma .gt { color: #aa0000 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #bbbbbb }

         
         /* Overrides on top of the theme and Chroma CSS */
/* Chroma-based lines highlighting in code blocks */
.chroma .hl {
    background-color: #e8e8e8;
    /* Extend highlight up to 100 characters (assuming that the code blocks never have more than 100 characters in a line) */
    min-width: 100ch;
}
/* GenericHeading */ .chroma .gh { color: #999999; font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa; font-weight: bold }

         
        </style>
    

    

    
    
    

    
    <script src="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js"></script>
    
    <link rel="preload" href="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js" as="script">

    
    
    <script defer src="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js"></script>
    
    <link rel="preload" href="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js" as="script">

    

    

    
    
    

    
    
<!-- rel="me" links for IndieAuth -->







    
 
<meta property="og:title" content="焉知非鱼" />
<meta property="og:description"
      content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://ohmyweekly.github.io/" />


    
        <meta property="og:updated_time" content="2022-12-27T00:00:00&#43;00:00"/>
    












     <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="焉知非鱼"/>
<meta name="twitter:description" content=""/>


    
    
    <link rel="alternate" type="application/rss+xml" href="https://ohmyweekly.github.io/index.xml" title="Rss for 焉知非鱼" />
    <link rel="alternate" type="application/atom+xml" href="https://ohmyweekly.github.io/atom.xml" title="Atom for 焉知非鱼" />
    <link rel="alternate" type="application/jf2feed+json" href="https://ohmyweekly.github.io/jf2feed.json" title="Jf2feed for 焉知非鱼" />
    
     






    
    
    
    <meta name="hugo-build-date" content="2024-03-01T16:16:06Z"/>
    <meta name="hugo-commit-hash" content="312735366b20d64bd61bff8627f593749f86c964"/>
    <meta name="generator" content="Hugo 0.123.7">
</head>


    
        <body lang="en">
    

        
        <div class="border" id="home"></div>

        <div class="wrapper">   
            
<nav id="nav" class="nav-collapse opened" aria-hidden="false">
    <ul class="navbar">
        <li><a class="active" href="/">Home</a></li>
        
            
                <li><a class="" href="https://ohmyweekly.github.io/posts/">Posts</a></li>
            
        
            
                <li><a class="" href="https://ohmyweekly.github.io/notes/">Notes</a></li>
            
        
        
            <li><a class="" href="https://ohmyweekly.github.io/search/">Search</a></li>
        
    </ul>
</nav>

            <div class="container">
                <header class="masthead">
                    <div class="masthead-title no-text-decoration">
                        <a href="/">焉知非鱼</a> <span class="blinking-cursor">❚</span>
                    </div>
                    <div class="masthead-tagline">
                        rakulang, dartlang, nimlang, golang, rustlang, lang lang no see
                    </div>
                </header>

                

<div class="posts h-feed">
    <header>
        
        <data class="u-url" value="https://ohmyweekly.github.io/"></data>
         





        <data class="p-name" value="焉知非鱼"></data>
    </header>
    
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/using-template-variants-for-a-beta-landing-page/'> 第七天 - 在 Beta 登陆页面中使用模板变量</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-12-07T23:28:13+0000" class="dt-published">Thu Dec 7, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p></p>

    </div>

    
    
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/adding-your-own-commands/'> 第六天 - 添加自己的命令</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-12-06T23:26:43+0000" class="dt-published">Wed Dec 6, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p></p>

    </div>

    
    
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/your-apps-built-in-commands/'> 第五天 - 你应用程序的内置命令</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-12-05T22:53:24+0000" class="dt-published">Tue Dec 5, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>我在本系列文章的开头提到，Mojolicious 应用程序不仅仅是 Web 服务器。然后，我展示了如何使用 daemon 守护程序或 prefork 命令启动 Web 服务器。在上一篇文章中，我提到了一个 inflate命令，它可以帮助您将应用程序从 Lite 增加到 Full。
但是，还有其他命令，内置在您的应用程序中，可以帮助您立即提高工作效率！
命令基础 在开始之前，我想简要讨论与 Mojolicious 发行版捆绑在一起的 mojo 应用程序/脚本。这个命令是一个很小的Mojolicious应用程序（实际上是另一个“hello world”），可以被认为是“空应用程序”。内置命令适用于您的应用程序和此null应用程序，因此请使用更合适的选项。当哪个应用程序运行命令无关紧要时，您可以使用 mojo。
每个命令都带有一行描述和一个（可能是多行）用法语句。要查看可用命令，请运行 mojo help，您将看到所有命令及其说明。你应该看到这样的东西：
$ mojo help Usage: APPLICATION COMMAND [OPTIONS] mojo version mojo generate lite_app ./myapp.pl daemon -m production -l http://*:8080 ./myapp.pl get /foo ./myapp.pl routes -v Tip: CGI and PSGI environments can be automatically detected very often and work without commands. Options (for all commands): -h, --help Get more information on a specific command --home &lt;path&gt; Path to home directory of your application, defaults to the value of MOJO_HOME or auto-detection -m, --mode &lt;name&gt; Operating mode for your application, defaults to the value of MOJO_MODE/PLACK_ENV or &#34;development&#34; Commands: cgi Start application with CGI cpanify Upload distribution to CPAN daemon Start application with HTTP and WebSocket server eval Run code against application generate Generate files and directories from templates get Perform HTTP request inflate Inflate embedded files to real files prefork Start application with pre-forking HTTP and WebSocket server psgi Start application with PSGI routes Show available routes test Run tests version Show versions of available modules See &#39;APPLICATION help COMMAND&#39; for more information on a specific command.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/your-apps-built-in-commands/'
               title="Read more about 第五天 - 你应用程序的内置命令">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第五天 - 你应用程序的内置命令</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/dont-fear-the-full-app/'> 第四天 - 不要害怕完整的应用程序</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-12-04T18:41:59+0000" class="dt-published">Mon Dec 4, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>关于Mojolicious最常见的误解之一是，我们目前看到的声明式“Lite”应用程序与大型结构化“完整”应用程序之间存在很大差异。没有东西会离事实很远。 Mojolicious::Lite 是一个非常小的包装器，围绕着所谓的“完整”应用程序架构，赋予它平易近人的关键字语法。
因为文档的简洁单文件示例要好得多，所以 Mojolicious 的大多数文档大多数时候都使用Lite语法。可以理解的是，即使一旦他们的应用程序受益于面向对象的结构，人们也会担心迁移（或者我们称之为“成长”）;毕竟所有的文档似乎都面向Lite应用程序。但是，让这些担忧消失，过渡很容易。一旦你理解了它，文档化的例子就很难翻译了。
此外，Mojolicious 在转换时提供两种形式的帮助。第一个是成长指南，涵盖了这篇文章的所有内容，但是从移植现有应用程序的角度来看（我不会在这里复制）。第二个是 inflate 命令，它甚至可以通过将模板从数据部分移动到自己的文件中来启动您的过程。
也就是说，为了进一步揭开神秘面纱的神秘面纱，我将介绍一些差异，并对Lite语法本身拉开帷幕。
让我说服你 在反复试图说服人们两者之间几乎没有什么区别后，我发现有一种非常好的方式来转变对话。我告诉他们代码。没有真正看一看。在撰写本文时，Mojolicious::Lite 只有37行代码（由David A. Wheeler的 SLOCCount计算的）！ 37 行代码有多大差异？
好了，现在你相信我，让我们谈谈这些差异。
脚本和类 在 Lite 脚本中，您的应用程序逻辑就位于脚本中。如果是一个完整的应用程序，你的逻辑进入一个单独的类，主要是在 startup 方法中，但删除 app-&gt;start 这一行。虽然方法（调用者）的第一个参数通常被称为 $self，你会看到，为了在本系列中保持清晰，我将始终使用 $app。所以我们有：
sub startup { my $app = shift; ... # the rest of what was your script } 与此同时，运行的脚本只是启动应用程序的几行。该脚本始终是相同的，与您的应用程序无关，而是要调用的类的名称。我只是使用成长指南末尾的那个。
关键词 现在代码生活在正确的位置，它需要被转换为面向对象。第一步是将逻辑放入一个名为 startup 的方法中，该方法将应用程序对象作为其第一个参数。
实际上有三种类型的关键字，即应用程序对象或应用程序上的方法，路由上的方法和 group。
app 关键字就是之前的调用，因此 app 成为 $app。关键字 helper，hook 和 plugin 只是 app 上的方法，所以 plugin ... 变成 $app-&gt;plugin(...) 等。</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/dont-fear-the-full-app/'
               title="Read more about 第四天 - 不要害怕完整的应用程序">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第四天 - 不要害怕完整的应用程序</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/using-named-routes/'> 第三天 - 使用命名路由</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-12-03T18:35:14+0000" class="dt-published">Sun Dec 3, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>我们从多年的编程中知道的一件事是，如果你不需要，你就不应该对任何东西进行硬编码。然而，太多的网络应用程序硬编码他们的网址，特别是内部网站。但是，如果你不需要怎么办？
每个 Mojolicious 路由都有自己的名字，可用于生成网址。如果您没有指定一个，则会生成一个，但您不应该依赖该名称，给它一个有意义且与您的目的相关的名称。在lite应用程序中，名称是任何默认值或回调之后的最后一个参数。 （在完整的应用程序中，它是一个属性，但我们将在另一篇文章中讨论这些内容）。
然后，当您需要一个URL而不是硬编码时，使用 url_for 或相关功能按名称生成 URL，您甚至可以根据需要传递占位符值。让我们看看它是如何工作的！
北极主页 圣诞老人从一个简单的 webapp 开始。它只有一个主页和一个页面供他和他的员工使用。由于它如此简单，他没有任何更深的路径，只有 / 用于主页和 /:name 用于员工页面。当然，我要告诉你的是一个简化，我无法向你展示圣诞老人的完整网站，原因很明显。
use Mojolicious::Lite; get &#39;/:name&#39; =&gt; {template =&gt; &#39;staff&#39;} =&gt; &#39;staff&#39;; get &#39;/&#39; =&gt; {template =&gt; &#39;home&#39;} =&gt; &#39;home&#39;; app-&gt;start; __DATA__ @@ staff.html.ep &lt;p&gt;This is &lt;%= ucfirst $name %&gt;.&lt;/p&gt; @@ home.html.ep &lt;p&gt;Welcome to The North Pole!&lt;/p&gt; &lt;p&gt; Say hi to &lt;%= link_to &#39;Santa&#39; =&gt; staff =&gt; {name =&gt; &#39;santa&#39;} %&gt; and &lt;%= link_to &#39;Rudolph&#39; =&gt; staff =&gt; {name =&gt; &#39;rudolph&#39;} %&gt;.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/using-named-routes/'
               title="Read more about 第三天 - 使用命名路由">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第三天 - 使用命名路由</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/the-stash/'> 第二天 - The Stash</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-12-02T18:21:30+0000" class="dt-published">Sat Dec 2, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>在 Mojolicious 中，当处理请求并准备响应时，最重要的概念之一是“藏匿”。由于它是一个非阻塞框架，因此您的代码在处理期间不能使用全局变量来存储任何状态。如果您运行了一些其他代码，那么很容易在请求之间进行串扰。
存储是您在处理信息时可以存储信息的地方。它只是一个简单的哈希引用，它附加到处理请求的控制器对象上。它与这一笔交易一起生存和死亡。
虽然你可以而且应该将它用作暂存器，但实际上还是要多得多。存储控制几乎控制了您生成的响应的每个方面。让我们仔细看看它是如何工作的
使用 Stash 渲染文本 在上一篇文章中，我们讨论了最简单的“Hello world”应用程序。
use Mojolicious::Lite; get &#39;/&#39; =&gt; {text =&gt; &#39;Hello 🌍 World!&#39;}; app-&gt;start; 虽然这是一个非常简单的工作案例，但更常见的例子就是这样
use Mojolicious::Lite; get &#39;/&#39; =&gt; sub { my $c = shift; $c-&gt;render(text =&gt; &#39;Hello 🌍 World!&#39;); }; app-&gt;start; 在此示例中，GET /请求由“动作回调”处理。回调是函数引用，打算将来调用;在这种情况下，当客户端请求进入与该类型的请求匹配时，将调用回调。
使用一个参数调用操作，称为控制器。控制器是一个对象，表示我们的应用程序与当前事务的交互。它包含一个表示事务的对象，该对象又保存请求和响应的对象。它有一些方法可用于生成响应，其中一个是渲染，您可以在上面看到。在这里，您会看到我们将呈现一些文本。
事实上，渲染的大多数参数实际上只是合并到了藏匿处。实际上，上面的例子是相同的
use Mojolicious::Lite; get &#39;/&#39; =&gt; sub { my $c = shift; $c-&gt;stash(text =&gt; &#39;Hello 🌍 World!&#39;); $c-&gt;render; }; app-&gt;start; 你现在看到的是，Mojolicious 看着藏匿处看看如何呈现回应。事实上，如果你不调用 render，但它有足够的信息来在 stash 中呈现响应，它就会这样做。
use Mojolicious::Lite; get &#39;/&#39; =&gt; sub { my $c = shift; $c-&gt;stash(text =&gt; &#39;Hello 🌍 World!</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/the-stash/'
               title="Read more about 第二天 - The Stash">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第二天 - The Stash</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/getting-started/'> 第一天 - 入门</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-12-01T14:52:47+0000" class="dt-published">Fri Dec 1, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>从头开始 在这个出现日历系列中，一些帖子将是介绍性的，一些将是高级的，一些将是新功能。谁知道接下来会发生什么？但是现在让我们通过研究如何开始来确保公平竞争。
什么是 Mojolicious？ 嗯，Mojolicious 真的是两件事。首先，它是一个强大的以 Web 为重点的工具包，名为 Mojo。其次，它是一个名为 Mojolicious 的强大的 Web 框架。 Mojolicious 框架是使用 Mojo 工具包构建的。
这并不意味着你不能在其他地方使用 Mojo 工具。如果您看到一些您喜欢的工具但想要与其他框架一起使用，请继续，我不会告诉您！在任何你想要的 Perl 代码中使用它！
拍我不会提到 Perl！是的，Mojolicious 是用 Perl 编写的。不要让那吓到你。它有很多方法可以保证您和您的代码安全！从内置对象系统到具有可链接方法的一致 API，Mojolicious 旨在使您的代码保持清洁和可读。希望你甚至可以使用它玩得开心！
安装 安装简单快捷。实际上，如果您将测试工具设置为并行运行，则应在几秒钟内完成安装！您可以通过在您的环境中设置 HARNESS_OPTIONS = j9（其中 9 比您的核心数多一个）来实现。
最简单的安装方法是运行
curl -L https://cpanmin.us | perl - -M https://cpan.metacpan.org -n Mojolicious 或者，您可以使用任何cpan客户端（我们喜欢 cpanm）或使用系统的包管理器进行安装。
你的第一个应用 在编程的传统中，我们需要做的第一件事就是运行一个hello world应用程序。
将以下内容保存为 hello.pl
use Mojolicious::Lite; get &#39;/&#39; =&gt; {text =&gt; &#39;Hello 🌍 World!&#39;}; app-&gt;start; 这个脚本很简单
导入 Mojolicious（精简版） 定义一个 GET 处理程序来响应具有 unicode 版本的 hello world 的请求 启动应用程序 但在此之前，我们必须启动一个 Web 服务器。</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/getting-started/'
               title="Read more about 第一天 - 入门">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 第一天 - 入门</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/hugo-%E8%AE%BE%E7%BD%AE/'> Hugo 配置</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-11-01T16:16:21+0000" class="dt-published">Wed Nov 1, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>替换文件名 使用 replaceRE
title: &#34;{{ .TranslationBaseName | replaceRE &#34;^[0-9]{4}-[0-9]{2}-[0-9]{2}-?(.*)&#34; &#34;$1&#34; | title }}&#34; 设置分页 Hugo 不能禁用分页，所以设置一个很大的数（达到 9999 篇文章后分页）：
vi config.toml：
paginate = 9999 </p>

    </div>

    
    
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/mapwithstate-%E8%AE%A1%E7%AE%97%E5%8D%95%E8%AF%8D%E4%B8%AA%E6%95%B0%E5%AE%98%E6%96%B9%E7%A4%BA%E4%BE%8B/'> 使用 mapWithState计算单词个数</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-09-12T16:16:21+0000" class="dt-published">Tue Sep 12, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>package allinone import org.apache.spark.streaming._ import org.apache.log4j.{Level, Logger} import org.apache.spark.sql.SparkSession /** * Counts words cumulatively in UTF8 encoded, &#39;\n&#39; delimited text received from the network every * second starting with initial value of word count. * Usage: StatefulNetworkWordCount &lt;hostname&gt; &lt;port&gt; * &lt;hostname&gt; and &lt;port&gt; describe the TCP server that Spark Streaming would connect to receive * data. * * To run this on your local machine, you need to first run a Netcat server * `$ nc -lk 9999` * and then run the example * `spark-submit.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/mapwithstate-%E8%AE%A1%E7%AE%97%E5%8D%95%E8%AF%8D%E4%B8%AA%E6%95%B0%E5%AE%98%E6%96%B9%E7%A4%BA%E4%BE%8B/'
               title="Read more about 使用 mapWithState计算单词个数">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 使用 mapWithState计算单词个数</span>
            </a>
        </div>
    
</article>
      
    
        <article class="summary h-entry notes">
    <header>
        <h2 class="post-title p-name no-text-decoration"><a class="u-url" href='https://ohmyweekly.github.io/notes/kafka-producer-%E4%B9%8B%E5%8F%91%E9%80%81%E5%AD%97%E8%8A%82%E6%95%B0%E7%BB%84---java-%E7%89%88/'> 发送字节数组到 Kafka</a> </h2>
        
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with ‘rakulang’"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>


        


    
    
    <div class="post-date">
        
        <time datetime="2017-05-29T16:16:21+0000" class="dt-published">Mon May 29, 2017</time>
        
        
    </div>


    </header>

    <div class="post p-summary" >
        <p>测试 Kafka 连通性 往 Kafka 里面写数据时, 默认在不存在那个topic 时，会自动创建
测试能否连上某台机器的 kafka yum install telnet yum install telnet-server telnet 10.10.10.35 9092 如果
Trying 10.10.10.35... Connected to 10.10.10.35. Escape character is &#39;^]&#39;. 说明可以连通。
同样适用于 zoomkeeper:
telnet 10.0.201.83 2181 Trying 10.0.201.83... Connected to 10.0.201.83. Escape character is &#39;^]&#39;. 从指定位置消费 Kafka pip install kafka-python import gzip from kafka import KafkaConsumer from kafka import TopicPartition consumer = KafkaConsumer(bootstrap_servers=&#39;10.30.10.15:9092&#39;) partition = TopicPartition(&#39;dc-diagnostic-report&#39;, 0) start = 8833 end = 8835 consumer.</p>

    </div>

    
    
    
        <div class="readmore no-text-decoration">
            <a href='https://ohmyweekly.github.io/notes/kafka-producer-%E4%B9%8B%E5%8F%91%E9%80%81%E5%AD%97%E8%8A%82%E6%95%B0%E7%BB%84---java-%E7%89%88/'
               title="Read more about 发送字节数组到 Kafka">
                read <span class="more"> more</span>
                <span class="screen-readers-only" > about 发送字节数组到 Kafka</span>
            </a>
        </div>
    
</article>
      
    
</div>



                <footer>
                    

<div class="pagination no-text-decoration">
    
        <a class="pagination-item newer" href="/page/41/">Newer</a>
    
    
        <a class="pagination-item older" href="/page/43/">Older</a>
    
</div>




                    <ul class="no-bullets feed right inline">
    
        
        
            <li class="inline no-text-decoration">
                <a href="https://ohmyweekly.github.io/index.xml">RSS</a>
            </li>
        
    
        
        
            <li class="inline no-text-decoration">
                <a href="https://ohmyweekly.github.io/atom.xml">ATOM</a>
            </li>
        
    
        
        
    
</ul>
<div class="clear-float"></div>

                </footer>
                <hr />
            </div>               

            <footer> 
                

<ul class="social no-text-decoration">
    
</ul>










 
    
    



<p class="generated no-text-decoration">
    Generated using  <a href="https://gitlab.com/kaushalmodi/hugo-theme-refined"><code class="nobr">hugo-theme-refined</code></a> + <span class="nobr">Hugo <a href="https://github.com/gohugoio/hugo/commit/312735366b20d64bd61bff8627f593749f86c964">0.123.7</a></span>
</p>

<p>
    
</p>




<div class="badges no-text-decoration">
    
    

    
</div>




<script type="application/javascript">var nav=responsiveNav("#nav");</script>




<script defer src="/js/libs/fragmentions/wrapper.min.e8c468c89edc4f5dccaa8c720c6b220b3088a16cd7b1e4a1e3345985788260c9.js"></script>









            </footer>
        </div> 
    </body>
</html>

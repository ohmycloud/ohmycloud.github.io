{"author":{"name":null,"type":"card","url":"https://ohmyweekly.github.io/"},"content":{"html":"\u003cp\u003eæ¬¢è¿æ¥åˆ°\u003cstrong\u003eRaku One-Liner Advent Calendarçš„\u003c/strong\u003eç¬¬\u003ca href=\"https://raku.online/2018/12/18/renaming-files-in-perl-6/\"\u003e18\u003c/a\u003eå¤©ï¼ä»Šå¤©ï¼Œå°†ä¼šæœ‰ä¸€ä¸ªçœŸæ­£çš„å•è¡Œç¨‹åºï¼Œåœ¨æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œä½ è¦ä½œä¸ºä¸€ä¸ªè¿ç»´ä»ç»ˆç«¯ä¸­è¿è¡Œå®ƒã€‚\u003c/p\u003e\n\u003cp\u003eæˆ‘ä»¬çš„ä»»åŠ¡æ˜¯é‡å‘½åå‘½ä»¤è¡Œå‚æ•°ä¸­ä¼ é€’çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶ä»¥åçˆ±çš„æ ¼å¼æä¾›æ–‡ä»¶åºåˆ—å·ã€‚ä»¥ä¸‹æ˜¯å‘½ä»¤è¡Œçš„ç¤ºä¾‹ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ raku rename.pl * .jpg img_0000.jpg\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰å›¾åƒæ–‡ä»¶å°†é‡å‘½åä¸ºimg_0001.jpgï¼Œimg_0002.jpgç­‰ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™æ˜¯ Raku ä¸­å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e@\u003c/span\u003e\u003cspan class=\"err\"\u003e*\u003c/span\u003e\u003cspan class=\"nv\"\u003eARGS\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e..*-\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003esort\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e*.\u003c/span\u003e\u003cspan class=\"n\"\u003eStr\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIO\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003erename\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e\u003cspan class=\"nv\"\u003e@\u003c/span\u003e\u003cspan class=\"err\"\u003e*\u003c/span\u003e\u003cspan class=\"nv\"\u003eARGS\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"o\"\u003e*-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eé¢„å®šä¹‰çš„åŠ¨æ€å˜é‡\u003ccode\u003e@*ARGS\u003c/code\u003eåŒ…å«å‘½ä»¤è¡Œä¸­çš„å‚æ•°ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œshell å°† *.jpg æ©ç å±•å¼€åˆ°æ–‡ä»¶åˆ—è¡¨ä¸­ï¼Œå› æ­¤æ•°ç»„ä¸­åŒ…å«æ‰€æœ‰è¿™äº›æ©ç ã€‚æœ€åä¸€ä¸ªå…ƒç´ æ˜¯é‡å‘½åæ ·æœ¬ img_0000.jpgã€‚\u003c/p\u003e\n\u003cp\u003eè¯·æ³¨æ„ï¼Œä¸ Perl 5 ä¸åŒï¼Œè¯¥å˜é‡ç§°ä¸º ARGSï¼Œè€Œä¸æ˜¯ ARGVã€‚\u003c/p\u003e\n\u003cp\u003eä¸ºäº†éå†æ‰€æœ‰æ–‡ä»¶ï¼ˆå¹¶ä½¿ç”¨æ–‡ä»¶æ©ç è·³è¿‡æœ€åä¸€ä¸ªæ–‡ä»¶é¡¹ï¼‰ï¼Œæˆ‘ä»¬æ­£åœ¨è¿›è¡Œ\u003ccode\u003e@*ARGS\u003c/code\u003eçš„åˆ‡ç‰‡ã€‚\u003ccode\u003e0..*-2\u003c/code\u003e ç»“æ„åˆ›å»ºäº†ç´¢å¼•èŒƒå›´ä»¥æ¥æ”¶é™¤äº†æœ€åä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰å…ƒç´ ã€‚\u003c/p\u003e\n\u003cp\u003eç„¶åå¯¹åˆ—è¡¨è¿›è¡Œæ’åºï¼ˆåŸå§‹çš„\u003ccode\u003e@*ARGS\u003c/code\u003eæ•°ç»„ä¿æŒä¸å˜ï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨\u003ccode\u003emap\u003c/code\u003e  æ–¹æ³•è¿­ä»£æ–‡ä»¶å  ã€‚\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003emap\u003c/code\u003e ä¸»ä½“åŒ…å«ä¸€ä¸ª\u003ca href=\"https://rakuadvent.wordpress.com/2017/12/11/all-the-stars-of-perl-6/\"\u003eWhateveCodeå—\u003c/a\u003e ; å®ƒæ¥å—å½“å‰å€¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œä»ä¸­ç”Ÿæˆ\u003ca href=\"https://docs.raku.org/routine/IO\"\u003eä¸€ä¸ª\u003ccode\u003eIO::Path\u003c/code\u003eå¯¹è±¡\u003c/a\u003eï¼Œå¹¶è°ƒç”¨ \u003ccode\u003erename\u003c/code\u003e \u003ca href=\"https://docs.raku.org/routine/rename\"\u003eæ–¹æ³•\u003c/a\u003eã€‚è¯·æ³¨æ„ï¼Œ\u003ccode\u003eIO\u003c/code\u003eæ–¹æ³•åˆ›å»º\u003ccode\u003eIO::Path\u003c/code\u003eç±»çš„å¯¹è±¡; è€Œè£¸  \u003ccode\u003eIO\u003c/code\u003eæ˜¯Rakuå¯¹è±¡ç³»ç»Ÿå±‚æ¬¡ç»“æ„ä¸­çš„ä¸€ä¸ª\u003ca href=\"https://docs.raku.org/language/glossary#index-entry-role\"\u003e\u003cem\u003eè§’è‰²\u003c/em\u003e\u003c/a\u003eã€‚\u003c/p\u003e\n\u003cp\u003eæœ€åï¼Œå¢é‡è¿ç®—ç¬¦\u003ccode\u003e++\u003c/code\u003eæ›´æ”¹é‡å‘½åæ ·æœ¬ï¼ˆä¿å­˜åœ¨\u003ccode\u003e@*ARGS\u003c/code\u003e ä¸­çš„æœ€åä¸€ä¸ª, å³ \u003ccode\u003e*-1 \u003c/code\u003e å…ƒç´ ï¼‰ã€‚å½“æ“ä½œç¬¦åº”ç”¨äºå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä¼š\u003ca href=\"https://docs.raku.org/routine/++\"\u003eå¢åŠ \u003c/a\u003eå®ƒ\u003ca href=\"https://docs.raku.org/routine/++\"\u003eçš„æ•°å­—éƒ¨åˆ†\u003c/a\u003eï¼Œå› æ­¤æˆ‘ä»¬å¾—åˆ° img_0001.jpgï¼Œimg_0002.jpgç­‰ã€‚\u003c/p\u003e\n\u003cp\u003eæˆ‘å¸Œæœ› Raku ä¸ä¼šè¢«ç§°ä¸º \u003cem\u003estar-noise\u003c/em\u003e  è¯­è¨€ ğŸ™‚ ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæ˜å¤©è¿˜ä¼šæœ‰å¦ä¸€ç¯‡å…³äº Raku çš„çŸ­ç¯‡å°æ–‡ï¼\u003c/p\u003e\n","text":"æ¬¢è¿æ¥åˆ°Raku One-Liner Advent Calendarçš„ç¬¬18å¤©ï¼ä»Šå¤©ï¼Œå°†ä¼šæœ‰ä¸€ä¸ªçœŸæ­£çš„å•è¡Œç¨‹åºï¼Œåœ¨æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œä½ è¦ä½œä¸ºä¸€ä¸ªè¿ç»´ä»ç»ˆç«¯ä¸­è¿è¡Œå®ƒã€‚\næˆ‘ä»¬çš„ä»»åŠ¡æ˜¯é‡å‘½åå‘½ä»¤è¡Œå‚æ•°ä¸­ä¼ é€’çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶ä»¥åçˆ±çš„æ ¼å¼æä¾›æ–‡ä»¶åºåˆ—å·ã€‚ä»¥ä¸‹æ˜¯å‘½ä»¤è¡Œçš„ç¤ºä¾‹ï¼š\n$ raku rename.pl * .jpg img_0000.jpg åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰å›¾åƒæ–‡ä»¶å°†é‡å‘½åä¸ºimg_0001.jpgï¼Œimg_0002.jpgç­‰ã€‚\nè¿™æ˜¯ Raku ä¸­å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼š\n@*ARGS[0..*-2].sort.map: *.Str.IO.rename(++@*ARGS[*-1]) é¢„å®šä¹‰çš„åŠ¨æ€å˜é‡@*ARGSåŒ…å«å‘½ä»¤è¡Œä¸­çš„å‚æ•°ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œshell å°† *.jpg æ©ç å±•å¼€åˆ°æ–‡ä»¶åˆ—è¡¨ä¸­ï¼Œå› æ­¤æ•°ç»„ä¸­åŒ…å«æ‰€æœ‰è¿™äº›æ©ç ã€‚æœ€åä¸€ä¸ªå…ƒç´ æ˜¯é‡å‘½åæ ·æœ¬ img_0000.jpgã€‚\nè¯·æ³¨æ„ï¼Œä¸ Perl 5 ä¸åŒï¼Œè¯¥å˜é‡ç§°ä¸º ARGSï¼Œè€Œä¸æ˜¯ ARGVã€‚\nä¸ºäº†éå†æ‰€æœ‰æ–‡ä»¶ï¼ˆå¹¶ä½¿ç”¨æ–‡ä»¶æ©ç è·³è¿‡æœ€åä¸€ä¸ªæ–‡ä»¶é¡¹ï¼‰ï¼Œæˆ‘ä»¬æ­£åœ¨è¿›è¡Œ@*ARGSçš„åˆ‡ç‰‡ã€‚0..*-2 ç»“æ„åˆ›å»ºäº†ç´¢å¼•èŒƒå›´ä»¥æ¥æ”¶é™¤äº†æœ€åä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰å…ƒç´ ã€‚\nç„¶åå¯¹åˆ—è¡¨è¿›è¡Œæ’åºï¼ˆåŸå§‹çš„@*ARGSæ•°ç»„ä¿æŒä¸å˜ï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨map æ–¹æ³•è¿­ä»£æ–‡ä»¶å ã€‚\nmap ä¸»ä½“åŒ…å«ä¸€ä¸ªWhateveCodeå— ; å®ƒæ¥å—å½“å‰å€¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œä»ä¸­ç”Ÿæˆä¸€ä¸ªIO::Pathå¯¹è±¡ï¼Œå¹¶è°ƒç”¨ rename æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼ŒIOæ–¹æ³•åˆ›å»ºIO::Pathç±»çš„å¯¹è±¡; è€Œè£¸ IOæ˜¯Rakuå¯¹è±¡ç³»ç»Ÿå±‚æ¬¡ç»“æ„ä¸­çš„ä¸€ä¸ªè§’è‰²ã€‚\næœ€åï¼Œå¢é‡è¿ç®—ç¬¦++æ›´æ”¹é‡å‘½åæ ·æœ¬ï¼ˆä¿å­˜åœ¨@*ARGS ä¸­çš„æœ€åä¸€ä¸ª, å³ *-1 å…ƒç´ ï¼‰ã€‚å½“æ“ä½œç¬¦åº”ç”¨äºå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä¼šå¢åŠ å®ƒçš„æ•°å­—éƒ¨åˆ†ï¼Œå› æ­¤æˆ‘ä»¬å¾—åˆ° img_0001.jpgï¼Œimg_0002.jpgç­‰ã€‚\næˆ‘å¸Œæœ› Raku ä¸ä¼šè¢«ç§°ä¸º star-noise è¯­è¨€ ğŸ™‚ ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæ˜å¤©è¿˜ä¼šæœ‰å¦ä¸€ç¯‡å…³äº Raku çš„çŸ­ç¯‡å°æ–‡ï¼\n"},"name":"ğŸ„ 18/25. ä½¿ç”¨ Raku é‡å‘½åæ–‡ä»¶","published":"2018-12-18T09:16:49Z","summary":"æ¬¢è¿æ¥åˆ°Raku One-Liner Advent Calendarçš„ç¬¬18å¤©ï¼ä»Šå¤©ï¼Œå°†ä¼šæœ‰ä¸€ä¸ªçœŸæ­£çš„å•è¡Œç¨‹åºï¼Œåœ¨æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œä½ è¦ä½œä¸ºä¸€ä¸ªè¿ç»´ä»ç»ˆç«¯ä¸­è¿è¡Œå®ƒã€‚\næˆ‘ä»¬çš„ä»»åŠ¡æ˜¯é‡å‘½åå‘½ä»¤è¡Œå‚æ•°ä¸­ä¼ é€’çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶ä»¥åçˆ±çš„æ ¼å¼æä¾›æ–‡ä»¶åºåˆ—å·ã€‚ä»¥ä¸‹æ˜¯å‘½ä»¤è¡Œçš„ç¤ºä¾‹ï¼š\n$ raku rename.pl * .jpg img_0000.jpg åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰å›¾åƒæ–‡ä»¶å°†é‡å‘½åä¸ºimg_0001.jpgï¼Œimg_0002.jpgç­‰ã€‚\nè¿™æ˜¯ Raku ä¸­å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼š\n@*ARGS[0..*-2].sort.map: *.Str.IO.rename(++@*ARGS[*-1]) é¢„å®šä¹‰çš„åŠ¨æ€å˜é‡@*ARGSåŒ…å«å‘½ä»¤è¡Œä¸­çš„å‚æ•°ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œshell å°† *.jpg æ©ç å±•å¼€åˆ°æ–‡ä»¶åˆ—è¡¨ä¸­ï¼Œå› æ­¤æ•°ç»„ä¸­åŒ…å«æ‰€æœ‰è¿™äº›æ©ç ã€‚æœ€åä¸€ä¸ªå…ƒç´ æ˜¯é‡å‘½åæ ·æœ¬ img_0000.jpgã€‚\nè¯·æ³¨æ„ï¼Œä¸ Perl 5 ä¸åŒï¼Œè¯¥å˜é‡ç§°ä¸º ARGSï¼Œè€Œä¸æ˜¯ ARGVã€‚\nä¸ºäº†éå†æ‰€æœ‰æ–‡ä»¶ï¼ˆå¹¶ä½¿ç”¨æ–‡ä»¶æ©ç è·³è¿‡æœ€åä¸€ä¸ªæ–‡ä»¶é¡¹ï¼‰ï¼Œæˆ‘ä»¬æ­£åœ¨è¿›è¡Œ@*ARGSçš„åˆ‡ç‰‡ã€‚0..*-2 ç»“æ„åˆ›å»ºäº†ç´¢å¼•èŒƒå›´ä»¥æ¥æ”¶é™¤äº†æœ€åä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰å…ƒç´ ã€‚\nç„¶åå¯¹åˆ—è¡¨è¿›è¡Œæ’åºï¼ˆåŸå§‹çš„@*ARGSæ•°ç»„ä¿æŒä¸å˜ï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨map æ–¹æ³•è¿­ä»£æ–‡ä»¶å ã€‚\nmap ä¸»ä½“åŒ…å«ä¸€ä¸ªWhateveCodeå— ; å®ƒæ¥å—å½“å‰å€¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œä»ä¸­ç”Ÿæˆä¸€ä¸ªIO::Pathå¯¹è±¡ï¼Œå¹¶è°ƒç”¨ rename æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼ŒIOæ–¹æ³•åˆ›å»ºIO::Pathç±»çš„å¯¹è±¡; è€Œè£¸ IOæ˜¯Rakuå¯¹è±¡ç³»ç»Ÿå±‚æ¬¡ç»“æ„ä¸­çš„ä¸€ä¸ªè§’è‰²ã€‚\næœ€åï¼Œå¢é‡è¿ç®—ç¬¦++æ›´æ”¹é‡å‘½åæ ·æœ¬ï¼ˆä¿å­˜åœ¨@*ARGS ä¸­çš„æœ€åä¸€ä¸ª, å³ *-1 å…ƒç´ ï¼‰ã€‚å½“æ“ä½œç¬¦åº”ç”¨äºå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä¼šå¢åŠ å®ƒçš„æ•°å­—éƒ¨åˆ†ï¼Œå› æ­¤æˆ‘ä»¬å¾—åˆ° img_0001.jpgï¼Œimg_0002.jpgç­‰ã€‚\næˆ‘å¸Œæœ› Raku ä¸ä¼šè¢«ç§°ä¸º star-noise è¯­è¨€ ğŸ™‚ ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæ˜å¤©è¿˜ä¼šæœ‰å¦ä¸€ç¯‡å…³äº Raku çš„çŸ­ç¯‡å°æ–‡ï¼","type":"entry","url":"https://ohmyweekly.github.io/notes/renameing-files-with-raku/"}
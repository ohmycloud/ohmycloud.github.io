<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">

    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
    
    
    

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

    
    <meta name="referrer" content="no-referrer">

    <title>
        
            Red ä¸­çš„ Parse âš ç„‰çŸ¥éé±¼
        
    </title>

    
    


    
    
    
    

    
    
    
    

    
    
    

    
    
    
    <style>
     
     
     :root {
         --theme-color: #ac4142;
         --theme-color-light: rgba(172, 65, 66, 0.2);
     }
     
     html {
         line-height: 1.5;
     }
    </style>

    
    

    
    
    
    
    <link rel="stylesheet" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css">
    
    <link rel="preload" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css" as="style">

    



    
        <style>
         
         /* Background */ .chroma { background-color: #ffffff }
/* Error */ .chroma .err { color: #a61717; background-color: #e3d2d2 }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; width: auto; overflow: auto; display: block; }
/* LineHighlight */ .chroma .hl { display: block; width: 100%;background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* LineNumbers */ .chroma .ln { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* Keyword */ .chroma .k { color: #000000; font-weight: bold }
/* KeywordConstant */ .chroma .kc { color: #000000; font-weight: bold }
/* KeywordDeclaration */ .chroma .kd { color: #000000; font-weight: bold }
/* KeywordNamespace */ .chroma .kn { color: #000000; font-weight: bold }
/* KeywordPseudo */ .chroma .kp { color: #000000; font-weight: bold }
/* KeywordReserved */ .chroma .kr { color: #000000; font-weight: bold }
/* KeywordType */ .chroma .kt { color: #445588; font-weight: bold }
/* NameAttribute */ .chroma .na { color: #008080 }
/* NameBuiltin */ .chroma .nb { color: #0086b3 }
/* NameBuiltinPseudo */ .chroma .bp { color: #999999 }
/* NameClass */ .chroma .nc { color: #445588; font-weight: bold }
/* NameConstant */ .chroma .no { color: #008080 }
/* NameDecorator */ .chroma .nd { color: #3c5d5d; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #800080 }
/* NameException */ .chroma .ne { color: #990000; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #990000; font-weight: bold }
/* NameLabel */ .chroma .nl { color: #990000; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #555555 }
/* NameTag */ .chroma .nt { color: #000080 }
/* NameVariable */ .chroma .nv { color: #008080 }
/* NameVariableClass */ .chroma .vc { color: #008080 }
/* NameVariableGlobal */ .chroma .vg { color: #008080 }
/* NameVariableInstance */ .chroma .vi { color: #008080 }
/* LiteralString */ .chroma .s { color: #dd1144 }
/* LiteralStringAffix */ .chroma .sa { color: #dd1144 }
/* LiteralStringBacktick */ .chroma .sb { color: #dd1144 }
/* LiteralStringChar */ .chroma .sc { color: #dd1144 }
/* LiteralStringDelimiter */ .chroma .dl { color: #dd1144 }
/* LiteralStringDoc */ .chroma .sd { color: #dd1144 }
/* LiteralStringDouble */ .chroma .s2 { color: #dd1144 }
/* LiteralStringEscape */ .chroma .se { color: #dd1144 }
/* LiteralStringHeredoc */ .chroma .sh { color: #dd1144 }
/* LiteralStringInterpol */ .chroma .si { color: #dd1144 }
/* LiteralStringOther */ .chroma .sx { color: #dd1144 }
/* LiteralStringRegex */ .chroma .sr { color: #009926 }
/* LiteralStringSingle */ .chroma .s1 { color: #dd1144 }
/* LiteralStringSymbol */ .chroma .ss { color: #990073 }
/* LiteralNumber */ .chroma .m { color: #009999 }
/* LiteralNumberBin */ .chroma .mb { color: #009999 }
/* LiteralNumberFloat */ .chroma .mf { color: #009999 }
/* LiteralNumberHex */ .chroma .mh { color: #009999 }
/* LiteralNumberInteger */ .chroma .mi { color: #009999 }
/* LiteralNumberIntegerLong */ .chroma .il { color: #009999 }
/* LiteralNumberOct */ .chroma .mo { color: #009999 }
/* Operator */ .chroma .o { color: #000000; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #000000; font-weight: bold }
/* Comment */ .chroma .c { color: #999988; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #999988; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #999988; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #999988; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #999999; font-weight: bold; font-style: italic }
/* GenericDeleted */ .chroma .gd { color: #000000; background-color: #ffdddd }
/* GenericEmph */ .chroma .ge { color: #000000; font-style: italic }
/* GenericError */ .chroma .gr { color: #aa0000 }
/* GenericHeading */ .chroma .gh { color: #999999 }
/* GenericInserted */ .chroma .gi { color: #000000; background-color: #ddffdd }
/* GenericOutput */ .chroma .go { color: #888888 }
/* GenericPrompt */ .chroma .gp { color: #555555 }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa }
/* GenericTraceback */ .chroma .gt { color: #aa0000 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #bbbbbb }

         
         /* Overrides on top of the theme and Chroma CSS */
/* Chroma-based lines highlighting in code blocks */
.chroma .hl {
    background-color: #e8e8e8;
    /* Extend highlight up to 100 characters (assuming that the code blocks never have more than 100 characters in a line) */
    min-width: 100ch;
}
/* GenericHeading */ .chroma .gh { color: #999999; font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa; font-weight: bold }

         
        </style>
    

    

    
    
    

    
    <script src="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js"></script>
    
    <link rel="preload" href="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js" as="script">

    
    
    <script defer src="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js"></script>
    
    <link rel="preload" href="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js" as="script">

    

    

    
    
    

    
    
<!-- rel="me" links for IndieAuth -->







    
 
<meta property="og:title" content="Red ä¸­çš„ Parse" />
<meta property="og:description"
      content=" " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ohmycloud.github.io/notes/red%E4%B8%AD%E7%9A%84parse/" />


    
        <meta property="article:published_time" content="2018-12-14T21:51:07&#43;00:00"/>
    
    
        <meta property="article:modified_time" content="2018-12-14T21:51:07&#43;00:00"/>
    









    




     <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Red ä¸­çš„ Parse"/>
<meta name="twitter:description" content=" "/>


    
    
    <link rel="alternate" type="application/jf2post+json" href="https://ohmycloud.github.io/notes/red%E4%B8%AD%E7%9A%84parse/jf2post.json" title="Jf2post for ç„‰çŸ¥éé±¼" />
    
     



    
    
    
        
    


     
        
        <meta name="DC.Creator" content="ç„‰çŸ¥éé±¼"/>
    



    
    
    
    <meta name="hugo-build-date" content="2024-03-01T16:16:06Z"/>
    <meta name="hugo-commit-hash" content="312735366b20d64bd61bff8627f593749f86c964"/>
    <meta name="generator" content="Hugo 0.123.7">
</head>


    
        <body lang="en">
    

        
        <div class="border" id="home"></div>

        <div class="wrapper">   
            
<nav id="nav" class="nav-collapse opened" aria-hidden="false">
    <ul class="navbar">
        <li><a class="" href="/">Home</a></li>
        
            
                <li><a class="" href="https://ohmycloud.github.io/posts/">Posts</a></li>
            
        
            
                <li><a class="" href="https://ohmycloud.github.io/notes/">Notes</a></li>
            
        
        
            <li><a class="" href="https://ohmycloud.github.io/search/">Search</a></li>
        
    </ul>
</nav>

            <div class="container">
                <header class="masthead">
                    <div class="masthead-title no-text-decoration">
                        <a href="/">ç„‰çŸ¥éé±¼</a> <span class="blinking-cursor">âš</span>
                    </div>
                    <div class="masthead-tagline">
                        Wait the light to fall
                    </div>
                </header>

                








<article class="post h-entry notes">
    <header>
        <div class="center">
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in â€˜rakulangâ€™"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with â€˜rakulangâ€™"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>

</div>

        <h1 class="post-title p-name">Red ä¸­çš„ Parse</h1>

        
        <data class="u-url" value="https://ohmycloud.github.io/notes/red%E4%B8%AD%E7%9A%84parse/"></data>

        <div class="date-syndication">
            


    
    
    <div class="post-date">
        
        <time datetime="2018-12-14T21:51:07+0000" class="dt-published">Fri Dec 14, 2018</time>
        
        
    </div>


            




        </div>
         



    
    
    
        
    


    
        
        <span class="hide">
            &mdash; <a href="https://ohmycloud.github.io/" class="u-author">ç„‰çŸ¥éé±¼</a>
        </span>
    


    </header>

    <div class="content">
        


        





                       


        <div class="e-content">
            




<h2 id="parse-å…¥é—¨">Parse å…¥é—¨&nbsp;<a class="headline-hash no-text-decoration" href="#parse-å…¥é—¨">#</a> </h2>
<p><a href="http://rebol.com/">Rebol</a> è¯­è¨€æœ€å¤§çš„ç‰¹è‰²ä¹‹ä¸€å°±æ˜¯å®ƒçš„è§£æå¼•æ“ï¼Œç®€ç§°ä¸º <strong>Parse</strong>ã€‚è¿™æ˜¯å¡å°”Â·è¨æ£®æ‹‰æ–¯ï¼ˆ<a href="http://en.wikipedia.org/wiki/Carl_Sassenrath">Carl Sassenrath</a>ï¼‰çš„ä¸€ä¸ªæƒŠäººè®¾è®¡ï¼Œåœ¨è¿‡å»çš„15å¹´é‡Œï¼Œæ‰€æœ‰ Rebol ç”¨æˆ·éƒ½å…äºä½¿ç”¨è‡­åæ˜­è‘—çš„æ— æ³•ç»´æŠ¤çš„ <a href="http://en.wikipedia.org/wiki/Regular_expression">regexp</a> çš„<a href="http://www.codinghorror.com/blog/2005/02/regex-use-vs-regex-abuse.html">ç—›è‹¦</a>ã€‚ç°åœ¨ï¼ŒParse ä¹Ÿå¯ç”¨äº <strong>R</strong>ed ç”¨æˆ·ï¼Œè€Œä¸”æ˜¯å¢å¼ºç‰ˆï¼</p>
<p>é‚£ä¹ˆï¼Œç®€è€Œè¨€ä¹‹ï¼Œä»€ä¹ˆæ˜¯ Parseï¼Ÿå®ƒæ˜¯ä¸€ä¸ªåµŒå…¥å¼ <a href="http://en.wikipedia.org/wiki/Domain-specific_language">DSL</a>ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸º Rebol ä¸–ç•Œä¸­çš„â€œæ–¹è¨€â€ï¼‰ï¼Œç”¨äºä½¿ç”¨è¯­æ³•è§„åˆ™è§£æè¾“å…¥åºåˆ—ã€‚ Parse æ–¹è¨€æ˜¯ <a href="http://en.wikipedia.org/wiki/Top-down_parsing_language">TDPL</a> å®¶æ—çš„<a href="http://www.rebol.net/wiki/Parse_Project#Theory_of_PARSE">å¢å¼ºæˆå‘˜</a>ã€‚ Parse çš„å¸¸è§ç”¨æ³•æ˜¯æ£€æŸ¥ï¼ŒéªŒè¯ï¼Œæå–ï¼Œä¿®æ”¹è¾“å…¥æ•°æ®ï¼Œç”šè‡³å®ç°åµŒå…¥å¼å’Œå¤–éƒ¨ DSLã€‚</p>
<p><code>parse</code> å‡½æ•°è°ƒç”¨è¯­æ³•å¾ˆç®€å•ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">parse &lt;input&gt; &lt;rules&gt;  

&lt;input&gt;: ä»»æ„ç³»åˆ—å€¼ (å­—ç¬¦ä¸², æ–‡ä»¶, å—å„¿, è·¯å¾„, ...)
&lt;rules&gt;: å—å„¿! å…·æœ‰æœ‰æ•ˆ Parse æ–¹è¨€å†…å®¹çš„å€¼
</code></pre><p>è¿™é‡Œæœ‰å‡ ä¸ªä¾‹å­ï¼Œå³ä½¿ä½ ä¸æ‡‚ Red å’Œè§£ææ–¹è¨€ï¼Œä½ ä»ç„¶å¯ä»¥â€œè·å¾—â€å®ƒä»¬ä¸­çš„å¤§å¤šæ•°ï¼Œä¸åƒæ­£åˆ™è¡¨è¾¾å¼ã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬ç›´æ¥å¤åˆ¶/ç²˜è´´åˆ° Red æ§åˆ¶å°ä¸­ã€‚</p>
<p>ä½¿ç”¨è¯­æ³•è§„åˆ™è¿›è¡Œå­—ç¬¦ä¸²æˆ–å—è¾“å…¥éªŒè¯çš„ä¸€äº›ç®€å•ç¤ºä¾‹ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">parse &#34;a plane&#34; [[&#34;a&#34; | &#34;the&#34;] space &#34;plane&#34;] ;-- rule ä¸­çš„ç©ºæ ¼éœ€è¦ç”¨ space æ˜¾å¼å£°æ˜
parse &#34;the car&#34; [[&#34;a&#34; | &#34;the&#34;] space [&#34;plane&#34; | &#34;car&#34;]]

parse &#34;123&#34; [&#34;1&#34; &#34;2&#34; [&#34;4&#34; | &#34;3&#34;]] ;-- rule ä¸­çš„ç©ºæ ¼é»˜è®¤è¢«å¿½ç•¥
parse &#34;abbccc&#34; [&#34;a&#34; 2 &#34;b&#34; 3 &#34;c&#34;]  ;-- ä¸€ä¸ª a, ä¿©ä¸ª b, ä¸‰ä¸ª c
parse &#34;aaabbb&#34; [copy letters some &#34;a&#34; (n: length? letters) n &#34;b&#34;]

parse [a] [&#39;b | &#39;a | &#39;c]
parse [hello nice world] [3 word!] ;-- ä¸‰ä¸ªå•è¯
parse [a a a b b b] [copy words some &#39;a (n: length? words) n &#39;b]
</code></pre><p>å¦‚ä½•å‡†ç¡®åœ°è§£æ IPv4 åœ°å€ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">    four:     charset &#34;01234&#34;
    half:     charset &#34;012345&#34;
    non-zero: charset &#34;123456789&#34;
    digit:    union non-zero charset &#34;0&#34;

    byte: [
          &#34;25&#34; half
        | &#34;2&#34; four digit
        | &#34;1&#34; digit digit
        | non-zero digit
        | digit
    ]
    ipv4: [byte dot byte dot byte dot byte]

    parse &#34;192.168.10.1&#34; ipv4
    parse &#34;127.0.0.1&#34;    ipv4
    parse &#34;99.1234&#34;      ipv4
    parse &#34;10.12.260.1&#34;  ipv4

    data: {
        ID: 121.34
        Version: 1.2.3-5.6
        Your IP address is: 85.94.114.88.
        NOTE: Your IP Address could be different tomorrow.
    }
    parse data [some [copy value ipv4 | skip]]
    probe value                      ; will ouput: &#34;85.94.114.88&#34;
</code></pre><p>ä¸€ä¸ªç²—ç•¥ä½†å®ç”¨çš„ç”µå­é‚®ä»¶åœ°å€éªŒè¯å™¨ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">    digit:   charset &#34;0123456789&#34;               ;-- æ•°å­—å­—ç¬¦é›†
    letters: charset [#&#34;a&#34; - #&#34;z&#34; #&#34;A&#34; - #&#34;Z&#34;]  ;-- å­—æ¯å­—ç¬¦é›†
    special: charset &#34;-&#34;                        ;-- ç‰¹æ®Šå­—ç¬¦
    chars:   union union letters special digit  ;-- åˆå¹¶å­—ç¬¦é›†
    word:    [some chars]
    host:    [word]
    domain:  [word some [dot word]]
    email:   [host &#34;@&#34; domain]

    parse &#34;john@doe.com&#34; email
    parse &#34;n00b@lost.island.org&#34; email
    parse &#34;h4x0r-l33t@domain.net&#34; email
</code></pre><p>ä»¥å­—ç¬¦ä¸²å½¢å¼éªŒè¯æ•°å­¦è¡¨è¾¾å¼ï¼ˆæ¥è‡ª Rebol/Core <a href="http://www.rebol.com/docs/core23/rebolcore-15.html#section-6">æ‰‹å†Œ</a>ï¼‰ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">    expr:    [term [&#34;+&#34; | &#34;-&#34;] expr | term]
    term:    [factor [&#34;*&#34; | &#34;/&#34;] term | factor]
    factor:  [primary &#34;**&#34; factor | primary]
    primary: [some digit | &#34;(&#34; expr &#34;)&#34;]
    digit:   charset &#34;0123456789&#34;
    
    parse &#34;1+2*(3-2)/4&#34; expr        ; will return true
    parse &#34;1-(3/)+2&#34; expr           ; will return false
</code></pre><p>åˆ›å»ºä¸€ä¸ªç®€å•çš„ HTML å­é›†è§£æå™¨ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">    html: {
        &lt;html&gt;
            &lt;head&gt;&lt;title&gt;Test&lt;/title&gt;&lt;/head&gt;
            &lt;body&gt;&lt;div&gt;&lt;u&gt;Hello&lt;/u&gt; &lt;b&gt;World&lt;/b&gt;&lt;/div&gt;&lt;/body&gt;
        &lt;/html&gt;
    }

    ws: charset reduce [space tab cr lf]

    parse html tags: [
        collect [any [
            ws
            | &#34;&lt;/&#34; thru &#34;&gt;&#34; break
            | &#34;&lt;&#34; copy name to &#34;&gt;&#34; skip keep (load name) opt tags
            | keep to &#34;&lt;&#34;
        ]]
    ]

    ; will produce the following tree of blocks as output of parse:
     [
         html [
             head [
                 title [&#34;Test&#34;]
             ]
             body [
                 div [
                     u [&#34;Hello&#34;]
                     b [&#34;World&#34;]
                 ]
             ]
         ]
     ]
</code></pre><h2 id="parse-æ–¹è¨€">Parse æ–¹è¨€&nbsp;<a class="headline-hash no-text-decoration" href="#parse-æ–¹è¨€">#</a> </h2>
<p>Parse çš„æ ¸å¿ƒåŸåˆ™æ˜¯ï¼š</p>
<ul>
<li>é€šè¿‡åŒ¹é… grammar è§„åˆ™æ¨è¿›è¾“å…¥ç³»åˆ—ï¼Œç›´åˆ°é¡¶çº§è§„åˆ™å¤±è´¥ï¼ˆè¿”å› <code>false</code>ï¼‰æˆ–è¾“å…¥è€—å°½ï¼ˆè¿”å› <code>true</code>ï¼‰(*)</li>
<li>æœ‰åºé€‰æ‹©ï¼ˆä¾‹å¦‚åœ¨[&ldquo;a&rdquo;|&ldquo;ab&rdquo;]è§„åˆ™ä¸­ï¼Œç¬¬äºŒä¸ªå°†æ°¸è¿œä¸ä¼šæˆåŠŸï¼‰</li>
<li>è§„åˆ™å¯ç»„åˆæ€§ï¼ˆæ— é™åˆ¶ï¼‰</li>
<li>æœ‰é™çš„å›æº¯ï¼šåªæœ‰è¾“å…¥å’Œè§„åˆ™ä½ç½®è¢«å›æº¯ï¼Œå…¶ä»–å˜åŒ–ä»ç„¶å­˜åœ¨</li>
<li>ä¸¤ç§æ¨¡å¼ï¼šå­—ç¬¦ä¸²è§£æï¼ˆä¾‹å¦‚ï¼šå¤–éƒ¨ DSLï¼‰æˆ–å—è§£æï¼ˆä¾‹å¦‚ï¼šåµŒå…¥å¼ DSLï¼‰</li>
</ul>
<p>(*) å¦‚æœåœ¨ä»»ä½•è§„åˆ™ä¸­ä»¥æœ€ç®€å•çš„å½¢å¼ä½¿ç”¨ <code>collect</code> å…³é”®å­—ï¼Œåˆ™æ— è®º root è§„åˆ™æ˜¯å¦æˆåŠŸï¼Œéƒ½å°†é€šè¿‡ <code>parse</code> è¿”å›ä¸€ä¸ªå—ã€‚</p>
<p>Parseè§„åˆ™å¯ä»¥æ¥è‡ªï¼š</p>
<ul>
<li><strong>keyword</strong>       : æ–¹è¨€ä¿ç•™å­—ï¼ˆè§ä¸‹è¡¨ï¼‰</li>
<li><strong>word</strong>          : word ä¼šè¢«æ±‚å€¼å¹¶å°†å…¶å€¼ç”¨ä½œè§„åˆ™</li>
<li><strong>word:</strong>         : å°†å•è¯è®¾ç½®ä¸ºå½“å‰è¾“å…¥ä½ç½®</li>
<li><strong>:word</strong>         : åœ¨å•è¯å¼•ç”¨çš„ä½ç½®ç»§ç»­è¾“å…¥</li>
<li><strong>integer</strong> value : æŒ‡å®šå…·æœ‰å›ºå®šæ•°é‡æˆ–è¿­ä»£èŒƒå›´çš„è¿­ä»£è§„åˆ™</li>
<li><strong>value</strong>         : å°†è¾“å…¥ä¸å€¼åŒ¹é…</li>
<li><strong>|</strong>             : å›æº¯å¹¶åŒ¹é…ä¸‹ä¸€ä¸ªå¤‡ç”¨è§„åˆ™</li>
<li><strong>[rules]</strong>       : å­è§„åˆ™å—</li>
<li><strong>(expression)</strong>  : è½¬ä¹‰ Parseæ–¹è¨€ï¼Œè®¡ç®— Red è¡¨è¾¾å¼å¹¶è¿”å› Parse æ–¹è¨€</li>
</ul>
<p>Red çš„ Parse å®ç°ä¸­ç›®å‰æä¾›ä»¥ä¸‹å…³é”®å­—ã€‚å®ƒä»¬å¯ä»¥è‡ªç”±ç»„åˆåœ¨ä¸€èµ·ã€‚</p>
<h2 id="åŒ¹é…">åŒ¹é…&nbsp;<a class="headline-hash no-text-decoration" href="#åŒ¹é…">#</a> </h2>
<hr>
<ul>
<li><strong>ahead</strong> rule    : å‘å‰æŸ¥çœ‹è§„åˆ™, åŒ¹é…è§„åˆ™, ä½†ä¸æ¨è¿›è¾“å…¥</li>
<li><strong>end</strong>           : å¦‚æœå½“å‰è¾“å…¥ä½ç½®åˆ°ç»ˆç‚¹äº†åˆ™è¿”å›æˆåŠŸ</li>
<li><strong>none</strong>          : æ€»æ˜¯è¿”å›æˆåŠŸï¼ˆcatch-all è§„åˆ™ï¼‰</li>
<li><strong>not</strong> rule      : åè½¬å­è§„åˆ™çš„ç»“æœ</li>
<li><strong>opt</strong> rule      : å‘å‰æŸ¥çœ‹è§„åˆ™, å¯é€‰åœ°åŒ¹é…è§„åˆ™</li>
<li><strong>quote</strong> rule    : æŒ‰å­—é¢æ„æ€åŒ¹é…ä¸‹ä¸€ä¸ªå€¼ï¼ˆç”¨äºæ–¹è¨€è½¬ä¹‰éœ€æ±‚ï¼‰</li>
<li><strong>skip</strong>          : å°†è¾“å…¥æ¨è¿›ä¸€ä¸ªå…ƒç´ ï¼ˆä¸€ä¸ªå­—ç¬¦æˆ–ä¸€ä¸ªå€¼ï¼‰</li>
<li><strong>thru</strong> rule     : æ¨è¿›è¾“å…¥ç›´åˆ°è§„åˆ™åŒ¹é…, è¾“å…¥è®¾ç½®åœ¨åŒ¹é…çš„åé¢</li>
<li><strong>to</strong> rule       : æ¨è¿›è¾“å…¥ç›´åˆ°è§„åˆ™åŒ¹é…, è¾“å…¥è®¾ç½®åœ¨åŒ¹é…çš„å¼€å¤´</li>
</ul>
<h2 id="æ§åˆ¶æµ">æ§åˆ¶æµ&nbsp;<a class="headline-hash no-text-decoration" href="#æ§åˆ¶æµ">#</a> </h2>
<hr>
<ul>
<li><strong>break</strong>         : è·³å‡ºåŒ¹é…å¾ªç¯, è¿”å›æˆåŠŸ</li>
<li><strong>if</strong>(expr)      : è®¡ç®— Red è¡¨è¾¾å¼ï¼Œå¦‚æœä¸º false æˆ– noneï¼Œåˆ™å¤±è´¥å¹¶å›æº¯</li>
<li><strong>into</strong> rule     : å°†è¾“å…¥åˆ‡æ¢åˆ°åŒ¹é…çš„ç³»åˆ—ï¼ˆå­—ç¬¦ä¸²æˆ–å—ï¼‰å¹¶ç”¨è§„åˆ™è§£æå®ƒ</li>
<li><strong>fail</strong>          : å¼ºåˆ¶å½“å‰è§„åˆ™å¤±è´¥å¹¶å›æº¯</li>
<li><strong>then</strong>          : æ— è®ºåç»­çš„å¤±è´¥æˆ–æˆåŠŸ, è·³è¿‡ä¸‹ä¸€ä¸ªå¤‡ç”¨è§„åˆ™</li>
<li><strong>reject</strong>        : è·³å‡ºåŒ¹é…å¾ªç¯, è¿”å›å¤±è´¥</li>
</ul>
<h2 id="è¿­ä»£">è¿­ä»£&nbsp;<a class="headline-hash no-text-decoration" href="#è¿­ä»£">#</a> </h2>
<hr>
<ul>
<li><strong>any</strong> rule      : é‡å¤è§„åˆ™é›¶æ¬¡æˆ–å¤šæ¬¡ç›´åˆ°å¤±è´¥æˆ–è¾“å…¥æ²¡æœ‰æ¨è¿›</li>
<li><strong>some</strong> rule     : é‡å¤è§„åˆ™ä¸€æ¬¡æˆ–å¤šæ¬¡ç›´åˆ°å¤±è´¥æˆ–è¾“å…¥æ²¡æœ‰æ¨è¿›</li>
<li><strong>while</strong> rule    : é‡å¤è§„åˆ™é›¶æ¬¡æˆ–å¤šæ¬¡ç›´åˆ°å¤±è´¥ï¼Œ æ— è®ºè¾“å…¥æ˜¯å¦æ¨è¿›</li>
</ul>
<h2 id="æå–">æå–&nbsp;<a class="headline-hash no-text-decoration" href="#æå–">#</a> </h2>
<hr>
<ul>
<li><strong>collect</strong> [rule]           : ä»åŒ¹é…çš„è§„åˆ™ä¸­è¿”å›ä¸€ç»„æ”¶é›†çš„å€¼</li>
<li><strong>collect set</strong> word [rule]  : ä»å—ä¸­æ”¶é›†åŒ¹é…è§„åˆ™çš„å€¼ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º word</li>
<li><strong>collect into</strong> word [rule] : ä»åŒ¹é…çš„è§„åˆ™ä¸­æ”¶é›†å€¼å¹¶å°†å®ƒä»¬æ’å…¥åˆ°ç”± word å¼•ç”¨çš„å—ä¸­</li>
<li><strong>copy</strong> word rule           : å°† word è®¾ç½®ä¸ºåŒ¹é…è¾“å…¥çš„å‰¯æœ¬</li>
<li><strong>keep</strong> rule                : å°†åŒ¹é…è¾“å…¥çš„å‰¯æœ¬é™„åŠ åˆ°æ”¶é›†å—</li>
<li><strong>keep</strong>(expr)               : å°† Red è¡¨è¾¾å¼ä¸­çš„æœ€åä¸€ä¸ªå€¼é™„åŠ åˆ°æ”¶é›†å—</li>
<li><strong>set</strong> word rule            : å°† word è®¾ç½®ä¸ºåŒ¹é…è¾“å…¥çš„ç¬¬ä¸€ä¸ªå€¼</li>
</ul>
<h2 id="ä¿®æ”¹">ä¿®æ”¹&nbsp;<a class="headline-hash no-text-decoration" href="#ä¿®æ”¹">#</a> </h2>
<hr>
<ul>
<li><strong>insert only</strong> value        : åœ¨å½“å‰è¾“å…¥ä½ç½®æ’å…¥[/only]å€¼å¹¶åœ¨å€¼åé¢æ¨è¿›è¾“å…¥</li>
<li><strong>remove</strong> rule              : åˆ é™¤åŒ¹é…çš„è¾“å…¥</li>
</ul>
<p>æ ¸å¿ƒåŸåˆ™æåˆ°äº†ä¸¤ç§è§£ææ¨¡å¼ã€‚è¿™åœ¨ Red ä¸­æ˜¯å¿…è¦çš„ï¼ˆå°±åƒåœ¨ Rebol ä¸­ï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰ä¸¤ä¸ªåŸºæœ¬çš„ç³»åˆ—æ•°æ®ç±»å‹ : <code>string!</code> å’Œ <code>block!</code>ã€‚<code>string!</code> datatype å½“å‰æ˜¯ä¸€ä¸ª Unicode ä»£ç ç‚¹æ•°ç»„ï¼ˆ Red å°†åœ¨æœªæ¥ç‰ˆæœ¬ä¸­æ”¯æŒå­—ç¬¦æ•°ç»„ï¼‰ï¼Œè€Œ <code>block!</code> datatype æ˜¯ä¸€ä¸ªä»»æ„ Red å€¼çš„æ•°ç»„ï¼ˆåŒ…æ‹¬å…¶ä»–å—ï¼‰ã€‚</p>
<p>åœ¨å®è·µä¸­ï¼Œè¿™å¯¼è‡´ Parse æ–¹è¨€ä½¿ç”¨ä¸­çš„ä¸€äº›ç»†å¾®å·®åˆ«ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨æ–°çš„ <code>bitset!</code>  æ•°æ®ç±»å‹å®šä¹‰ä»»æ„å­—ç¬¦é›†ï¼è¿™ä»…å¯¹ <code>string!</code> è§£ææœ‰ç”¨ä»¥ä¾¿ä¸€æ¬¡åŒ¹é…å¤§é‡å­—ç¬¦ã€‚ä»¥ä¸‹æ˜¯ä»…ä½¿ç”¨ bitsets åŒ¹é…å’Œè¿­ä»£å™¨çš„ç¤ºä¾‹ :</p>
<pre tabindex="0"><code class="language-red" data-lang="red">letter: charset [#&#34;a&#34; - #&#34;z&#34;]
digit:  charset &#34;0123456789&#34;

parse &#34;hello 123 world&#34; [5 letter space 3 digit space some letter]
</code></pre><h2 id="bitset-æ•°æ®ç±»å‹">Bitset! æ•°æ®ç±»å‹&nbsp;<a class="headline-hash no-text-decoration" href="#bitset-æ•°æ®ç±»å‹">#</a> </h2>
<p>bitset å€¼æ˜¯ç”¨äºå­˜å‚¨å¸ƒå°”å€¼çš„ bit ä½æ•°ç»„ã€‚åœ¨ Parse çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œbitsets å¯¹äºåœ¨æ•´ä¸ª Unicode èŒƒå›´å†…è¡¨ç¤ºä»»æ„å­—ç¬¦é›†éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥åœ¨å•ä¸ªæ“ä½œä¸­ä¸è¾“å…¥å­—ç¬¦è¿›è¡ŒåŒ¹é…ã€‚å› ä¸º <code>bitset!</code> åœ¨æ­¤ 0.4.1 ç‰ˆæœ¬ä¸­å¼•å…¥ï¼Œå€¼å¾—æ¦‚è¿°ä¸‹æ‰€æ”¯æŒçš„åŠŸèƒ½ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒä¸ Rebol3 çš„ <code>bitset!</code> <a href="http://www.rebol.com/r3/docs/datatypes/bitset.html">å®ç°</a>ç›¸åŒã€‚</p>
<p>è¦åˆ›å»º bitsetï¼Œæ‚¨éœ€è¦æä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä½œä¸ºåŸºæœ¬è§„èŒƒã€‚å®ƒä»¬å¯ä»¥ä»¥ä¸åŒçš„å½¢å¼æä¾›ï¼šcodepoint æ•´æ•°å€¼ï¼Œ<code>char!</code> å€¼ï¼Œ<code>string!</code> å€¼ï¼Œä¸€ä¸ªèŒƒå›´æˆ–ä¸€ç»„ä¹‹å‰çš„å…ƒç´ ã€‚ä½¿ç”¨ä»¥ä¸‹è¯­æ³•åˆ›å»ºæ–°çš„ bitsetï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">make bitset! &lt;spec&gt;

&lt;spec&gt;: char!, integer!, string! or block!
</code></pre><p>ä¾‹å¦‚:</p>
<pre tabindex="0"><code class="language-red" data-lang="red">    ; create an empty bitset with places at least for 50 bits
    make bitset! 50

    ; create a bitset with bit 65 set
    make bitset! #&#34;A&#34;

    ; create a bitset with bits 104 and 105 set
    make bitset! &#34;hi&#34;

    ; create and set bits using different values representations
    make bitset! [120 &#34;hello&#34; #&#34;A&#34;]

    ; create a bitset using ranges of values
    make bitset! [#&#34;0&#34; - #&#34;9&#34; #&#34;a&#34; - #&#34;z&#34;]
</code></pre><p>èŒƒå›´ä½¿ç”¨ä¸¤ä¸ªå€¼ï¼ˆå…è®¸ <code>char!</code> æˆ– <code>integer!</code>ï¼‰å®šä¹‰ï¼Œç”¨ç ´æŠ˜å·å­—åˆ†éš”ã€‚</p>
<p>Bitsets è‡ªåŠ¨è°ƒæ•´å¤§å°ä»¥é€‚åº”æ‰€æä¾›çš„è§„æ ¼å€¼ã€‚å¤§å°èˆå…¥åˆ°é«˜ä½å­—èŠ‚è¾¹ç•Œã€‚</p>
<p>è¿˜æä¾›äº†å¿«æ· <code>charset</code> åŠŸèƒ½ä»¥ä¾›å®é™…ä½¿ç”¨ï¼Œå› æ­¤æ‚¨å¯ä»¥ç¼–å†™ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">    charset &#34;ABCDEF&#34;
    charset [120 &#34;hello&#34; #&#34;A&#34;]
    charset [#&#34;0&#34; - #&#34;9&#34; #&#34;a&#34; - #&#34;z&#34;]
</code></pre><p>å¯¹äºè¯»å†™å•ä¸ª bits ä½ï¼Œè·¯å¾„è¡¨ç¤ºæ³•æ˜¯æœ€ç®€å•çš„æ–¹æ³•ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">    bs: charset [#&#34;a&#34; - #&#34;z&#34;]
    bs/97     ; will return true
    bs/40     ; will return false
    bs/97: false
    bs/97     ; will return false
</code></pre><p>ï¼ˆæ³¨æ„ï¼šbitset ç´¢å¼•ä»é›¶å¼€å§‹ã€‚ï¼‰</p>
<p>æ­¤å¤–ï¼Œ<code>bitset!</code> æ•°æ®ç±»å‹æ”¯æŒä»¥ä¸‹æ“ä½œï¼š</p>
<p><code>pick</code>, <code>poke</code>, <code>find</code>, <code>insert</code>, <code>append</code>, <code>copy</code>, <code>remove</code>, <code>clear</code>, <code>length?</code>, <code>mold</code>, <code>form</code></p>
<p>æœ‰å…³è¿™äº›æ“ä½œçš„ä½¿ç”¨çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… Rebol3 bitset <a href="http://www.rebol.com/r3/docs/datatypes/bitset.html">æ–‡æ¡£</a>ã€‚</p>
<p>ä¸ºäº†å¤„ç†å„ç§ Unicode å­—ç¬¦ï¼Œbitsets ä¹‹å¤–çš„ä½è¢«è§†ä¸º<strong>è™šæ‹Ÿä½</strong>ï¼Œå› æ­¤å¯ä»¥æ— é”™è¯¯åœ°æµ‹è¯•å’Œè®¾ç½®å®ƒä»¬ï¼Œbitset çš„å¤§å°å°†æ ¹æ®éœ€è¦è‡ªåŠ¨æ‰©å±•ã€‚ä½†è¿™ä»ç„¶ä¸è¶³ä»¥å¤„ç†å¤§çš„èŒƒå›´ï¼Œä¾‹å¦‚é™¤äº†æ•°å­—ä¹‹å¤–çš„æ‰€æœ‰ Unicode å­—ç¬¦çš„ bitsetã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œå¯ä»¥å®šä¹‰è¡¥å……çš„ bitsetï¼Œè¯¥ bitset è¡¨ç¤ºæŒ‡å®šä½çš„è¡¥ç èŒƒå›´ã€‚è¿™ä½¿å¾—åœ¨ä»…ä½¿ç”¨å¾®å°çš„å­˜å‚¨å™¨éƒ¨åˆ†å­˜å‚¨å¤§çš„ bitset æˆä¸ºå¯èƒ½ã€‚</p>
<p>è¡¥å……çš„ bitsets çš„åˆ›å»ºæ–¹å¼ä¸æ™®é€š bitsets ç›¸åŒï¼Œä½†å®ƒä»¬éœ€è¦ä»¥ <code>not</code> å•è¯å¼€å¤´å¹¶å§‹ç»ˆå¯¹äºä»–ä»¬çš„è§„æ ¼ä½¿ç”¨ <code>block!</code></p>
<pre tabindex="0"><code class="language-red" data-lang="red">    ; all characters except digits
    charset [not &#34;0123456789&#34;]

    ; all characters but hexadecimal symbols
    charset [not &#34;ABCDEF&#34; #&#34;0&#34; - #&#34;9&#34;]

    ; all characters except whitespaces
    charset reduce [&#39;not space tab cr lf]
</code></pre><p>è®¾ç½®æ“ä½œä¹Ÿæ˜¯å¯èƒ½çš„ï¼Œä½†ç›®å‰åªæœ‰ <code>union</code> ç”¨ Red å®ç°äº†ï¼ˆå®ƒå¯¹äº bitsets æ¥è¯´æ˜¯æœ€å¸¸ç”¨çš„ï¼‰ã€‚ä½¿ç”¨ <code>union</code>ï¼Œæ‚¨å¯ä»¥å°†ä¸¤ä¸ª bitsets åˆåœ¨ä¸€èµ·ä»¥å½¢æˆä¸€ä¸ªæ–°çš„ bitsetsï¼Œè¿™åœ¨å®è·µä¸­éå¸¸æœ‰ç”¨ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">    digit: charset &#34;0123456789&#34;
    lower: charset [#&#34;a&#34; - #&#34;z&#34;]
    upper: charset [#&#34;A&#34; - #&#34;Z&#34;]

    letters:  union lower upper
    hexa:     union upper digit
    alphanum: union letters digit
</code></pre><h2 id="parse-å®ç°">Parse å®ç°&nbsp;<a class="headline-hash no-text-decoration" href="#parse-å®ç°">#</a> </h2>
<p>Parse æ–¹è¨€å·²ç»å®ç°ä¸º <a href="http://en.wikipedia.org/wiki/Finite-state_machine">FSM</a>ï¼Œå®ƒä¸åŒäºä¾èµ–äºé€’å½’å‡½æ•°è°ƒç”¨çš„ Rebol3 å®ç°ã€‚ FSM æ–¹æ³•å¯ä»¥å®ç°å‡ ä¸ªæœ‰è¶£çš„åŠŸèƒ½ï¼Œä¾‹å¦‚èƒ½å¤Ÿåœæ­¢è§£æå¹¶åœ¨ä»¥åæ¢å¤å®ƒï¼Œç”šè‡³åºåˆ—åŒ–è§£æçŠ¶æ€ï¼Œè¿œç¨‹å‘é€å®ƒå¹¶é‡æ–°åŠ è½½å®ƒä»¥ç»§ç»­è§£æã€‚ç°åœ¨å¯ä»¥ç”¨æœ€å°‘çš„åŠªåŠ›æ¥å®ç°è¿™äº›åŠŸèƒ½ã€‚</p>
<p>Red Parse <a href="https://github.com/red/red/blob/master/runtime/parse.reds">å®ç°</a>å¤§çº¦æœ‰1300è¡Œ Red/System ä»£ç ï¼Œå…¶ä¸­å¾ˆå¤§ä¸€éƒ¨åˆ†èŠ±åœ¨äº†é’ˆå¯¹å¸¸è§æƒ…å†µçš„ä¼˜åŒ–è¿­ä»£å¾ªç¯ä¸Šã€‚å¤§çº¦æœ‰<a href="https://github.com/red/red/blob/master/tests/source/units/parse-test.red">770ä¸ªå•å…ƒæµ‹è¯•</a>æ˜¯æ‰‹å†™çš„ï¼Œä»¥æ¶µç›–åŸºæœ¬çš„ Parse åŠŸèƒ½ã€‚</p>
<p>å½“å‰çš„ Parse ä½œä¸ºè§£é‡Šå™¨è¿è¡Œï¼Œå¯¹äºå¤§å¤šæ•°ç”¨ä¾‹æ¥è¯´éƒ½è¶³å¤Ÿå¿«ã€‚å¯¹äºéœ€è¦æœ€é«˜æ€§èƒ½çš„æƒ…å†µï¼Œå·²ç»å¼€å§‹åœ¨ Parse é™æ€ç¼–è¯‘å™¨ä¸Šå¼€å§‹å·¥ä½œï¼Œä»¥ä¾¿å°½å¿«ä¸º Parse å¯†é›†å‹ Red åº”ç”¨ç¨‹åºæä¾›æœ€å¿«çš„é€Ÿåº¦ã€‚ç”Ÿæˆçš„ä»£ç æ˜¯çº¯ Red/System ä»£ç ï¼Œå¹³å‡æ¯”è§£é‡Šç‰ˆæœ¬å¿«ä¸€èˆ¬ã€‚å½“ Red å°†è‡ªæ‰˜ç®¡æ—¶ï¼Œå°†æä¾› Parse JIT ç¼–è¯‘å™¨æ¥å¤„ç†é™æ€ç¼–è¯‘å™¨æ— æ³•å¤„ç†çš„æƒ…å†µã€‚</p>
<p>éšç€ Red è·å¾—æ›´å¤šåŠŸèƒ½ï¼ŒParse å°†ç»§ç»­å¾—åˆ°æ”¹è¿›ä»¥åˆ©ç”¨å®ƒä»¬ã€‚å…¶ä»–æœªæ¥çš„æ”¹è¿›ï¼Œ<code>binary!</code> è§£æå°†å°½å¿«æ·»åŠ ä¸€æ—¦ <code>binary!</code> æ•°æ®ç±»å‹å¯ç”¨ï¼Œå½“ <code>port!</code> æ•°æ®ç±»å‹å‡ºç°æ—¶æµè§£æä¹Ÿå°†æˆä¸ºå¯èƒ½ã€‚</p>
<p>Red Parse è¿˜ä»¥å¯é€‰çš„å›è°ƒå‡½æ•°çš„å½¢å¼å…¬å¼€é¢å‘å…¬å…±äº‹ä»¶çš„ APIï¼Œå¯ä»¥ä½¿ç”¨<code>/trace</code> ç»†åŒ–ä¼ é€’ç»™ <code>parse</code>ã€‚</p>
<pre tabindex="0"><code class="language-red" data-lang="red">    parse/trace &lt;input&gt; &lt;rules&gt; &lt;callback&gt;

    &lt;callback&gt; specification:

    func [
        event   [word!]   ; Trace events
        match?  [logic!]  ; Result of last matching operation
        rule    [block!]  ; Current rule at current position
        input   [series!] ; Input series at next position to match
        stack   [block!]  ; Internal parse rules stack
        return: [logic!]  ; TRUE: continue parsing, FALSE: exit
    ]

    Events list:
    - push    : once a rule or block has been pushed on stack
    - pop     : before a rule or block is popped from stack
    - fetch   : before a new rule is fetched
    - match   : after a value matching occurs
    - iterate : after a new iteration pass begins (ANY, SOME, ...)
    - paren   : after a paren expression was evaluated
    - end     : after end of input has been reached
</code></pre><p>æ­¤ API å°†åœ¨æœªæ¥è¿›è¡Œæ‰©å±•ï¼Œä»¥è·å¾—æ›´ç»†ç²’åº¦çš„äº‹ä»¶ã€‚è¿™ä¸ª API å¯ç”¨äºä¸º Parse æä¾›è·Ÿè¸ªï¼Œç»Ÿè®¡ï¼Œè°ƒè¯•&hellip;&hellip;è®©æˆ‘ä»¬çœ‹çœ‹ Red ç”¨æˆ·ä¼šæƒ³å‡ºä»€ä¹ˆï¼ ;-)</p>
<p>å·²å®ç°<a href="https://github.com/red/red/blob/master/boot.red#L1013">é»˜è®¤å›è°ƒ</a>ä»¥è¿›è¡Œè·Ÿè¸ªã€‚å¯ä»¥ä½¿ç”¨æ–¹ä¾¿çš„è§£æè·Ÿè¸ªå‡½æ•°åŒ…è£…å™¨è®¿é—®å®ƒï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">parse-trace &lt;input&gt; &lt;rules&gt;
</code></pre><p>æ‚¨å¯ä»¥ä½¿ç”¨ç®€å•çš„è§£æè§„åˆ™æ¥å°è¯•æŸ¥çœ‹ç»“æœè¾“å‡ºã€‚</p>
<h2 id="dsl-æ”¯æŒæ€ä¹ˆæ ·">DSL æ”¯æŒæ€ä¹ˆæ ·ï¼Ÿ&nbsp;<a class="headline-hash no-text-decoration" href="#dsl-æ”¯æŒæ€ä¹ˆæ ·">#</a> </h2>
<p>Parse æ˜¯å®ç° DSL è§£æå™¨ï¼ˆåµŒå…¥å¼å’Œå¤–éƒ¨å¼ï¼‰çš„å¼ºå¤§å·¥å…·ï¼Œè¿™è¦å½’åŠŸäºå®ƒèƒ½å¤Ÿå°† Red è¡¨è¾¾å¼ç›´æ¥å†…è”åˆ°è§„åˆ™ä¸­ï¼Œä»è€Œå¯ä»¥è½»æ¾åœ°å°† DSL è¯­æ³•ä¸å…¶ç›¸åº”çš„è¯­ä¹‰é“¾æ¥èµ·æ¥ã€‚ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªä½¿ç”¨ Parse ç¼–å†™çš„è‘—åæ··æ·†<a href="http://en.wikipedia.org/wiki/Brainfuck">è¯­è¨€</a>çš„ç®€å•è§£é‡Šå™¨ï¼š</p>
<pre tabindex="0"><code class="language-red" data-lang="red">bf: function [prog [string!]][
        size: 30000
        cells: make string! size
        append/dup cells null size

        parse prog [
            some [
                  &#34;&gt;&#34; (cells: next cells)
                | &#34;&lt;&#34; (cells: back cells)
                | &#34;+&#34; (cells/1: cells/1 + 1)
                | &#34;-&#34; (cells/1: cells/1 - 1)
                | &#34;.&#34; (prin cells/1)
                | &#34;,&#34; (cells/1: first input &#34;&#34;)
                | &#34;[&#34; [if (cells/1 = null) thru &#34;]&#34; | none]
                | &#34;]&#34; [
                   pos: if (cells/1 &lt;&gt; null)
                   (pos: find/reverse pos #&#34;[&#34;) :pos
                   | none
                  ]
                | skip
            ]
        ]
    ]

    ; This code will print a Hello World! message
    bf {
        ++++++++++[&gt;+++++++&gt;++++++++++&gt;+++&gt;+&lt;&lt;&lt;&lt;-]&gt;++.&gt;+.+++++++..+++.
        &gt;++.&lt;&lt;+++++++++++++++.&gt;.+++.------.--------.&gt;+.&gt;.
    }

    ; This one will print a famous quote
    bf {
        ++++++++[&gt;+&gt;++&gt;+++&gt;++++&gt;+++++&gt;++++++&gt;+++++++&gt;++++++++&gt;
        +++++++++&gt;++++++++++&gt;+++++++++++&gt;++++++++++++&gt;++++++++
        +++++&gt;++++++++++++++&gt;+++++++++++++++&gt;++++++++++++++++&lt;
        &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;-]&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;----.++++&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
        &gt;&gt;&gt;&gt;&gt;&gt;.&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;---.+++&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;
        &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;++.--&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;---.+++&lt;&lt;&lt;&lt;
        &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;.&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;+.-&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
        &gt;&gt;&gt;&gt;&gt;&gt;+++.---&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;.&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;--.++
        &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;-.+&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;.&lt;&lt;&lt;&lt;&gt;
        &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;+++.---&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;.&lt;&lt;&lt;&lt;&lt;&lt;
        &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;-.+&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;-.
        +&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;--.++&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;+.-
        &lt;&lt;&lt;&lt;.
    }
</code></pre><p>æ³¨æ„ï¼šæ­¤å®ç°ä»…é™äºä¸€çº§â€œ[&hellip;]â€åµŒå¥—ï¼Œä»¥ä½¿å…¶å°½å¯èƒ½çŸ­ã€‚<a href="https://gist.github.com/dockimbel/7713170">æ­¤å¤„</a>æ˜¯ä»…ä½¿ç”¨ Parse çš„å®Œæ•´ä½†æ›´é•¿ä¸”æ›´å¤æ‚çš„å®ç°ã€‚</p>
<p>å› æ­¤ï¼Œè¿™ç§æ–¹æ³•å¯¹å°å‹ DSL éå¸¸æœ‰ç”¨ã€‚å¯¹äºæ›´å¤æ‚çš„ Parseï¼ŒParse ä»ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†éšç€ DSL è¯­ä¹‰å˜å¾—æ›´åŠ å¤æ‚ï¼Œå®ƒå¯èƒ½æ²¡é‚£ä¹ˆæœ‰ç”¨ã€‚å¯¹äºå¤§å¤šæ•°ç”¨æˆ·è€Œè¨€ï¼Œä¸ºæ›´é«˜çº§çš„ DSL å®ç°è§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨å¹¶éæ˜“äº‹ã€‚ Red å°†é€šè¿‡åœ¨Parse ä¹‹ä¸Šæä¾›å…ƒ DSL åŒ…è£…å™¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡æŠ½è±¡å‡ºè§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨çš„æ ¸å¿ƒéƒ¨åˆ†æ¥æš´éœ²æ›´é«˜çº§åˆ«çš„ API ä»¥æ„å»ºæ›´å¤æ‚çš„ DSLã€‚ç”¨äºæ„å»ºå…¶ä»– DSL çš„ DSL å¹¶ä¸æ˜¯ä¸€ä¸ªç–¯ç‹‚çš„æƒ³æ³•ï¼Œå®ƒå·²ç»ä»¥ä¸€ç§éå¸¸å¼ºå¤§çš„å½¢å¼å­˜åœ¨ï¼Œä¾‹å¦‚<a href="http://www.rascal-mpl.org/">Rascal</a> è¯­è¨€ã€‚ Red å°†æä¾›çš„åªæ˜¯æœè¿™ä¸ªæ–¹å‘è¿ˆå‡ºçš„ä¸€æ­¥ï¼Œä½†æ²¡æœ‰åƒ Rascal é‚£æ ·ç²¾å¯†ï¼ˆå’Œå¤æ‚ï¼‰ã€‚</p>
<h2 id="æ­¤ç‰ˆæœ¬ä¸­çš„å…¶ä»–æ›´æ”¹">æ­¤ç‰ˆæœ¬ä¸­çš„å…¶ä»–æ›´æ”¹&nbsp;<a class="headline-hash no-text-decoration" href="#æ­¤ç‰ˆæœ¬ä¸­çš„å…¶ä»–æ›´æ”¹">#</a> </h2>
<p>åªæ˜¯æåˆ°è¿™ä¸ªç‰ˆæœ¬ä¸­çš„å…¶ä»–å˜åŒ–ï¼Œç°åœ¨æˆ‘ä»¬æ‘†è„±äº†æˆ¿é—´é‡Œçš„800ç£…å¤§çŒ©çŒ©ã€‚æ­¤ç‰ˆæœ¬ä¸º Red å’Œ Red/System å¸¦æ¥äº†å¤§é‡çš„<a href="https://github.com/red/red/issues?milestone=12&amp;page=1&amp;state=closed">é”™è¯¯ä¿®å¤</a>ã€‚æ­¤å¤–ï¼Œå¤šäºäº† qtxieï¼ŒELF æ–‡ä»¶å‘å°„å™¨åœ¨ç”Ÿæˆå…±äº«åº“æ—¶ç°åœ¨ä¸å…¶ä»–æ–‡ä»¶å‘å°„å™¨ç›¸å½“ã€‚</p>
<p>æ„Ÿè°¢æ‰€æœ‰å‚ä¸å¸®åŠ©å®ç°è¿™ä¸€é‡å¤§å‘å¸ƒçš„äººå‘˜ï¼ŒåŒ…æ‹¬è®¾è®¡ä¿®å¤å’Œæ”¹è¿›ï¼Œæµ‹è¯•ï¼Œé”™è¯¯æŠ¥å‘Šå’Œæµ‹è¯•ç¼–å†™ã€‚</p>
<p>è¯·äº«ç”¨ï¼ :-)</p>
<h2 id="é“¾æ¥">é“¾æ¥&nbsp;<a class="headline-hash no-text-decoration" href="#é“¾æ¥">#</a> </h2>
<ul>
<li><a href="https://www.red-lang.org/2013/11/041-introducing-parse.html">introducing parse</a></li>
<li><a href="https://doc.red-lang.org/zh-hans/">Red ç¼–ç¨‹è¯­è¨€æ–‡æ¡£</a></li>
<li><a href="http://www.red-by-example.org/parse.html">Red by Example</a></li>
<li><a href="http://www.michaelsydenham.com/reds-parse-dialect/">Redâ€™s Parse dialect</a></li>
<li><a href="http://www.michaelsydenham.com/red-parse-simple-rules/">Red Parse</a></li>
</ul>


        </div>
    </div>
</article>



                <footer>
                    




<div class="no-text-decoration">
    <div class="jump top"><a href="#" title="Top of this page">â®‰</a></div>
    <div class="jump bottom"><a href="#bottom" title="Bottom of this page">â®‹</a></div>
</div>


 
    
        <div class="hugotoc no-text-decoration">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#parse-å…¥é—¨">Parse å…¥é—¨</a></li>
    <li><a href="#parse-æ–¹è¨€">Parse æ–¹è¨€</a></li>
    <li><a href="#åŒ¹é…">åŒ¹é…</a></li>
    <li><a href="#æ§åˆ¶æµ">æ§åˆ¶æµ</a></li>
    <li><a href="#è¿­ä»£">è¿­ä»£</a></li>
    <li><a href="#æå–">æå–</a></li>
    <li><a href="#ä¿®æ”¹">ä¿®æ”¹</a></li>
    <li><a href="#bitset-æ•°æ®ç±»å‹">Bitset! æ•°æ®ç±»å‹</a></li>
    <li><a href="#parse-å®ç°">Parse å®ç°</a></li>
    <li><a href="#dsl-æ”¯æŒæ€ä¹ˆæ ·">DSL æ”¯æŒæ€ä¹ˆæ ·ï¼Ÿ</a></li>
    <li><a href="#æ­¤ç‰ˆæœ¬ä¸­çš„å…¶ä»–æ›´æ”¹">æ­¤ç‰ˆæœ¬ä¸­çš„å…¶ä»–æ›´æ”¹</a></li>
    <li><a href="#é“¾æ¥">é“¾æ¥</a></li>
  </ul>
</nav>
            <a href="#" class="back-to-top">Back to top</a>
        </div>
    
    
<script src="/js/libs/jquery/3.3.1/jquery.slim.min.min.22ee3db0c0e99fd0fbce3aee19672bd53d25469daf734bd4c165649f6eaf7d7f.js"></script>

<link rel="preload" href="/js/libs/jquery/3.3.1/jquery.slim.min.min.22ee3db0c0e99fd0fbce3aee19672bd53d25469daf734bd4c165649f6eaf7d7f.js" as="script">

<script type="application/javascript">(function() {
     var $window = $(window);
     if ($window.width() >= 1400) { 
         var $toc = $('#TableOfContents');
         if ($toc.length > 0) {
             function onScroll(){
                 var currentScroll = $window.scrollTop();
                 var h = $('.content h1, .content h2, .content h3, .content h4, .content h5, .content h6, .h-feed h2');
                 var id = "";
                 h.each(function (i, e) {
                     e = $(e);
                     if (e.offset().top - 10 <= currentScroll) {
                         id = e.attr('id');
                     }
                 });
                 var current = $toc.find('a.current');
                 if (current.length == 1 && current.eq(0).attr('href') == '#' + id) return true;

                 current.each(function (i, e) {
                     $(e).removeClass('current').siblings('ul').hide();
                 });
                 $toc.find('a[href="#' + id + '"]').parentsUntil('#TableOfContents').each(function (i, e) {
                     $(e).children('a').addClass('current').siblings('ul').show();
                 });
             }
             $window.on('scroll', onScroll);
             $(document).ready(function() {
                 $toc.find('a').parent('li').find('ul').hide();
                 onScroll();
                 document.getElementsByClassName('hugotoc')[0].style.display = '';
             });}}})();</script>








<div class="backtotop center no-text-decoration">
    <a href="#">back to <span class="top">top</span></a>
</div>


<div class="right">
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in â€˜rakulangâ€™"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with â€˜rakulangâ€™"
                                
                            >
                                <a class="p-category" href="https://ohmycloud.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>

</div>
<div class="clear-float"></div>



<div class="prev-next-navigator clear-float">
    
        <span class="prev-post left no-text-decoration">
            <a href="https://ohmycloud.github.io/notes/playing-with-fibonacci-in-raku/" class="nobr">Â« ğŸ„ 15/25. åœ¨ Raku ä¸­ä½¿ç”¨æ–æ³¢é‚£å¥‘æ•°</a>
        </span>
    
    
        <span class="next-post right no-text-decoration">
            <a href="https://ohmycloud.github.io/posts/71.variables/" class="nobr">å˜é‡ Â»</a>
        </span>
    
</div>


<a id="bottom"></a>









                       







                    <ul class="no-bullets feed right inline">
    
        
        
    
</ul>
<div class="clear-float"></div>

                </footer>
                <hr />
            </div>               

            <footer> 
                

<ul class="social no-text-decoration">
    
</ul>










 
    
    



<p class="generated no-text-decoration">
    Generated using  <a href="https://gitlab.com/kaushalmodi/hugo-theme-refined"><code class="nobr">hugo-theme-refined</code></a> + <span class="nobr">Hugo <a href="https://github.com/gohugoio/hugo/commit/312735366b20d64bd61bff8627f593749f86c964">0.123.7</a></span>
</p>

<p>
    
</p>




<div class="badges no-text-decoration">
    
    

    
</div>




<script type="application/javascript">var nav=responsiveNav("#nav");</script>




<script defer src="/js/libs/fragmentions/wrapper.min.e8c468c89edc4f5dccaa8c720c6b220b3088a16cd7b1e4a1e3345985788260c9.js"></script>









            </footer>
        </div> 
    </body>
</html>

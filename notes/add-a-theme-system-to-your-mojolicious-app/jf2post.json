{"author":{"name":null,"type":"card","url":"https://ohmycloud.github.io/"},"content":{"html":"\u003cp\u003e\u003cimg src=\"https://mojolicious.io/blog/2018/12/09/add-a-theme-system-to-your-mojolicious-app/banner.jpg\" alt=\"img\"\u003e\u003c/p\u003e\n\u003cp\u003eä½ å†™äº†ä¸€ä¸ªå¾ˆæ£’çš„Mojoliciousåº”ç”¨ç¨‹åºï¼Œäººä»¬ä½¿ç”¨å®ƒã€‚å¥‡å¦™ï¼ä½†æ˜¯ç”¨æˆ·å¯èƒ½æƒ³è¦ä¿®æ”¹åº”ç”¨ç¨‹åºçš„ä¸»é¢˜ï¼šæ›´æ”¹å¾½æ ‡ï¼Œä½¿ç”¨å…¶ä»–CSSæ¡†æ¶ï¼Œè¿™ç±»äº‹æƒ…ã€‚\u003c/p\u003e\n\u003cp\u003eä¿®æ”¹Mojoliciousåº”ç”¨ç¨‹åºçš„ä¸»é¢˜éå¸¸ç®€å•ï¼šåœ¨å…¬å…±å’Œæ¨¡æ¿ä¸­æ·»åŠ ï¼Œä¿®æ”¹æˆ–åˆ é™¤å†…å®¹ã€‚ä½†æ˜¯æ‰€æœ‰è¿™äº›ç›´æ¥ä¿®æ”¹å¯èƒ½æ— æ³•åœ¨æ›´æ–°åº”ç”¨ç¨‹åºæ—¶ç»§ç»­å­˜åœ¨ï¼šå®ƒä»¬åªä¼šè¢«æ–°ç‰ˆæœ¬çš„æ–‡ä»¶åˆ é™¤ã€‚\u003c/p\u003e\n\u003cp\u003eè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•æä¾›ä¸€ç§åœ¨Mojoliciousåº”ç”¨ç¨‹åºä¸­æ‹¥æœ‰ä¸»é¢˜ç³»ç»Ÿçš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å…è®¸ç”¨æˆ·åœ¨æ²¡æœ‰ç—›è‹¦çš„æƒ…å†µä¸‹æ‹¥æœ‰è‡ªå®šä¹‰ä¸»é¢˜ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸¢å¤±æ›´æ–°çš„é£é™©ã€‚\u003c/p\u003e\n\u003ch2 id=\"ä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åº\"\u003eä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åº\u003c/h2\u003e\n\u003cp\u003eå½“æ‚¨ä½¿ç”¨mojoç”ŸæˆMyApplicationåˆ›å»ºæ–°çš„Mojoliciousåº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™äº›æ˜¯å°†æä¾›æ–‡ä»¶åŠå…¶é»˜è®¤å†…å®¹çš„é»˜è®¤ç›®å½•ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ tree public templates\npublic\nâ””â”€â”€ index.html\ntemplates\nâ”œâ”€â”€ example\nâ”‚   â””â”€â”€ welcome.html.ep\nâ””â”€â”€ layouts\n    â””â”€â”€ default.html.ep\n\n2 directories, 3 files\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003epublicæ˜¯å­˜å‚¨é™æ€æ–‡ä»¶çš„åœ°æ–¹ï¼Œè€Œtemplatesæ˜¯å­˜å‚¨æ¨¡æ¿çš„åœ°æ–¹ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™äº›è·¯å¾„åœ¨$ app-\u0026gt; static-\u0026gt; pathså’Œ$ app-\u0026gt; renderer-\u0026gt; pathsä¸­çš„Mojoliciousåº”ç”¨ç¨‹åºä¸­æ³¨å†Œã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯æ•°ç»„å¼•ç”¨ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å‘å®ƒä»¬æ·»åŠ æˆ–åˆ é™¤ç›®å½•ã€‚\u003c/p\u003e\n\u003cp\u003eå½“æä¾›é™æ€æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨$ app-\u0026gt; static-\u0026gt; pathsæ•°ç»„çš„ç¬¬ä¸€ä¸ªç›®å½•ä¸­æœç´¢è¯¥æ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°å®ƒï¼Œåˆ™æœç´¢ä¸‹ä¸€ä¸ªç›®å½•ï¼Œä¾æ­¤ç±»æ¨ã€‚æ¨¡æ¿æ¸²æŸ“ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\u003c/p\u003e\n\u003ch2 id=\"è®©æˆ‘ä»¬æ”¹å˜è·¯ç”±\"\u003eè®©æˆ‘ä»¬æ”¹å˜è·¯ç”±\u003c/h2\u003e\n\u003cp\u003eæˆ‘ä»¬å¯ä»¥å°†å…¬å…±æ¨¡æ¿å’Œæ¨¡æ¿é»˜è®¤ç›®å½•ä¿å­˜åœ¨åº”ç”¨ç¨‹åºç›®å½•çš„æ ¹ç›®å½•ä¸‹ï¼Œä½†æˆ‘å–œæ¬¢åœ¨ä¸€ä¸ªåä¸ºthemesçš„ç›®å½•ä¸­é‡æ–°ç»„åˆæ‰€æœ‰ä¸ä¸»é¢˜ç›¸å…³çš„ä¸œè¥¿å¹¶è°ƒç”¨æˆ‘çš„é»˜è®¤ä¸»é¢˜\u0026hellip;å¥½å§ï¼Œé»˜è®¤ã€‚\u003c/p\u003e\n\u003cp\u003eåˆ›å»ºæ–°ç›®å½•å¹¶åœ¨å…¶ä¸­ç§»åŠ¨é»˜è®¤ä¸»é¢˜ç›®å½•ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ mkdir -p themes/default\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ mv public templates themes/default\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç„¶åï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹åº”ç”¨ç¨‹åºä¸­çš„è·¯å¾„ã€‚åœ¨ \u003ccode\u003elib/MyApplication.pm\u003c/code\u003e ä¸­æ·»åŠ ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# Replace the default paths\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003erenderer\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003erel_file\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;themes/default/templates\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)]);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003estatic\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003erel_file\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;themes/default/public\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)]);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"æ·»åŠ ä½¿ç”¨å…¶ä»–ä¸»é¢˜çš„æ–¹æ³•\"\u003eæ·»åŠ ä½¿ç”¨å…¶ä»–ä¸»é¢˜çš„æ–¹æ³•\u003c/h2\u003e\n\u003cp\u003eå¦‚å‰æ‰€è¿°ï¼ŒMojoliciousåœ¨å·²æ³¨å†Œè·¯å¾„çš„ç¬¬ä¸€ä¸ªç›®å½•ä¸­æœç´¢é™æ€æ–‡ä»¶æˆ–æ¨¡æ¿ï¼Œå¦‚æœæ‰¾ä¸åˆ°æ–‡ä»¶æˆ–æ¨¡æ¿åˆ™è½¬åˆ°ä¸‹ä¸€ä¸ªã€‚\u003c/p\u003e\n\u003cp\u003eå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é»˜è®¤ä¸»é¢˜è·¯å¾„ä¹‹å‰æ·»åŠ æ–°ä¸»é¢˜è·¯å¾„ã€‚\u003c/p\u003e\n\u003cp\u003eå‡è®¾æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåœ£è¯ä¸»é¢˜ï¼Œå…¶ä¸­æ–‡ä»¶ä½äºä¸»é¢˜/åœ£è¯èŠ‚/å…¬å…±å†…å®¹ä¸­ï¼Œå“ªäº›æ¨¡æ¿ä½äºä¸»é¢˜/åœ£è¯èŠ‚/æ¨¡æ¿ä¸­ã€‚\u003c/p\u003e\n\u003cp\u003eæˆ‘ä»¬è¦æ·»åŠ åˆ°ä»£ç ä¸­çš„ä»£ç æ®µå˜ä¸ºï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# Replace the default paths\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003erenderer\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003erel_file\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;themes/default/templates\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)]);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003estatic\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003erel_file\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;themes/default/public\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)]);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# Put the new theme first\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eunshift\u003c/span\u003e \u003cspan class=\"nv\"\u003e@\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003erenderer\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003erel_file\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;themes/christmas/templates\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eunshift\u003c/span\u003e \u003cspan class=\"nv\"\u003e@\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003estatic\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e   \u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003erel_file\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;themes/christmas/public\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é‡è½½é»˜è®¤æ–‡ä»¶ã€‚\u003c/p\u003e\n\u003cp\u003eæ‚¨ä¸å¿…ä¿®æ”¹é»˜è®¤ä¸»é¢˜çš„æ¯ä¸ªæ–‡ä»¶ä»¥å…·æœ‰æ–°ä¸»é¢˜ï¼šåªéœ€åœ¨æ–°ä¸»é¢˜ç›®å½•ä¸­å¤åˆ¶è¦é‡è½½çš„æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨å®ƒè€Œä¸æ˜¯é»˜è®¤ä¸»é¢˜ç›®å½•ã€‚\u003c/p\u003e\n\u003cp\u003eå‡è®¾ä½ çš„é»˜è®¤ä¸»é¢˜ä¸­æœ‰ä¸€ä¸ªbackground.pngæ–‡ä»¶ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ cd themes/default\n$ tree public templates\npublic\nâ”œâ”€â”€ background.png\nâ””â”€â”€ index.html\ntemplates\nâ”œâ”€â”€ example\nâ”‚   â””â”€â”€ welcome.html.ep\nâ””â”€â”€ layouts\n    â””â”€â”€ default.html.ep\n\n2 directories, 4 files\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eä¸ºäº†è¶…è½½å®ƒï¼Œä½ åªéœ€è¦è¿™ä¸ªï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ cd themes/christmas\n$ tree public templates\npublic\nâ””â”€â”€ background.png\ntemplates\n\n0 directories, 1 files\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"ä½¿ç”¨-mojoliciouspluginconfig-æ’ä»¶\"\u003eä½¿ç”¨ Mojolicious::Plugin::Config æ’ä»¶\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://mojolicious.org/perldoc/Mojolicious/Plugin/Config\"\u003eMojolicious::Plugin::Config\u003c/a\u003eè‡ªå¸¦Mojoliciousï¼Œæ˜¯è®©ç”¨æˆ·é…ç½®åº”ç”¨ç¨‹åºçš„å¥½æ–¹æ³•ã€‚ä¸ºä»€ä¹ˆä¸ç”¨å®ƒè®©ä»–ä»¬é€‰æ‹©ä»–ä»¬æƒ³è¦çš„ä¸»é¢˜ï¼Ÿåœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œè¯¥è®¾ç½®å°†æ¯«ä¸å¥‡æ€ªåœ°å‘½åä¸ºä¸»é¢˜ã€‚\u003c/p\u003e\n\u003cp\u003eé¦–å…ˆï¼Œä½¿ç”¨æ’ä»¶ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# Mojolicious\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$config\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e$app\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eplugin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;Config\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"n\"\u003edefault\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003etheme\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;default\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eè¯·æ³¨æ„ï¼Œæˆ‘åœ¨æ’ä»¶çš„é…ç½®ä¸­æ·»åŠ äº†é»˜è®¤å€¼ã€‚å®ƒç¡®ä¿å³ä½¿ç”¨æˆ·æ²¡æœ‰é€‰æ‹©ä¸»é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿä¼šä¸ºæ‰€é€‰ä¸»é¢˜è®¾ç½®æ­£ç¡®çš„å€¼ã€‚\u003c/p\u003e\n\u003cp\u003eç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€åœ¨ä»£ç ä¸­ä½¿ç”¨è¯¥é…ç½®è®¾ç½®ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# Replace the default paths\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003erenderer\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003erel_file\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;themes/default/templates\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)]);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003estatic\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003erel_file\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;themes/default/public\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)]);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# Do we use a different theme?\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$config\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"ow\"\u003ene\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;default\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e# Put the new theme first\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$theme\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003erel_file\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;themes/\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nv\"\u003e$config\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eunshift\u003c/span\u003e \u003cspan class=\"nv\"\u003e@\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003erenderer\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"nv\"\u003e$theme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;/templates\u0026#39;\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ed\u003c/span\u003e \u003cspan class=\"nv\"\u003e$theme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;/templates\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eunshift\u003c/span\u003e \u003cspan class=\"nv\"\u003e@\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nv\"\u003e$self\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"nn\"\u003estatic\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epaths\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e   \u003cspan class=\"nv\"\u003e$theme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;/public\u0026#39;\u003c/span\u003e    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ed\u003c/span\u003e \u003cspan class=\"nv\"\u003e$theme\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#39;/public\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eè¯·æ³¨æ„ \u003ccode\u003eif -d $theme.'/templates'\u003c/code\u003eï¼šå¦‚æœä½¿ç”¨ä¸»é¢˜åç§°ä¸­çš„æ‹¼å†™é”™è¯¯å¹¶ä¸”å¦‚æœæ‚¨åªéœ€è¦å…¶ä¸­ä¸€ä¸ªï¼Œåˆ™å¯ä»¥é¿å…åœ¨ä¸»é¢˜ç›®å½•ä¸­åˆ›å»º \u003ccode\u003etemplates\u003c/code\u003e å’Œ \u003ccode\u003epublic\u003c/code\u003eï¼Œä»è€Œé˜²æ­¢å‡ºç°é—®é¢˜ã€‚\u003c/p\u003e\n\u003ch2 id=\"ç»“è®º\"\u003eç»“è®º\u003c/h2\u003e\n\u003cp\u003eæ‚¨ç°åœ¨æ­£åœ¨åº”ç”¨ç¨‹åºä¸­æä¾›ä¸»é¢˜ç³»ç»Ÿã€‚ç”¨æˆ·ç°åœ¨å¯ä»¥æ”¹å˜å®ƒçš„æ ·å¼è€Œä¸ç”¨æ‹…å¿ƒä¸¢å¤±å¯¹æ›´æ–°çš„æ›´æ”¹ï¼ˆå°½ç®¡ä»–ä»¬éœ€è¦æ£€æŸ¥ä»–ä»¬æ‰€åšçš„æ›´æ”¹ï¼Œä»¥é˜²é»˜è®¤ä¸»é¢˜å‘ç”Ÿå¾ˆå¤§å˜åŒ–ï¼‰ã€‚\u003c/p\u003e\n\u003cp\u003eæ‚¨ç”šè‡³å¯ä»¥è‡ªå·±æä¾›ä¸åŒçš„ä¸»é¢˜ï¼Œå°±åƒæˆ‘ä¸ºæˆ‘çš„ \u003ca href=\"https://framagit.org/fiat-tux/hat-softwares/lstu\"\u003eURL ç¼©çŸ­åº”ç”¨ç¨‹åº\u003c/a\u003e Lstu æ‰€åšçš„é‚£æ ·.ğŸ™‚\u003c/p\u003e\n","text":"\nä½ å†™äº†ä¸€ä¸ªå¾ˆæ£’çš„Mojoliciousåº”ç”¨ç¨‹åºï¼Œäººä»¬ä½¿ç”¨å®ƒã€‚å¥‡å¦™ï¼ä½†æ˜¯ç”¨æˆ·å¯èƒ½æƒ³è¦ä¿®æ”¹åº”ç”¨ç¨‹åºçš„ä¸»é¢˜ï¼šæ›´æ”¹å¾½æ ‡ï¼Œä½¿ç”¨å…¶ä»–CSSæ¡†æ¶ï¼Œè¿™ç±»äº‹æƒ…ã€‚\nä¿®æ”¹Mojoliciousåº”ç”¨ç¨‹åºçš„ä¸»é¢˜éå¸¸ç®€å•ï¼šåœ¨å…¬å…±å’Œæ¨¡æ¿ä¸­æ·»åŠ ï¼Œä¿®æ”¹æˆ–åˆ é™¤å†…å®¹ã€‚ä½†æ˜¯æ‰€æœ‰è¿™äº›ç›´æ¥ä¿®æ”¹å¯èƒ½æ— æ³•åœ¨æ›´æ–°åº”ç”¨ç¨‹åºæ—¶ç»§ç»­å­˜åœ¨ï¼šå®ƒä»¬åªä¼šè¢«æ–°ç‰ˆæœ¬çš„æ–‡ä»¶åˆ é™¤ã€‚\nè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•æä¾›ä¸€ç§åœ¨Mojoliciousåº”ç”¨ç¨‹åºä¸­æ‹¥æœ‰ä¸»é¢˜ç³»ç»Ÿçš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å…è®¸ç”¨æˆ·åœ¨æ²¡æœ‰ç—›è‹¦çš„æƒ…å†µä¸‹æ‹¥æœ‰è‡ªå®šä¹‰ä¸»é¢˜ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸¢å¤±æ›´æ–°çš„é£é™©ã€‚\nä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åº å½“æ‚¨ä½¿ç”¨mojoç”ŸæˆMyApplicationåˆ›å»ºæ–°çš„Mojoliciousåº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™äº›æ˜¯å°†æä¾›æ–‡ä»¶åŠå…¶é»˜è®¤å†…å®¹çš„é»˜è®¤ç›®å½•ï¼š\n$ tree public templates public â””â”€â”€ index.html templates â”œâ”€â”€ example â”‚ â””â”€â”€ welcome.html.ep â””â”€â”€ layouts â””â”€â”€ default.html.ep 2 directories, 3 files publicæ˜¯å­˜å‚¨é™æ€æ–‡ä»¶çš„åœ°æ–¹ï¼Œè€Œtemplatesæ˜¯å­˜å‚¨æ¨¡æ¿çš„åœ°æ–¹ã€‚\nè¿™äº›è·¯å¾„åœ¨$ app-\u0026gt; static-\u0026gt; pathså’Œ$ app-\u0026gt; renderer-\u0026gt; pathsä¸­çš„Mojoliciousåº”ç”¨ç¨‹åºä¸­æ³¨å†Œã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯æ•°ç»„å¼•ç”¨ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å‘å®ƒä»¬æ·»åŠ æˆ–åˆ é™¤ç›®å½•ã€‚\nå½“æä¾›é™æ€æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨$ app-\u0026gt; static-\u0026gt; pathsæ•°ç»„çš„ç¬¬ä¸€ä¸ªç›®å½•ä¸­æœç´¢è¯¥æ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°å®ƒï¼Œåˆ™æœç´¢ä¸‹ä¸€ä¸ªç›®å½•ï¼Œä¾æ­¤ç±»æ¨ã€‚æ¨¡æ¿æ¸²æŸ“ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\nè®©æˆ‘ä»¬æ”¹å˜è·¯ç”± æˆ‘ä»¬å¯ä»¥å°†å…¬å…±æ¨¡æ¿å’Œæ¨¡æ¿é»˜è®¤ç›®å½•ä¿å­˜åœ¨åº”ç”¨ç¨‹åºç›®å½•çš„æ ¹ç›®å½•ä¸‹ï¼Œä½†æˆ‘å–œæ¬¢åœ¨ä¸€ä¸ªåä¸ºthemesçš„ç›®å½•ä¸­é‡æ–°ç»„åˆæ‰€æœ‰ä¸ä¸»é¢˜ç›¸å…³çš„ä¸œè¥¿å¹¶è°ƒç”¨æˆ‘çš„é»˜è®¤ä¸»é¢˜\u0026hellip;å¥½å§ï¼Œé»˜è®¤ã€‚\nåˆ›å»ºæ–°ç›®å½•å¹¶åœ¨å…¶ä¸­ç§»åŠ¨é»˜è®¤ä¸»é¢˜ç›®å½•ï¼š\n$ mkdir -p themes/default $ mv public templates themes/default ç„¶åï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹åº”ç”¨ç¨‹åºä¸­çš„è·¯å¾„ã€‚åœ¨ lib/MyApplication.pm ä¸­æ·»åŠ ï¼š\n# Replace the default paths $self-\u0026gt;renderer-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/templates\u0026#39;)]); $self-\u0026gt;static-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/public\u0026#39;)]); æ·»åŠ ä½¿ç”¨å…¶ä»–ä¸»é¢˜çš„æ–¹æ³• å¦‚å‰æ‰€è¿°ï¼ŒMojoliciousåœ¨å·²æ³¨å†Œè·¯å¾„çš„ç¬¬ä¸€ä¸ªç›®å½•ä¸­æœç´¢é™æ€æ–‡ä»¶æˆ–æ¨¡æ¿ï¼Œå¦‚æœæ‰¾ä¸åˆ°æ–‡ä»¶æˆ–æ¨¡æ¿åˆ™è½¬åˆ°ä¸‹ä¸€ä¸ªã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é»˜è®¤ä¸»é¢˜è·¯å¾„ä¹‹å‰æ·»åŠ æ–°ä¸»é¢˜è·¯å¾„ã€‚\nå‡è®¾æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåœ£è¯ä¸»é¢˜ï¼Œå…¶ä¸­æ–‡ä»¶ä½äºä¸»é¢˜/åœ£è¯èŠ‚/å…¬å…±å†…å®¹ä¸­ï¼Œå“ªäº›æ¨¡æ¿ä½äºä¸»é¢˜/åœ£è¯èŠ‚/æ¨¡æ¿ä¸­ã€‚\næˆ‘ä»¬è¦æ·»åŠ åˆ°ä»£ç ä¸­çš„ä»£ç æ®µå˜ä¸ºï¼š\n# Replace the default paths $self-\u0026gt;renderer-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/templates\u0026#39;)]); $self-\u0026gt;static-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/public\u0026#39;)]); # Put the new theme first unshift @{$self-\u0026gt;renderer-\u0026gt;paths}, $self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/christmas/templates\u0026#39;); unshift @{$self-\u0026gt;static-\u0026gt;paths}, $self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/christmas/public\u0026#39;); é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é‡è½½é»˜è®¤æ–‡ä»¶ã€‚\næ‚¨ä¸å¿…ä¿®æ”¹é»˜è®¤ä¸»é¢˜çš„æ¯ä¸ªæ–‡ä»¶ä»¥å…·æœ‰æ–°ä¸»é¢˜ï¼šåªéœ€åœ¨æ–°ä¸»é¢˜ç›®å½•ä¸­å¤åˆ¶è¦é‡è½½çš„æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨å®ƒè€Œä¸æ˜¯é»˜è®¤ä¸»é¢˜ç›®å½•ã€‚\nå‡è®¾ä½ çš„é»˜è®¤ä¸»é¢˜ä¸­æœ‰ä¸€ä¸ªbackground.pngæ–‡ä»¶ï¼š\n$ cd themes/default $ tree public templates public â”œâ”€â”€ background.png â””â”€â”€ index.html templates â”œâ”€â”€ example â”‚ â””â”€â”€ welcome.html.ep â””â”€â”€ layouts â””â”€â”€ default.html.ep 2 directories, 4 files ä¸ºäº†è¶…è½½å®ƒï¼Œä½ åªéœ€è¦è¿™ä¸ªï¼š\n$ cd themes/christmas $ tree public templates public â””â”€â”€ background.png templates 0 directories, 1 files ä½¿ç”¨ Mojolicious::Plugin::Config æ’ä»¶ Mojolicious::Plugin::Configè‡ªå¸¦Mojoliciousï¼Œæ˜¯è®©ç”¨æˆ·é…ç½®åº”ç”¨ç¨‹åºçš„å¥½æ–¹æ³•ã€‚ä¸ºä»€ä¹ˆä¸ç”¨å®ƒè®©ä»–ä»¬é€‰æ‹©ä»–ä»¬æƒ³è¦çš„ä¸»é¢˜ï¼Ÿåœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œè¯¥è®¾ç½®å°†æ¯«ä¸å¥‡æ€ªåœ°å‘½åä¸ºä¸»é¢˜ã€‚\né¦–å…ˆï¼Œä½¿ç”¨æ’ä»¶ï¼š\n# Mojolicious my $config = $app-\u0026gt;plugin(\u0026#39;Config\u0026#39; =\u0026gt; { default =\u0026gt; { theme =\u0026gt; \u0026#39;default\u0026#39; } }); è¯·æ³¨æ„ï¼Œæˆ‘åœ¨æ’ä»¶çš„é…ç½®ä¸­æ·»åŠ äº†é»˜è®¤å€¼ã€‚å®ƒç¡®ä¿å³ä½¿ç”¨æˆ·æ²¡æœ‰é€‰æ‹©ä¸»é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿä¼šä¸ºæ‰€é€‰ä¸»é¢˜è®¾ç½®æ­£ç¡®çš„å€¼ã€‚\nç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€åœ¨ä»£ç ä¸­ä½¿ç”¨è¯¥é…ç½®è®¾ç½®ï¼š\n# Replace the default paths $self-\u0026gt;renderer-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/templates\u0026#39;)]); $self-\u0026gt;static-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/public\u0026#39;)]); # Do we use a different theme? if ($config-\u0026gt;{theme} ne \u0026#39;default\u0026#39;) { # Put the new theme first my $theme = $self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/\u0026#39;.$config-\u0026gt;{theme}); unshift @{$self-\u0026gt;renderer-\u0026gt;paths}, $theme.\u0026#39;/templates\u0026#39; if -d $theme.\u0026#39;/templates\u0026#39;; unshift @{$self-\u0026gt;static-\u0026gt;paths}, $theme.\u0026#39;/public\u0026#39; if -d $theme.\u0026#39;/public\u0026#39;; } è¯·æ³¨æ„ if -d $theme.'/templates'ï¼šå¦‚æœä½¿ç”¨ä¸»é¢˜åç§°ä¸­çš„æ‹¼å†™é”™è¯¯å¹¶ä¸”å¦‚æœæ‚¨åªéœ€è¦å…¶ä¸­ä¸€ä¸ªï¼Œåˆ™å¯ä»¥é¿å…åœ¨ä¸»é¢˜ç›®å½•ä¸­åˆ›å»º templates å’Œ publicï¼Œä»è€Œé˜²æ­¢å‡ºç°é—®é¢˜ã€‚\nç»“è®º æ‚¨ç°åœ¨æ­£åœ¨åº”ç”¨ç¨‹åºä¸­æä¾›ä¸»é¢˜ç³»ç»Ÿã€‚ç”¨æˆ·ç°åœ¨å¯ä»¥æ”¹å˜å®ƒçš„æ ·å¼è€Œä¸ç”¨æ‹…å¿ƒä¸¢å¤±å¯¹æ›´æ–°çš„æ›´æ”¹ï¼ˆå°½ç®¡ä»–ä»¬éœ€è¦æ£€æŸ¥ä»–ä»¬æ‰€åšçš„æ›´æ”¹ï¼Œä»¥é˜²é»˜è®¤ä¸»é¢˜å‘ç”Ÿå¾ˆå¤§å˜åŒ–ï¼‰ã€‚\næ‚¨ç”šè‡³å¯ä»¥è‡ªå·±æä¾›ä¸åŒçš„ä¸»é¢˜ï¼Œå°±åƒæˆ‘ä¸ºæˆ‘çš„ URL ç¼©çŸ­åº”ç”¨ç¨‹åº Lstu æ‰€åšçš„é‚£æ ·.ğŸ™‚\n"},"name":"ç¬¬ä¹å¤© - ä¸ºä½ çš„ Mojolicious åº”ç”¨æ·»åŠ ä¸»é¢˜ç³»ç»Ÿ","published":"2018-12-09T22:40:29Z","summary":"ä½ å†™äº†ä¸€ä¸ªå¾ˆæ£’çš„Mojoliciousåº”ç”¨ç¨‹åºï¼Œäººä»¬ä½¿ç”¨å®ƒã€‚å¥‡å¦™ï¼ä½†æ˜¯ç”¨æˆ·å¯èƒ½æƒ³è¦ä¿®æ”¹åº”ç”¨ç¨‹åºçš„ä¸»é¢˜ï¼šæ›´æ”¹å¾½æ ‡ï¼Œä½¿ç”¨å…¶ä»–CSSæ¡†æ¶ï¼Œè¿™ç±»äº‹æƒ…ã€‚\nä¿®æ”¹Mojoliciousåº”ç”¨ç¨‹åºçš„ä¸»é¢˜éå¸¸ç®€å•ï¼šåœ¨å…¬å…±å’Œæ¨¡æ¿ä¸­æ·»åŠ ï¼Œä¿®æ”¹æˆ–åˆ é™¤å†…å®¹ã€‚ä½†æ˜¯æ‰€æœ‰è¿™äº›ç›´æ¥ä¿®æ”¹å¯èƒ½æ— æ³•åœ¨æ›´æ–°åº”ç”¨ç¨‹åºæ—¶ç»§ç»­å­˜åœ¨ï¼šå®ƒä»¬åªä¼šè¢«æ–°ç‰ˆæœ¬çš„æ–‡ä»¶åˆ é™¤ã€‚\nè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•æä¾›ä¸€ç§åœ¨Mojoliciousåº”ç”¨ç¨‹åºä¸­æ‹¥æœ‰ä¸»é¢˜ç³»ç»Ÿçš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å…è®¸ç”¨æˆ·åœ¨æ²¡æœ‰ç—›è‹¦çš„æƒ…å†µä¸‹æ‹¥æœ‰è‡ªå®šä¹‰ä¸»é¢˜ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸¢å¤±æ›´æ–°çš„é£é™©ã€‚\nä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åº å½“æ‚¨ä½¿ç”¨mojoç”ŸæˆMyApplicationåˆ›å»ºæ–°çš„Mojoliciousåº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™äº›æ˜¯å°†æä¾›æ–‡ä»¶åŠå…¶é»˜è®¤å†…å®¹çš„é»˜è®¤ç›®å½•ï¼š\n$ tree public templates public â””â”€â”€ index.html templates â”œâ”€â”€ example â”‚ â””â”€â”€ welcome.html.ep â””â”€â”€ layouts â””â”€â”€ default.html.ep 2 directories, 3 files publicæ˜¯å­˜å‚¨é™æ€æ–‡ä»¶çš„åœ°æ–¹ï¼Œè€Œtemplatesæ˜¯å­˜å‚¨æ¨¡æ¿çš„åœ°æ–¹ã€‚\nè¿™äº›è·¯å¾„åœ¨$ app-\u0026gt; static-\u0026gt; pathså’Œ$ app-\u0026gt; renderer-\u0026gt; pathsä¸­çš„Mojoliciousåº”ç”¨ç¨‹åºä¸­æ³¨å†Œã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯æ•°ç»„å¼•ç”¨ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å‘å®ƒä»¬æ·»åŠ æˆ–åˆ é™¤ç›®å½•ã€‚\nå½“æä¾›é™æ€æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨$ app-\u0026gt; static-\u0026gt; pathsæ•°ç»„çš„ç¬¬ä¸€ä¸ªç›®å½•ä¸­æœç´¢è¯¥æ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°å®ƒï¼Œåˆ™æœç´¢ä¸‹ä¸€ä¸ªç›®å½•ï¼Œä¾æ­¤ç±»æ¨ã€‚æ¨¡æ¿æ¸²æŸ“ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\nè®©æˆ‘ä»¬æ”¹å˜è·¯ç”± æˆ‘ä»¬å¯ä»¥å°†å…¬å…±æ¨¡æ¿å’Œæ¨¡æ¿é»˜è®¤ç›®å½•ä¿å­˜åœ¨åº”ç”¨ç¨‹åºç›®å½•çš„æ ¹ç›®å½•ä¸‹ï¼Œä½†æˆ‘å–œæ¬¢åœ¨ä¸€ä¸ªåä¸ºthemesçš„ç›®å½•ä¸­é‡æ–°ç»„åˆæ‰€æœ‰ä¸ä¸»é¢˜ç›¸å…³çš„ä¸œè¥¿å¹¶è°ƒç”¨æˆ‘çš„é»˜è®¤ä¸»é¢˜\u0026hellip;å¥½å§ï¼Œé»˜è®¤ã€‚\nåˆ›å»ºæ–°ç›®å½•å¹¶åœ¨å…¶ä¸­ç§»åŠ¨é»˜è®¤ä¸»é¢˜ç›®å½•ï¼š\n$ mkdir -p themes/default $ mv public templates themes/default ç„¶åï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹åº”ç”¨ç¨‹åºä¸­çš„è·¯å¾„ã€‚åœ¨ lib/MyApplication.pm ä¸­æ·»åŠ ï¼š\n# Replace the default paths $self-\u0026gt;renderer-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/templates\u0026#39;)]); $self-\u0026gt;static-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/public\u0026#39;)]); æ·»åŠ ä½¿ç”¨å…¶ä»–ä¸»é¢˜çš„æ–¹æ³• å¦‚å‰æ‰€è¿°ï¼ŒMojoliciousåœ¨å·²æ³¨å†Œè·¯å¾„çš„ç¬¬ä¸€ä¸ªç›®å½•ä¸­æœç´¢é™æ€æ–‡ä»¶æˆ–æ¨¡æ¿ï¼Œå¦‚æœæ‰¾ä¸åˆ°æ–‡ä»¶æˆ–æ¨¡æ¿åˆ™è½¬åˆ°ä¸‹ä¸€ä¸ªã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é»˜è®¤ä¸»é¢˜è·¯å¾„ä¹‹å‰æ·»åŠ æ–°ä¸»é¢˜è·¯å¾„ã€‚\nå‡è®¾æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåœ£è¯ä¸»é¢˜ï¼Œå…¶ä¸­æ–‡ä»¶ä½äºä¸»é¢˜/åœ£è¯èŠ‚/å…¬å…±å†…å®¹ä¸­ï¼Œå“ªäº›æ¨¡æ¿ä½äºä¸»é¢˜/åœ£è¯èŠ‚/æ¨¡æ¿ä¸­ã€‚\næˆ‘ä»¬è¦æ·»åŠ åˆ°ä»£ç ä¸­çš„ä»£ç æ®µå˜ä¸ºï¼š\n# Replace the default paths $self-\u0026gt;renderer-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/templates\u0026#39;)]); $self-\u0026gt;static-\u0026gt;paths([$self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/default/public\u0026#39;)]); # Put the new theme first unshift @{$self-\u0026gt;renderer-\u0026gt;paths}, $self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/christmas/templates\u0026#39;); unshift @{$self-\u0026gt;static-\u0026gt;paths}, $self-\u0026gt;home-\u0026gt;rel_file(\u0026#39;themes/christmas/public\u0026#39;); é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é‡è½½é»˜è®¤æ–‡ä»¶ã€‚","type":"entry","url":"https://ohmycloud.github.io/notes/add-a-theme-system-to-your-mojolicious-app/"}
{"author":{"name":null,"type":"card","url":"http://localhost:1313/"},"content":{"html":"\u003ch2 id=\"安装-mongodb\"\u003e安装 mongodb\u003c/h2\u003e\n\u003cp\u003e到 mongodb 的官网下载后安装。以 Windows 下的使用为例。\n在安装路径 \u003ccode\u003eC:\\Program Files\\MongoDB\\Server\\3.2\\bin\u003c/code\u003e 目录下, 新建一个名为 \u003ccode\u003edata\u003c/code\u003e 的文件夹, 同时新建一个 start.bat 批处理文件用于启动 mongodb:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bat\" data-lang=\"bat\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"k\"\u003eecho\u003c/span\u003e off\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emongod --dbpath ./data\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cimg src=\"http://upload-images.jianshu.io/upload_images/326727-a3ab94e66519e96b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"start_mongodb\"\u003e\u003c/p\u003e\n\u003cp\u003e安装 pymongo:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003epip\u003c/span\u003e \u003cspan class=\"n\"\u003einstall\u003c/span\u003e \u003cspan class=\"n\"\u003epymongo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"安装-mongodb-可视化工具\"\u003e安装 mongodb 可视化工具\u003c/h2\u003e\n\u003cp\u003e这里测试使用的是  Robomongo 0.9.0-RC10, 体积小, 方便下载。安装完成后打开该软件:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"http://upload-images.jianshu.io/upload_images/326727-a279738863d4c2b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"连接设置\"\u003e\u003c/p\u003e\n\u003cp\u003e设置好之后保存, 然后点击连接按钮。剩下的就交给代码了。\u003c/p\u003e\n\u003ch2 id=\"测试-mongodb-数据库\"\u003e测试 MongoDB 数据库\u003c/h2\u003e\n\u003cp\u003e新建一个爬虫工程, 在与 \u003ccode\u003escrapy.cfg\u003c/code\u003e 同级的目录下新建一个 \u003ccode\u003econtrolDB.py\u003c/code\u003e 文件:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003epymongo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003econnecton\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epymongo\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMongoClient\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 建立连接\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003etest_db\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econnecton\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDaomubiji\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# 连接上名为 Daomubiji 的数据库\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003epost_info\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etest_db\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etest\u003c/span\u003e  \u003cspan class=\"c1\"\u003e#  获取名为 test 的文档(表) \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003esanshu\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;name\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"sa\"\u003eu\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;盗墓\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;age\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e27\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Skill\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Python\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003emengzhu\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;name\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"sa\"\u003eu\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;张无忌\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;age\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e23\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Skill\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;乾坤大挪移\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;girlfriend\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;赵敏\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003epost_info\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einsert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esanshu\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003epost_info\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einsert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emengzhu\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003epost_info\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eremove\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;name\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;盗墓\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 删除 name 为「盗墓」的行\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;数据操作完成\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e最后的效果如下图:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"http://upload-images.jianshu.io/upload_images/326727-c54ed9405a27c5bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"MongoDB可视化\"\u003e\u003c/p\u003e\n","text":"安装 mongodb 到 mongodb 的官网下载后安装。以 Windows 下的使用为例。 在安装路径 C:\\Program Files\\MongoDB\\Server\\3.2\\bin 目录下, 新建一个名为 data 的文件夹, 同时新建一个 start.bat 批处理文件用于启动 mongodb:\n@echo off mongod --dbpath ./data 安装 pymongo:\npip install pymongo 安装 mongodb 可视化工具 这里测试使用的是 Robomongo 0.9.0-RC10, 体积小, 方便下载。安装完成后打开该软件:\n设置好之后保存, 然后点击连接按钮。剩下的就交给代码了。\n测试 MongoDB 数据库 新建一个爬虫工程, 在与 scrapy.cfg 同级的目录下新建一个 controlDB.py 文件:\nimport pymongo connecton = pymongo.MongoClient() # 建立连接 test_db = connecton.Daomubiji # 连接上名为 Daomubiji 的数据库 post_info = test_db.test # 获取名为 test 的文档(表) sanshu = {\u0026#39;name\u0026#39;: u\u0026#39;盗墓\u0026#39;, \u0026#39;age\u0026#39;: 27, \u0026#39;Skill\u0026#39;: \u0026#39;Python\u0026#39;} mengzhu = {\u0026#39;name\u0026#39;: u\u0026#39;张无忌\u0026#39;, \u0026#39;age\u0026#39;: 23, \u0026#39;Skill\u0026#39;: \u0026#39;乾坤大挪移\u0026#39;, \u0026#39;girlfriend\u0026#39;:\u0026#39;赵敏\u0026#39;} post_info.insert(sanshu) post_info.insert(mengzhu) post_info.remove({\u0026#39;name\u0026#39;:\u0026#39;盗墓\u0026#39;}) # 删除 name 为「盗墓」的行 print(\u0026#39;数据操作完成\u0026#39;) 最后的效果如下图:\n"},"name":"MongoDB 的使用","published":"2017-12-21T16:16:21Z","summary":"安装 mongodb 到 mongodb 的官网下载后安装。以 Windows 下的使用为例。 在安装路径 C:\\Program Files\\MongoDB\\Server\\3.2\\bin 目录下, 新建一个名为 data 的文件夹, 同时新建一个 start.bat 批处理文件用于启动 mongodb:\n@echo off mongod --dbpath ./data 安装 pymongo:\npip install pymongo 安装 mongodb 可视化工具 这里测试使用的是 Robomongo 0.9.0-RC10, 体积小, 方便下载。安装完成后打开该软件:\n设置好之后保存, 然后点击连接按钮。剩下的就交给代码了。\n测试 MongoDB 数据库 新建一个爬虫工程, 在与 scrapy.cfg 同级的目录下新建一个 controlDB.py 文件:\nimport pymongo connecton = pymongo.MongoClient() # 建立连接 test_db = connecton.Daomubiji # 连接上名为 Daomubiji 的数据库 post_info = test_db.test # 获取名为 test 的文档(表) sanshu = {\u0026#39;name\u0026#39;: u\u0026#39;盗墓\u0026#39;, \u0026#39;age\u0026#39;: 27, \u0026#39;Skill\u0026#39;: \u0026#39;Python\u0026#39;} mengzhu = {\u0026#39;name\u0026#39;: u\u0026#39;张无忌\u0026#39;, \u0026#39;age\u0026#39;: 23, \u0026#39;Skill\u0026#39;: \u0026#39;乾坤大挪移\u0026#39;, \u0026#39;girlfriend\u0026#39;:\u0026#39;赵敏\u0026#39;} post_info.","type":"entry","url":"http://localhost:1313/notes/python-%E4%B8%AD-mongodb-%E7%9A%84%E4%BD%BF%E7%94%A8/"}
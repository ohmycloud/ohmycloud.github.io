{"author":{"name":null,"type":"card","url":"https://ohmyweekly.github.io/"},"content":{"html":"\u003ch2 id=\"imagemagick-v6-examples---创建缩略图和帧\"\u003eImageMagick v6 Examples \u0026ndash;创建缩略图和帧\u003c/h2\u003e\n\u003cp\u003e几种存储方式：\u003c/p\u003e\n\u003cp\u003e第一种方式可以使用mogrify，不会破坏源图像，需指定-format选项\u003c/p\u003e\n\u003cp\u003e第二种方式，指定-path选项也可以使用mogrify进行批量处理\u003c/p\u003e\n\u003cp\u003eeg：mkdir thumbs\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emogrify -format gif -path thumbs -thumbnail 100x100 *.jpg\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e选择输出格式\u003c/p\u003e\n\u003cp\u003eJPEG 对于大文件很好，对于缩略图效果不好，有失真。非要使用这，建议加上\u0026quot;-quality 百分比\u0026quot;参数。\u003c/p\u003e\n\u003cp\u003e使用 \u0026ldquo;-sampling-factor 2x1\u0026quot;也会产生小的图像尺寸。\u003c/p\u003e\n\u003cp\u003eGIF 对于小图片效果好。256种颜色。只有布尔(on / off)透明度。\u003c/p\u003e\n\u003cp\u003ePNG 对于缩略图很理想，无损，能显示所有的颜色。更重要的是该格式理解半透明的颜色，让阴影和边缘更强烈和清晰。对于缩略图可以通过减少颜色的深度和数量来减少最终图像的尺寸，就像设置了一个高的\u0026quot;bzip\u0026quot;压缩质量，例如\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e-strip -quality \u003cspan class=\"m\"\u003e95\u003c/span\u003e PNG8:thumbnail.png\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e重要提示：不要使用JPEG，PNG8，或GIF作为中间的图像格式！最好使用PNG或MIFF。\u003c/p\u003e\n\u003cp\u003e因为png会保留图像更多的颜色信息。\u003c/p\u003e\n\u003cp\u003eProfiles, Stripping, and JPEG Handling\u003c/p\u003e\n\u003cp\u003e缩略图没必要保留图像的配置信息，可以移除：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003econvert input.jpg  -strip output.jpg\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e或 \u003ccode\u003emogrify -strip  *.jpg\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e也可以使用\u0026rdquo;-profile \u0026lsquo;*\u0026rsquo;\u0026ldquo;选项移除配置信息。\u003c/p\u003e\n\u003cp\u003eIt is however recommended you only strip profiles when you modify an image, especially if reducing it in size for web displays, or thumbnail images.\u003c/p\u003e\n\u003cp\u003eStripping profiles while resizing, particularly for generating smaller thumbnail images, is so common that both \u0026ldquo;-resize\u0026rdquo; and \u0026ldquo;-strip\u0026rdquo; were combined into a new operation, just for this very purpose. Naturally enough this resize operation is called \u0026ldquo;-thumbnail\u0026rdquo;.\u003c/p\u003e\n\u003cp\u003eFor example\u0026hellip;\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e convert -define jpeg:size\u003cspan class=\"o\"\u003e=\u003c/span\u003e240x180 image.jpg -thumbnail 120x90 thumbs/image.gif mogrify -path thumbs -format gif -define jpeg:size\u003cspan class=\"o\"\u003e=\u003c/span\u003e240x180 -thumbnail 120x90 \u003cspan class=\"s1\"\u003e\u0026#39;*.jpg\u0026#39;\u003c/span\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e例子：\u003c/p\u003e\n\u003cp\u003eGeneral Thumbnail Creation\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003econvert -define jpeg:size\u003cspan class=\"o\"\u003e=\u003c/span\u003e500x180  hatching_orig.jpg  -auto-orient \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e          -thumbnail 250x90   -unsharp 0x.5  thumbnail.gif\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emogrify  -format gif -define jpeg:size\u003cspan class=\"o\"\u003e=\u003c/span\u003e500x180 -auto-orient \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e                -thumbnail 250x90 -unsharp 0x.5  \u003cspan class=\"s1\"\u003e\u0026#39;*.jpg\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eResize Thumbnail to Fit\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003econvert -define jpeg:size\u003cspan class=\"o\"\u003e=\u003c/span\u003e200x200 hatching_orig.jpg \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e          -thumbnail \u003cspan class=\"s1\"\u003e\u0026#39;100x100\u0026gt;\u0026#39;\u003c/span\u003e rectangle.gif\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003ePad Out the Thumbnail\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003econvert -define jpeg:size\u003cspan class=\"o\"\u003e=\u003c/span\u003e200x200 hatching_orig.jpg -thumbnail \u003cspan class=\"s1\"\u003e\u0026#39;100x100\u0026gt;\u0026#39;\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e          -background skyblue -gravity center -extent 100x100 pad_extent.gif\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003econvert -define jpeg:size\u003cspan class=\"o\"\u003e=\u003c/span\u003e200x200 hatching_orig.jpg -thumbnail \u003cspan class=\"s1\"\u003e\u0026#39;100x100\u0026gt;\u0026#39;\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e          -bordercolor skyblue  -border \u003cspan class=\"m\"\u003e50\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e          -gravity center  -crop 100x100+0+0 +repage pad_crop.gif\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e convert thumbnail.png  -background Lavender -fill navy -font Candice -pointsize \u003cspan class=\"m\"\u003e24\u003c/span\u003e ^   label:Hatching   -gravity South -append   labeled.gif\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e刚开始没有将Candice花式字体安装到c:\\windows\\fonts目录中，到网上搜索安装，然后将path变量中添加一条：c:\\windows\\fonts （你也可以将字体和图像放在同一个文件夹中，但是麻烦）\u003c/p\u003e\n","text":"ImageMagick v6 Examples \u0026ndash;创建缩略图和帧 几种存储方式：\n第一种方式可以使用mogrify，不会破坏源图像，需指定-format选项\n第二种方式，指定-path选项也可以使用mogrify进行批量处理\neg：mkdir thumbs\nmogrify -format gif -path thumbs -thumbnail 100x100 *.jpg 选择输出格式\nJPEG 对于大文件很好，对于缩略图效果不好，有失真。非要使用这，建议加上\u0026quot;-quality 百分比\u0026quot;参数。\n使用 \u0026ldquo;-sampling-factor 2x1\u0026quot;也会产生小的图像尺寸。\nGIF 对于小图片效果好。256种颜色。只有布尔(on / off)透明度。\nPNG 对于缩略图很理想，无损，能显示所有的颜色。更重要的是该格式理解半透明的颜色，让阴影和边缘更强烈和清晰。对于缩略图可以通过减少颜色的深度和数量来减少最终图像的尺寸，就像设置了一个高的\u0026quot;bzip\u0026quot;压缩质量，例如\n-strip -quality 95 PNG8:thumbnail.png 重要提示：不要使用JPEG，PNG8，或GIF作为中间的图像格式！最好使用PNG或MIFF。\n因为png会保留图像更多的颜色信息。\nProfiles, Stripping, and JPEG Handling\n缩略图没必要保留图像的配置信息，可以移除：\nconvert input.jpg -strip output.jpg 或 mogrify -strip *.jpg\n也可以使用\u0026rdquo;-profile \u0026lsquo;*\u0026rsquo;\u0026ldquo;选项移除配置信息。\nIt is however recommended you only strip profiles when you modify an image, especially if reducing it in size for web displays, or thumbnail images.\nStripping profiles while resizing, particularly for generating smaller thumbnail images, is so common that both \u0026ldquo;-resize\u0026rdquo; and \u0026ldquo;-strip\u0026rdquo; were combined into a new operation, just for this very purpose. Naturally enough this resize operation is called \u0026ldquo;-thumbnail\u0026rdquo;.\nFor example\u0026hellip;\nconvert -define jpeg:size=240x180 image.jpg -thumbnail 120x90 thumbs/image.gif mogrify -path thumbs -format gif -define jpeg:size=240x180 -thumbnail 120x90 \u0026#39;*.jpg\u0026#39; 例子：\nGeneral Thumbnail Creation\nconvert -define jpeg:size=500x180 hatching_orig.jpg -auto-orient \\ -thumbnail 250x90 -unsharp 0x.5 thumbnail.gif mogrify -format gif -define jpeg:size=500x180 -auto-orient \\ -thumbnail 250x90 -unsharp 0x.5 \u0026#39;*.jpg\u0026#39; Resize Thumbnail to Fit\nconvert -define jpeg:size=200x200 hatching_orig.jpg \\ -thumbnail \u0026#39;100x100\u0026gt;\u0026#39; rectangle.gif Pad Out the Thumbnail\nconvert -define jpeg:size=200x200 hatching_orig.jpg -thumbnail \u0026#39;100x100\u0026gt;\u0026#39; \\ -background skyblue -gravity center -extent 100x100 pad_extent.gif convert -define jpeg:size=200x200 hatching_orig.jpg -thumbnail \u0026#39;100x100\u0026gt;\u0026#39; \\ -bordercolor skyblue -border 50 \\ -gravity center -crop 100x100+0+0 +repage pad_crop.gif convert thumbnail.png -background Lavender -fill navy -font Candice -pointsize 24 ^ label:Hatching -gravity South -append labeled.gif 刚开始没有将Candice花式字体安装到c:\\windows\\fonts目录中，到网上搜索安装，然后将path变量中添加一条：c:\\windows\\fonts （你也可以将字体和图像放在同一个文件夹中，但是麻烦）\n"},"name":"ImageMagick - 创建缩略图和帧","published":"2011-06-03T16:16:21Z","summary":"ImageMagick v6 Examples \u0026ndash;创建缩略图和帧 几种存储方式：\n第一种方式可以使用mogrify，不会破坏源图像，需指定-format选项\n第二种方式，指定-path选项也可以使用mogrify进行批量处理\neg：mkdir thumbs\nmogrify -format gif -path thumbs -thumbnail 100x100 *.jpg 选择输出格式\nJPEG 对于大文件很好，对于缩略图效果不好，有失真。非要使用这，建议加上\u0026quot;-quality 百分比\u0026quot;参数。\n使用 \u0026ldquo;-sampling-factor 2x1\u0026quot;也会产生小的图像尺寸。\nGIF 对于小图片效果好。256种颜色。只有布尔(on / off)透明度。\nPNG 对于缩略图很理想，无损，能显示所有的颜色。更重要的是该格式理解半透明的颜色，让阴影和边缘更强烈和清晰。对于缩略图可以通过减少颜色的深度和数量来减少最终图像的尺寸，就像设置了一个高的\u0026quot;bzip\u0026quot;压缩质量，例如\n-strip -quality 95 PNG8:thumbnail.png 重要提示：不要使用JPEG，PNG8，或GIF作为中间的图像格式！最好使用PNG或MIFF。\n因为png会保留图像更多的颜色信息。\nProfiles, Stripping, and JPEG Handling\n缩略图没必要保留图像的配置信息，可以移除：\nconvert input.jpg -strip output.jpg 或 mogrify -strip *.jpg\n也可以使用\u0026rdquo;-profile \u0026lsquo;*\u0026rsquo;\u0026ldquo;选项移除配置信息。\nIt is however recommended you only strip profiles when you modify an image, especially if reducing it in size for web displays, or thumbnail images.","type":"entry","url":"https://ohmyweekly.github.io/notes/imagemagick-examples-%E5%88%9B%E5%BB%BA%E7%BC%A9%E7%95%A5%E5%9B%BE%E5%92%8C%E5%B8%A7/"}
{"author":{"name":null,"type":"card","url":"https://ohmycloud.github.io/"},"content":{"html":"\u003cp\u003eæ¬¢è¿æ¥åˆ°\u003cstrong\u003eRaku One-Liner Advent Calendarçš„\u003c/strong\u003eç¬¬\u003ca href=\"https://raku.online/2018/12/22/reversing-a-file-with-perl-6/\"\u003e22\u003c/a\u003eå¤©ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç»§ç»­ä½¿ç”¨æ–‡ä»¶ï¼Œä»Šå¤©çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªå•è¡Œç¨‹åºä»¥ç›¸åçš„é¡ºåºæ‰“å°æ–‡æœ¬æ–‡ä»¶çš„è¡Œï¼ˆå¦‚\u003ccode\u003etail -r\u003c/code\u003eé‚£æ ·ï¼‰ã€‚\u003c/p\u003e\n\u003cp\u003eç¬¬ä¸€ä¸ªå•è¡Œç¨‹åºä½¿ç”¨ STDIN æµå®Œæˆå·¥ä½œï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esay\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"nv\"\u003e$\u003c/span\u003e\u003cspan class=\"err\"\u003e*\u003c/span\u003e\u003cspan class=\"nv\"\u003eIN\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003ereverse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eè¿è¡Œç¨‹åºä¸ºï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ raku reverse.pl \u0026lt; text.txt\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eå¦‚æœè¦ç›´æ¥ä»Rakuè¯»å–æ–‡ä»¶ï¼Œè¯·ç¨å¾®ä¿®æ”¹ç¨‹åºä»¥ä»å‘½ä»¤è¡Œå‚æ•°åˆ›å»ºæ–‡ä»¶å¥æŸ„ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esay\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"nv\"\u003e@\u003c/span\u003e\u003cspan class=\"err\"\u003e*\u003c/span\u003e\u003cspan class=\"nv\"\u003eARGS\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIO\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003eopen\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003ereverse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç°åœ¨è¿è¡Œå¦‚ä¸‹ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ raku reverse.pl text.txt\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eé‡è¦çš„æ˜¯è¦è®°ä½ï¼Œ\u003ccode\u003elines\u003c/code\u003eæ–¹æ³•çš„é»˜è®¤è¡Œä¸ºæ˜¯ä»æœ€åçš„è¡Œåºåˆ—ä¸­æ’é™¤æ¢è¡Œç¬¦ï¼ˆè¯¥æ–¹æ³•è¿”å›\u003ccode\u003eSeq\u003c/code\u003eå¯¹è±¡ï¼Œè€Œä¸æ˜¯æ•°ç»„æˆ–åˆ—è¡¨ï¼‰ã€‚å®ƒå¯èƒ½ä¸ä½ åœ¨ä½¿ç”¨Perl 5æ—¶ä¹ æƒ¯çš„æ–¹å¼ç›¸åã€‚ä½¿ç”¨\u003ccode\u003echomp\u003c/code\u003eæ˜¯ä¸€ç§å¸¸è§çš„åšæ³•ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨Rakuä¸­ï¼Œ\u003ccode\u003elines\u003c/code\u003eæ–¹æ³•æ ¹æ®\u003ccode\u003eIO::Handle\u003c/code\u003eå¯¹è±¡çš„\u003ca href=\"https://docs.raku.org/routine/nl-in\"\u003enl-in å±æ€§\u003c/a\u003eä¸­å­˜å‚¨çš„å€¼æ¥æ‹†åˆ†è¡Œã€‚\u003c/p\u003e\n\u003cp\u003eæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å°è„šæœ¬æŸ¥çœ‹è¡Œåˆ†éš”ç¬¦çš„å½“å‰å€¼ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003edd\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"nv\"\u003e@\u003c/span\u003e\u003cspan class=\"err\"\u003e*\u003c/span\u003e\u003cspan class=\"nv\"\u003eARGS\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIO\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003eopen\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enl\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ein\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eè¿™æ˜¯æ‚¨é»˜è®¤æ‰¾åˆ°çš„å†…å®¹ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$[\u0026#34;\\n\u0026#34;, \u0026#34;\\r\\n\u0026#34;]\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eæœ‰è¶£çš„æ˜¯ï¼Œä½ å¯ä»¥æ§åˆ¶çš„ \u003ccode\u003elines\u003c/code\u003e çš„è¡Œä¸ºï¼Œå¹¶å‘Šè¯‰ Perl ä¸æ’é™¤æ¢è¡Œç¬¦ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e@*ARGS[0].IO.open(chomp =\u0026gt; False).lines.reverse.put\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¯¥ \u003ccode\u003echomp\u003c/code\u003e å±æ€§ç”±é»˜è®¤è®¾ç½®ä¸º Trueã€‚æ‚¨è¿˜å¯ä»¥æ›´æ”¹é»˜è®¤åˆ†éš”ç¬¦ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e@\u003c/span\u003e\u003cspan class=\"err\"\u003e*\u003c/span\u003e\u003cspan class=\"nv\"\u003eARGS\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIO\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003eopen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"n\"\u003enl\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ein\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#34;\\r\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003echomp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eFalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003ereverse\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eput\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eè¯·æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰ chompingï¼Œåˆ™ä¸éœ€è¦å¯¹è¡Œè¿›è¡Œæ˜¾å¼çš„\u003ccode\u003efor\u003c/code\u003eå¾ªç¯ï¼šåœ¨æœ€åä¸¤ä¸ªå•è¡Œä¸­ï¼Œç›´æ¥åœ¨åºåˆ—å¯¹è±¡ä¸Šè°ƒç”¨\u003ccode\u003e.put\u003c/code\u003eæ–¹æ³•ã€‚åœ¨æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œå­—ç¬¦ä¸²ä¸åŒ…å«æ¢è¡Œç¬¦ï¼Œå› æ­¤å®ƒä»¬å°†æ‰“å°ä¸ºå•ä¸ªé•¿è¡Œã€‚\u003c/p\u003e\n\u003cp\u003eä»Šå¤©æˆ‘å°†ç»™ä½ ç•™ä¸€äº›å°åŠŸè¯¾ï¼š\u003cem\u003eå‘Šè¯‰ \u003ccode\u003esay\u003c/code\u003e å’Œ \u003ccode\u003eput\u003c/code\u003e ä¹‹é—´çš„å·®å¼‚ã€‚\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eæ˜å¤©è§ï¼\u003c/p\u003e\n","text":"æ¬¢è¿æ¥åˆ°Raku One-Liner Advent Calendarçš„ç¬¬22å¤©ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç»§ç»­ä½¿ç”¨æ–‡ä»¶ï¼Œä»Šå¤©çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªå•è¡Œç¨‹åºä»¥ç›¸åçš„é¡ºåºæ‰“å°æ–‡æœ¬æ–‡ä»¶çš„è¡Œï¼ˆå¦‚tail -ré‚£æ ·ï¼‰ã€‚\nç¬¬ä¸€ä¸ªå•è¡Œç¨‹åºä½¿ç”¨ STDIN æµå®Œæˆå·¥ä½œï¼š\n.say for $*IN.lines.reverse è¿è¡Œç¨‹åºä¸ºï¼š\n$ raku reverse.pl \u0026lt; text.txt å¦‚æœè¦ç›´æ¥ä»Rakuè¯»å–æ–‡ä»¶ï¼Œè¯·ç¨å¾®ä¿®æ”¹ç¨‹åºä»¥ä»å‘½ä»¤è¡Œå‚æ•°åˆ›å»ºæ–‡ä»¶å¥æŸ„ï¼š\n.say for @*ARGS[0].IO.open.lines.reverse ç°åœ¨è¿è¡Œå¦‚ä¸‹ï¼š\n$ raku reverse.pl text.txt é‡è¦çš„æ˜¯è¦è®°ä½ï¼Œlinesæ–¹æ³•çš„é»˜è®¤è¡Œä¸ºæ˜¯ä»æœ€åçš„è¡Œåºåˆ—ä¸­æ’é™¤æ¢è¡Œç¬¦ï¼ˆè¯¥æ–¹æ³•è¿”å›Seqå¯¹è±¡ï¼Œè€Œä¸æ˜¯æ•°ç»„æˆ–åˆ—è¡¨ï¼‰ã€‚å®ƒå¯èƒ½ä¸ä½ åœ¨ä½¿ç”¨Perl 5æ—¶ä¹ æƒ¯çš„æ–¹å¼ç›¸åã€‚ä½¿ç”¨chompæ˜¯ä¸€ç§å¸¸è§çš„åšæ³•ã€‚\nåœ¨Rakuä¸­ï¼Œlinesæ–¹æ³•æ ¹æ®IO::Handleå¯¹è±¡çš„nl-in å±æ€§ä¸­å­˜å‚¨çš„å€¼æ¥æ‹†åˆ†è¡Œã€‚\næ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å°è„šæœ¬æŸ¥çœ‹è¡Œåˆ†éš”ç¬¦çš„å½“å‰å€¼ï¼š\ndd $_ for @*ARGS[0].IO.open.nl-in è¿™æ˜¯æ‚¨é»˜è®¤æ‰¾åˆ°çš„å†…å®¹ï¼š\n$[\u0026#34;\\n\u0026#34;, \u0026#34;\\r\\n\u0026#34;] æœ‰è¶£çš„æ˜¯ï¼Œä½ å¯ä»¥æ§åˆ¶çš„ lines çš„è¡Œä¸ºï¼Œå¹¶å‘Šè¯‰ Perl ä¸æ’é™¤æ¢è¡Œç¬¦ï¼š\n@*ARGS[0].IO.open(chomp =\u0026gt; False).lines.reverse.put è¯¥ chomp å±æ€§ç”±é»˜è®¤è®¾ç½®ä¸º Trueã€‚æ‚¨è¿˜å¯ä»¥æ›´æ”¹é»˜è®¤åˆ†éš”ç¬¦ï¼š\n@*ARGS[0].IO.open( nl-in =\u0026gt; \u0026#34;\\r\u0026#34;, chomp =\u0026gt; False ).lines.reverse.put è¯·æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰ chompingï¼Œåˆ™ä¸éœ€è¦å¯¹è¡Œè¿›è¡Œæ˜¾å¼çš„forå¾ªç¯ï¼šåœ¨æœ€åä¸¤ä¸ªå•è¡Œä¸­ï¼Œç›´æ¥åœ¨åºåˆ—å¯¹è±¡ä¸Šè°ƒç”¨.putæ–¹æ³•ã€‚åœ¨æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œå­—ç¬¦ä¸²ä¸åŒ…å«æ¢è¡Œç¬¦ï¼Œå› æ­¤å®ƒä»¬å°†æ‰“å°ä¸ºå•ä¸ªé•¿è¡Œã€‚\nä»Šå¤©æˆ‘å°†ç»™ä½ ç•™ä¸€äº›å°åŠŸè¯¾ï¼šå‘Šè¯‰ say å’Œ put ä¹‹é—´çš„å·®å¼‚ã€‚\næ˜å¤©è§ï¼\n"},"name":"ğŸ„ 22/25. ä½¿ç”¨ Raku åè½¬æ–‡ä»¶","published":"2018-12-22T10:10:35Z","summary":"æ¬¢è¿æ¥åˆ°Raku One-Liner Advent Calendarçš„ç¬¬22å¤©ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç»§ç»­ä½¿ç”¨æ–‡ä»¶ï¼Œä»Šå¤©çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªå•è¡Œç¨‹åºä»¥ç›¸åçš„é¡ºåºæ‰“å°æ–‡æœ¬æ–‡ä»¶çš„è¡Œï¼ˆå¦‚tail -ré‚£æ ·ï¼‰ã€‚\nç¬¬ä¸€ä¸ªå•è¡Œç¨‹åºä½¿ç”¨ STDIN æµå®Œæˆå·¥ä½œï¼š\n.say for $*IN.lines.reverse è¿è¡Œç¨‹åºä¸ºï¼š\n$ raku reverse.pl \u0026lt; text.txt å¦‚æœè¦ç›´æ¥ä»Rakuè¯»å–æ–‡ä»¶ï¼Œè¯·ç¨å¾®ä¿®æ”¹ç¨‹åºä»¥ä»å‘½ä»¤è¡Œå‚æ•°åˆ›å»ºæ–‡ä»¶å¥æŸ„ï¼š\n.say for @*ARGS[0].IO.open.lines.reverse ç°åœ¨è¿è¡Œå¦‚ä¸‹ï¼š\n$ raku reverse.pl text.txt é‡è¦çš„æ˜¯è¦è®°ä½ï¼Œlinesæ–¹æ³•çš„é»˜è®¤è¡Œä¸ºæ˜¯ä»æœ€åçš„è¡Œåºåˆ—ä¸­æ’é™¤æ¢è¡Œç¬¦ï¼ˆè¯¥æ–¹æ³•è¿”å›Seqå¯¹è±¡ï¼Œè€Œä¸æ˜¯æ•°ç»„æˆ–åˆ—è¡¨ï¼‰ã€‚å®ƒå¯èƒ½ä¸ä½ åœ¨ä½¿ç”¨Perl 5æ—¶ä¹ æƒ¯çš„æ–¹å¼ç›¸åã€‚ä½¿ç”¨chompæ˜¯ä¸€ç§å¸¸è§çš„åšæ³•ã€‚\nåœ¨Rakuä¸­ï¼Œlinesæ–¹æ³•æ ¹æ®IO::Handleå¯¹è±¡çš„nl-in å±æ€§ä¸­å­˜å‚¨çš„å€¼æ¥æ‹†åˆ†è¡Œã€‚\næ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å°è„šæœ¬æŸ¥çœ‹è¡Œåˆ†éš”ç¬¦çš„å½“å‰å€¼ï¼š\ndd $_ for @*ARGS[0].IO.open.nl-in è¿™æ˜¯æ‚¨é»˜è®¤æ‰¾åˆ°çš„å†…å®¹ï¼š\n$[\u0026#34;\\n\u0026#34;, \u0026#34;\\r\\n\u0026#34;] æœ‰è¶£çš„æ˜¯ï¼Œä½ å¯ä»¥æ§åˆ¶çš„ lines çš„è¡Œä¸ºï¼Œå¹¶å‘Šè¯‰ Perl ä¸æ’é™¤æ¢è¡Œç¬¦ï¼š\n@*ARGS[0].IO.open(chomp =\u0026gt; False).lines.reverse.put è¯¥ chomp å±æ€§ç”±é»˜è®¤è®¾ç½®ä¸º Trueã€‚æ‚¨è¿˜å¯ä»¥æ›´æ”¹é»˜è®¤åˆ†éš”ç¬¦ï¼š\n@*ARGS[0].IO.open( nl-in =\u0026gt; \u0026#34;\\r\u0026#34;, chomp =\u0026gt; False ).lines.reverse.put è¯·æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰ chompingï¼Œåˆ™ä¸éœ€è¦å¯¹è¡Œè¿›è¡Œæ˜¾å¼çš„forå¾ªç¯ï¼šåœ¨æœ€åä¸¤ä¸ªå•è¡Œä¸­ï¼Œç›´æ¥åœ¨åºåˆ—å¯¹è±¡ä¸Šè°ƒç”¨.putæ–¹æ³•ã€‚åœ¨æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œå­—ç¬¦ä¸²ä¸åŒ…å«æ¢è¡Œç¬¦ï¼Œå› æ­¤å®ƒä»¬å°†æ‰“å°ä¸ºå•ä¸ªé•¿è¡Œã€‚\nä»Šå¤©æˆ‘å°†ç»™ä½ ç•™ä¸€äº›å°åŠŸè¯¾ï¼šå‘Šè¯‰ say å’Œ put ä¹‹é—´çš„å·®å¼‚ã€‚\næ˜å¤©è§ï¼","type":"entry","url":"https://ohmycloud.github.io/notes/reversing-a-file-with-raku/"}
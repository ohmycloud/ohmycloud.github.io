{"author":{"name":null,"type":"card","url":"https://ohmycloud.github.io/"},"content":{"html":"\u003cp\u003eæ¬¢è¿æ¥åˆ° \u003cstrong\u003eRaku One-Liner Advent Calendar\u003c/strong\u003e çš„ç¬¬\u003ca href=\"https://raku.online/2018/12/14/another-solution-of-yesterdays-problem/\"\u003e14\u003c/a\u003eå¤©ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬æ­£åœ¨æå‡ºæˆ‘ä»¬æ˜¨å¤©è§£å†³çš„é—®é¢˜çš„å¦ä¸€ä¸ªç­”æ¡ˆã€‚ä»»åŠ¡æ˜¯è®¡ç®—äºŒåä¸–çºªç¬¬ä¸€ä¸ªæœˆçš„æ‰€æœ‰æ˜ŸæœŸæ—¥ã€‚\u003c/p\u003e\n\u003cp\u003eæ˜¨å¤©ï¼Œæˆ‘ä»¬åªæ‰«æäº†æ•´ä¸ªä¸–çºªçš„æ‰€æœ‰æ—¥å­ï¼Œé€‰æ‹©æ˜ŸæœŸæ—¥ï¼ˆ \u003ccode\u003e.day-of-week == 7\u003c/code\u003eï¼‰å¹¶ä¸”æ˜¯æœ¬æœˆçš„ç¬¬ä¸€å¤©ï¼ˆ\u003ccode\u003e.day == 1\u003c/code\u003eï¼‰ã€‚\u003c/p\u003e\n\u003cp\u003eå¯ä»¥åˆ¶ä½œæ›´æœ‰æ•ˆçš„ç®—æ³•ã€‚ç”±äºæˆ‘ä»¬åªå¯¹æœ¬æœˆçš„ç¬¬ä¸€å¤©æ„Ÿå…´è¶£ï¼Œå› æ­¤æ— éœ€åœ¨100å¹´å†…æ‰«ææ‰€æœ‰36525å¤©ï¼Œè€Œåªéœ€è¦æ‰«æ100å¤©ï¼Œè¿™æ˜¯1901å¹´åˆ°2000å¹´ä¹‹é—´æ¯ä¸ªæœˆçš„ç¬¬ä¸€å¤©ã€‚\u003c/p\u003e\n\u003cp\u003eå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªåµŒå¥—å¾ªç¯ï¼šå¹´å’Œæœˆã€‚æˆ‘ä»¬éœ€è¦ä¸¤ä¸ª \u003ccode\u003efor\u003c/code\u003e å—ï¼Ÿä¸å¿…è¦ã€‚æˆ‘ä»¬ä½¿ç”¨ \u003ca href=\"https://raku.online/2018/12/09/more-on-x-in-perl-6/\"\u003eX è¿ç®—ç¬¦\u003c/a\u003e;æˆ‘ä»¬ä»ä»¥å‰çš„å‡ºç‰ˆå¸–å­ä¸­ç†Ÿæ‚‰å®ƒã€‚\u003c/p\u003e\n\u003cp\u003eè¿™æ˜¯æˆ‘ä»¬ä»Šå¤©çš„å•è¡Œï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egather\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"mi\"\u003e1901\u003c/span\u003e\u003cspan class=\"o\"\u003e..\u003c/span\u003e\u003cspan class=\"mi\"\u003e2000\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e..\u003c/span\u003e\u003cspan class=\"mi\"\u003e12\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"n\"\u003etake\u003c/span\u003e \u003cspan class=\"n\"\u003eDate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"nv\"\u003e@_\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003egrep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*.\u003c/span\u003e\u003cspan class=\"n\"\u003eday\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eof\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eweek\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eelems\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esay\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ccode\u003efor 1901..2000 X 1..12\u003c/code\u003e å¾ªç¯åœ¨éå†äºŒåä¸–çºªçš„æ¯ä¸ªæœˆä»½ã€‚å¯¹äºæ¯ä¸ªå¾ªç¯å˜é‡ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨å…·æœ‰ä¸‰ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°æ¥åˆ›å»º \u003ccode\u003eDate\u003c/code\u003e å¯¹è±¡ã€‚\u003c/p\u003e\n\u003cp\u003eè¯·æ³¨æ„ï¼Œåœ¨å¾ªç¯å†…éƒ¨ï¼Œæ‚¨å¯ä»¥åŒæ—¶ä½¿ç”¨ \u003ccode\u003e$_[0]\u003c/code\u003e å’Œ \u003ccode\u003e$_[1]\u003c/code\u003eï¼Œä»¥åŠ \u003ccode\u003e@_[0]\u003c/code\u003e å’Œ \u003ccode\u003e@_[1]\u003c/code\u003eã€‚åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œ\u003ccode\u003e$_\u003c/code\u003e å˜é‡åŒ…å«ä¸¤ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œè€Œåœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ \u003ccode\u003e@_\u003c/code\u003eã€‚å¦‚æœæ‚¨åªæ˜¯ä½¿ç”¨ç‚¹æ¥è°ƒç”¨ä¸»é¢˜ï¼ˆé»˜è®¤ï¼‰å˜é‡ä¸Šçš„æ–¹æ³•ï¼Œåˆ™å¯ä»¥å®ç°æœ€çŸ­çš„ä»£ç ï¼š\u003ccode\u003e.[0]\u003c/code\u003e å’Œ \u003ccode\u003e.[1]\u003c/code\u003eã€‚\u003c/p\u003e\n\u003cp\u003eæ‚¨å¯ä»¥é”®å…¥ \u003ccode\u003eDate.new(.[0], .[1], 1)\u003c/code\u003e ä»£æ›¿ \u003ccode\u003eDate.new(|@_, 1)\u003c/code\u003eã€‚ \u003ccode\u003e|@_\u003c/code\u003e è¯­æ³•ç”¨äºå±•å¼€æ•°ç»„ï¼Œå¦åˆ™ Raku ä¼šè®¤ä¸ºæ‚¨å°†æ•°ç»„ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨ \u003ca href=\"https://docs.raku.org/syntax/gather%20take\"\u003egather-take\u003c/a\u003e å¯¹å„¿çš„å¸®åŠ©ä¸‹ï¼Œå°†è¿™äº›æœˆä»½çš„æ‰€æœ‰ç¬¬ä¸€å¤©æ”¶é›†åˆ°åºåˆ—ä¸­ã€‚\u003c/p\u003e\n\u003cp\u003eæœ€åä¸€æ­¥æ˜¯æ˜¨å¤©çš„ \u003ccode\u003egrep\u003c/code\u003eï¼Œä½†è¿™æ¬¡æˆ‘ä»¬åªéœ€è¦é€‰æ‹©æ˜ŸæœŸæ—¥ï¼Œæ‰€ä»¥å•ä¸ª \u003ccode\u003e*.day-of-week == 7\u003c/code\u003e æ¡ä»¶å°±è¶³å¤Ÿäº†ã€‚\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eelems\u003c/code\u003e æ–¹æ³•çš„è°ƒç”¨è¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„æ•°é‡ï¼Œå³æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾çš„æ˜ŸæœŸæ—¥æ•°é‡ã€‚å› æ­¤ï¼Œè¯·ç”¨ \u003ccode\u003esay\u003c/code\u003e æ‰“å°å‡ºæ¥ã€‚\u003c/p\u003e\n\u003cp\u003eä¸€ä¸ªæ–°çš„æƒ³æ³•å’Œä¸€ä¸ªæ–°çš„ç­”æ¡ˆåº”è¯¥è®©ä½ åœ¨è¿™ä¸ª One-Liner æ—¥å†ä¸­è‡³å°‘æœ‰ä¸€å¤©æ„Ÿåˆ°é«˜å…´ï¼Œç›´åˆ°æ˜å¤©çš„å¸–å­ï¼\u003c/p\u003e\n","text":"æ¬¢è¿æ¥åˆ° Raku One-Liner Advent Calendar çš„ç¬¬14å¤©ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬æ­£åœ¨æå‡ºæˆ‘ä»¬æ˜¨å¤©è§£å†³çš„é—®é¢˜çš„å¦ä¸€ä¸ªç­”æ¡ˆã€‚ä»»åŠ¡æ˜¯è®¡ç®—äºŒåä¸–çºªç¬¬ä¸€ä¸ªæœˆçš„æ‰€æœ‰æ˜ŸæœŸæ—¥ã€‚\næ˜¨å¤©ï¼Œæˆ‘ä»¬åªæ‰«æäº†æ•´ä¸ªä¸–çºªçš„æ‰€æœ‰æ—¥å­ï¼Œé€‰æ‹©æ˜ŸæœŸæ—¥ï¼ˆ .day-of-week == 7ï¼‰å¹¶ä¸”æ˜¯æœ¬æœˆçš„ç¬¬ä¸€å¤©ï¼ˆ.day == 1ï¼‰ã€‚\nå¯ä»¥åˆ¶ä½œæ›´æœ‰æ•ˆçš„ç®—æ³•ã€‚ç”±äºæˆ‘ä»¬åªå¯¹æœ¬æœˆçš„ç¬¬ä¸€å¤©æ„Ÿå…´è¶£ï¼Œå› æ­¤æ— éœ€åœ¨100å¹´å†…æ‰«ææ‰€æœ‰36525å¤©ï¼Œè€Œåªéœ€è¦æ‰«æ100å¤©ï¼Œè¿™æ˜¯1901å¹´åˆ°2000å¹´ä¹‹é—´æ¯ä¸ªæœˆçš„ç¬¬ä¸€å¤©ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªåµŒå¥—å¾ªç¯ï¼šå¹´å’Œæœˆã€‚æˆ‘ä»¬éœ€è¦ä¸¤ä¸ª for å—ï¼Ÿä¸å¿…è¦ã€‚æˆ‘ä»¬ä½¿ç”¨ X è¿ç®—ç¬¦;æˆ‘ä»¬ä»ä»¥å‰çš„å‡ºç‰ˆå¸–å­ä¸­ç†Ÿæ‚‰å®ƒã€‚\nè¿™æ˜¯æˆ‘ä»¬ä»Šå¤©çš„å•è¡Œï¼š\n(gather for 1901..2000 X 1..12 { take Date.new(|@_, 1) }).grep(*.day-of-week == 7).elems.say; for 1901..2000 X 1..12 å¾ªç¯åœ¨éå†äºŒåä¸–çºªçš„æ¯ä¸ªæœˆä»½ã€‚å¯¹äºæ¯ä¸ªå¾ªç¯å˜é‡ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨å…·æœ‰ä¸‰ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°æ¥åˆ›å»º Date å¯¹è±¡ã€‚\nè¯·æ³¨æ„ï¼Œåœ¨å¾ªç¯å†…éƒ¨ï¼Œæ‚¨å¯ä»¥åŒæ—¶ä½¿ç”¨ $_[0] å’Œ $_[1]ï¼Œä»¥åŠ @_[0] å’Œ @_[1]ã€‚åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œ$_ å˜é‡åŒ…å«ä¸¤ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œè€Œåœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ @_ã€‚å¦‚æœæ‚¨åªæ˜¯ä½¿ç”¨ç‚¹æ¥è°ƒç”¨ä¸»é¢˜ï¼ˆé»˜è®¤ï¼‰å˜é‡ä¸Šçš„æ–¹æ³•ï¼Œåˆ™å¯ä»¥å®ç°æœ€çŸ­çš„ä»£ç ï¼š.[0] å’Œ .[1]ã€‚\næ‚¨å¯ä»¥é”®å…¥ Date.new(.[0], .[1], 1) ä»£æ›¿ Date.new(|@_, 1)ã€‚ |@_ è¯­æ³•ç”¨äºå±•å¼€æ•°ç»„ï¼Œå¦åˆ™ Raku ä¼šè®¤ä¸ºæ‚¨å°†æ•°ç»„ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ã€‚\nåœ¨ gather-take å¯¹å„¿çš„å¸®åŠ©ä¸‹ï¼Œå°†è¿™äº›æœˆä»½çš„æ‰€æœ‰ç¬¬ä¸€å¤©æ”¶é›†åˆ°åºåˆ—ä¸­ã€‚\næœ€åä¸€æ­¥æ˜¯æ˜¨å¤©çš„ grepï¼Œä½†è¿™æ¬¡æˆ‘ä»¬åªéœ€è¦é€‰æ‹©æ˜ŸæœŸæ—¥ï¼Œæ‰€ä»¥å•ä¸ª *.day-of-week == 7 æ¡ä»¶å°±è¶³å¤Ÿäº†ã€‚\nelems æ–¹æ³•çš„è°ƒç”¨è¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„æ•°é‡ï¼Œå³æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾çš„æ˜ŸæœŸæ—¥æ•°é‡ã€‚å› æ­¤ï¼Œè¯·ç”¨ say æ‰“å°å‡ºæ¥ã€‚\nä¸€ä¸ªæ–°çš„æƒ³æ³•å’Œä¸€ä¸ªæ–°çš„ç­”æ¡ˆåº”è¯¥è®©ä½ åœ¨è¿™ä¸ª One-Liner æ—¥å†ä¸­è‡³å°‘æœ‰ä¸€å¤©æ„Ÿåˆ°é«˜å…´ï¼Œç›´åˆ°æ˜å¤©çš„å¸–å­ï¼\n"},"name":"ğŸ„ 14/25. æ˜¨å¤©é—®é¢˜çš„å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ","published":"2018-12-14T09:15:43Z","summary":"æ¬¢è¿æ¥åˆ° Raku One-Liner Advent Calendar çš„ç¬¬14å¤©ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬æ­£åœ¨æå‡ºæˆ‘ä»¬æ˜¨å¤©è§£å†³çš„é—®é¢˜çš„å¦ä¸€ä¸ªç­”æ¡ˆã€‚ä»»åŠ¡æ˜¯è®¡ç®—äºŒåä¸–çºªç¬¬ä¸€ä¸ªæœˆçš„æ‰€æœ‰æ˜ŸæœŸæ—¥ã€‚\næ˜¨å¤©ï¼Œæˆ‘ä»¬åªæ‰«æäº†æ•´ä¸ªä¸–çºªçš„æ‰€æœ‰æ—¥å­ï¼Œé€‰æ‹©æ˜ŸæœŸæ—¥ï¼ˆ .day-of-week == 7ï¼‰å¹¶ä¸”æ˜¯æœ¬æœˆçš„ç¬¬ä¸€å¤©ï¼ˆ.day == 1ï¼‰ã€‚\nå¯ä»¥åˆ¶ä½œæ›´æœ‰æ•ˆçš„ç®—æ³•ã€‚ç”±äºæˆ‘ä»¬åªå¯¹æœ¬æœˆçš„ç¬¬ä¸€å¤©æ„Ÿå…´è¶£ï¼Œå› æ­¤æ— éœ€åœ¨100å¹´å†…æ‰«ææ‰€æœ‰36525å¤©ï¼Œè€Œåªéœ€è¦æ‰«æ100å¤©ï¼Œè¿™æ˜¯1901å¹´åˆ°2000å¹´ä¹‹é—´æ¯ä¸ªæœˆçš„ç¬¬ä¸€å¤©ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªåµŒå¥—å¾ªç¯ï¼šå¹´å’Œæœˆã€‚æˆ‘ä»¬éœ€è¦ä¸¤ä¸ª for å—ï¼Ÿä¸å¿…è¦ã€‚æˆ‘ä»¬ä½¿ç”¨ X è¿ç®—ç¬¦;æˆ‘ä»¬ä»ä»¥å‰çš„å‡ºç‰ˆå¸–å­ä¸­ç†Ÿæ‚‰å®ƒã€‚\nè¿™æ˜¯æˆ‘ä»¬ä»Šå¤©çš„å•è¡Œï¼š\n(gather for 1901..2000 X 1..12 { take Date.new(|@_, 1) }).grep(*.day-of-week == 7).elems.say; for 1901..2000 X 1..12 å¾ªç¯åœ¨éå†äºŒåä¸–çºªçš„æ¯ä¸ªæœˆä»½ã€‚å¯¹äºæ¯ä¸ªå¾ªç¯å˜é‡ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨å…·æœ‰ä¸‰ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°æ¥åˆ›å»º Date å¯¹è±¡ã€‚\nè¯·æ³¨æ„ï¼Œåœ¨å¾ªç¯å†…éƒ¨ï¼Œæ‚¨å¯ä»¥åŒæ—¶ä½¿ç”¨ $_[0] å’Œ $_[1]ï¼Œä»¥åŠ @_[0] å’Œ @_[1]ã€‚åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œ$_ å˜é‡åŒ…å«ä¸¤ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œè€Œåœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ @_ã€‚å¦‚æœæ‚¨åªæ˜¯ä½¿ç”¨ç‚¹æ¥è°ƒç”¨ä¸»é¢˜ï¼ˆé»˜è®¤ï¼‰å˜é‡ä¸Šçš„æ–¹æ³•ï¼Œåˆ™å¯ä»¥å®ç°æœ€çŸ­çš„ä»£ç ï¼š.[0] å’Œ .[1]ã€‚\næ‚¨å¯ä»¥é”®å…¥ Date.new(.[0], .[1], 1) ä»£æ›¿ Date.new(|@_, 1)ã€‚ |@_ è¯­æ³•ç”¨äºå±•å¼€æ•°ç»„ï¼Œå¦åˆ™ Raku ä¼šè®¤ä¸ºæ‚¨å°†æ•°ç»„ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ã€‚\nåœ¨ gather-take å¯¹å„¿çš„å¸®åŠ©ä¸‹ï¼Œå°†è¿™äº›æœˆä»½çš„æ‰€æœ‰ç¬¬ä¸€å¤©æ”¶é›†åˆ°åºåˆ—ä¸­ã€‚\næœ€åä¸€æ­¥æ˜¯æ˜¨å¤©çš„ grepï¼Œä½†è¿™æ¬¡æˆ‘ä»¬åªéœ€è¦é€‰æ‹©æ˜ŸæœŸæ—¥ï¼Œæ‰€ä»¥å•ä¸ª *.day-of-week == 7 æ¡ä»¶å°±è¶³å¤Ÿäº†ã€‚\nelems æ–¹æ³•çš„è°ƒç”¨è¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„æ•°é‡ï¼Œå³æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾çš„æ˜ŸæœŸæ—¥æ•°é‡ã€‚å› æ­¤ï¼Œè¯·ç”¨ say æ‰“å°å‡ºæ¥ã€‚","type":"entry","url":"https://ohmycloud.github.io/notes/another-solution-of-yesterday-problem/"}
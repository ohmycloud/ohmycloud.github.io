{"author":{"name":null,"type":"card","url":"https://ohmyweekly.github.io/"},"content":{"html":"\u003cp\u003eä½ æœ‰ä¸€ä¸ªå¯çˆ±çš„Mojoliciousåº”ç”¨ç¨‹åºï¼Œå®ƒæ˜¯æ—¶å€™éƒ¨ç½²å®ƒäº†ï¼\u003c/p\u003e\n\u003cp\u003eä½†æ˜¯\u0026hellip;\u0026hellip;å®ƒä¸èƒ½åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šè¿è¡Œï¼åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿå“¦ï¼Œä¸ï¼Œæ‚¨æ‰€ä¾èµ–çš„æ¨¡å—ä¸å¼€å‘æœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬ä¸åŒã€‚ä½ èƒ½åšä»€ä¹ˆï¼Ÿ\u003c/p\u003e\n\u003cp\u003eå®é™…ä¸Šï¼Œä¸€äº›æ¨¡å—å‘å±•å¾—å¾ˆå¿«ï¼ˆHello Mojoliciousï¼ï¼‰ï¼Œè¿™æ²¡æœ‰æ¯›ç—…ï¼Œä½†å¯èƒ½ä¼šå¯¼è‡´ä¸å…¼å®¹çš„å˜åŒ–ã€‚\u003c/p\u003e\n\u003cp\u003eè¿˜æœ‰ä¸€äº›å¯ä»¥åœ¨ç‰ˆæœ¬ä¸­è§£å†³æˆ–å¼•å…¥çš„é”™è¯¯ï¼Œå¦‚æœæ‚¨çš„ç‰ˆæœ¬é”™è¯¯ï¼Œåˆ™ä¼šé‡åˆ°è¿™äº›é”™è¯¯ã€‚\u003c/p\u003e\n\u003ch2 id=\"cpanfileæ¥æ•‘æ´\"\u003eCpanfileæ¥æ•‘æ´\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://metacpan.org/pod/cpanfile\"\u003eCpanfile\u003c/a\u003eæ˜¯ä¸€ç§ç”¨äºæè¿°Perlåº”ç”¨ç¨‹åºçš„CPANä¾èµ–å…³ç³»çš„æ ¼å¼ã€‚\u003c/p\u003e\n\u003cp\u003eæœ‰äº†\u003ccode\u003ecpanfile\u003c/code\u003eï¼Œæˆ‘ä»¬å¯ä»¥åˆ—å‡ºæˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼ºåˆ¶æ¨¡å—çš„æœ€å°ç‰ˆæœ¬ï¼Œå®ƒä»¬çš„æœ€å¤§ç‰ˆæœ¬\u0026hellip;\u0026hellip;æˆ–è€…è¯´â€œæˆ‘æƒ³è¦é‚£ä¸ªæ¨¡å—çš„ç¡®åˆ‡ç‰ˆæœ¬â€ã€‚\u003c/p\u003e\n\u003cp\u003eä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ—å‡ºå¯é€‰æ¨¡å—ï¼šæ‚¨å¯ä»¥æ”¯æŒä¸åŒçš„æ•°æ®åº“ï¼Œä½†å¦‚æœç”¨æˆ·æƒ³è¦ä½¿ç”¨PostgreSQLï¼Œåˆ™ä¸å¿…å®‰è£…ä¸MySQLç›¸å…³çš„æ¨¡å—ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™æ˜¯ä¸€ä¸ªä¾‹å­\u003ccode\u003ecpanfile\u003c/code\u003eï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# Do not ask for a specific version\nrequires \u0026#39;DateTime\u0026#39;;\n# Ask a specific version\nrequires \u0026#39;Plack\u0026#39;, \u0026#39;== 1.0\u0026#39;;\n# Ask a minimal version\nrequires \u0026#39;Net::DNS\u0026#39;, \u0026#39;\u0026gt;= 1.12\u0026#39;;\n# Or\nrequires \u0026#39;Net::DNS\u0026#39;, \u0026#39;1.12\u0026#39;;\n# Ask a maximal version\nrequires \u0026#39;Locale::Maketext\u0026#39;, \u0026#39;\u0026lt; 1.28\u0026#39;;\n# Give a range\nrequires \u0026#39;Mojolicious\u0026#39;, \u0026#39;\u0026gt;= 7.0, \u0026lt; 8.0\u0026#39;;\n\n# Optional modules\nfeature \u0026#39;postgresql\u0026#39;, \u0026#39;PostgreSQL support\u0026#39; =\u0026gt; sub {\n    requires \u0026#39;Mojo::Pg\u0026#39;;\n};\nfeature \u0026#39;mysql\u0026#39;, \u0026#39;MySQL support\u0026#39; =\u0026gt; sub {\n    requires \u0026#39;Mojo::mysql\u0026#39;;\n};\nfeature \u0026#39;ldap\u0026#39;, \u0026#39;LDAP authentication support\u0026#39; =\u0026gt; sub {\n    requires \u0026#39;Net::LDAP\u0026#39;;\n};\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eCpanfileæ ¼å¼å¯ä»¥åšæ›´å¤šï¼ˆæ¨èæ¨¡å—ï¼Œç”¨äºç‰¹å®šé˜¶æ®µï¼ˆéœ€æ±‚\u003ccode\u003econfigure\u003c/code\u003eï¼Œ\u003ccode\u003etest\u003c/code\u003e\u0026hellip;ï¼‰ï¼Œä½¿ç”¨æ²¡æœ‰å…¬å¸ƒå…³äºCPAN \u0026hellip;æ¨¡å—ï¼‰ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå…³äº Carton çš„æ–‡ç« ï¼šæˆ‘è®©ä½ è¯»cpanfileæ–‡æ¡£ğŸ™‚\u003c/p\u003e\n\u003cp\u003eç•™æ„ï¼šå°å¿ƒåœ¨ README æ–‡ä»¶ä¸­åˆ—å‡ºéPerlçš„ä¾èµ–å…³ç³»\u003ca href=\"https://mojolicious.io/blog/2018/12/22/use-carton-for-your-mojolicious-app-deployment/#footnote-1\"\u003e1\u003c/a\u003eï¼Œåƒ \u003ca href=\"https://mojolicious.org/perldoc/Mojo/Pg\"\u003e\u003ccode\u003eMojo::Pg\u003c/code\u003e\u003c/a\u003e ä¸­çš„ \u003ccode\u003elibpq-dev\u003c/code\u003eğŸ˜‰\u003c/p\u003e\n\u003cp\u003eCpanfileå¯ä»¥ç”±\u003ca href=\"https://metacpan.org/pod/cpanm\"\u003ecpanminus\u003c/a\u003eæˆ–\u003ca href=\"https://metacpan.org/pod/Carton\"\u003eCartonä½¿ç”¨\u003c/a\u003eã€‚\u003c/p\u003e\n\u003cp\u003eè½¬åˆ°åŒ…å« \u003ccode\u003ecpanfile\u003c/code\u003e çš„ç›®å½•å¹¶æ‰§è¡Œï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecpanm --installdeps .\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cem\u003eEtvoilÃ ï¼\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eè¯·æ³¨æ„ï¼Œ\u003ccode\u003efeatures\u003c/code\u003eå°šæœªå®‰è£…æ¨¡å—ã€‚ä½ å¯ä»¥å®‰è£…å®ƒä»¬ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecpanm --installdeps . --with-feature postgresql\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eæˆ–è€…ï¼Œå®‰è£…æ‰€æœ‰\u003ccode\u003efeatures\u003c/code\u003eæ¨¡å—ï¼Œä½†ä¸å®‰è£…\u003ccode\u003emysql\u003c/code\u003eï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecpanm --installdeps . --with-all-features --without-feature mysql\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eæ‰€ä»¥ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¾èµ–äºç³»ç»Ÿçš„è‰¯å¥½ç‰ˆæœ¬ã€‚\u003c/p\u003e\n\u003cp\u003eä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¯¥ç³»ç»Ÿä¸Šæ‰˜ç®¡å…¶ä»–å…·æœ‰å†²çªè¦æ±‚çš„åº”ç”¨ç¨‹åºå‘¢ï¼Ÿ\u003c/p\u003e\n\u003cp\u003eCpanm èƒ½å¤Ÿåœ¨ç‰¹å®šçš„æ–‡ä»¶å¤¹ä¸­å®‰è£…æ¨¡å—ï¼ˆè°¢è°¢ä½ ï¼Œ\u003ca href=\"https://metacpan.org/pod/local::lib\"\u003elocal::lib\u003c/a\u003eï¼‰ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç›®å½•ä¸­å®‰è£…æˆ‘ä»¬çš„ä¾èµ–é¡¹æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿæˆ‘ä»¬æ€»æ˜¯çŸ¥é“æˆ‘ä»¬çš„ä¾èµ–å…³ç³»åœ¨å“ªé‡Œã€‚\u003c/p\u003e\n\u003ch2 id=\"cartonæ¥äº†\"\u003eCartonæ¥äº†\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://metacpan.org/pod/Carton\"\u003eCarton\u003c/a\u003eæ˜¯Perlæ¨¡å—ä¾èµ–ç®¡ç†å™¨ã€‚æƒ³æƒ³ Ruby ä¸­çš„ \u003ccode\u003ebundler\u003c/code\u003eã€‚ æƒ³æƒ³ Node.js ä¸­çš„ \u003ccode\u003enpm\u003c/code\u003eã€‚\u003c/p\u003e\n\u003cp\u003eåƒ\u003ccode\u003enpm\u003c/code\u003eï¼ŒCarton åœ¨åº”ç”¨ç¨‹åºçš„ç›®å½•ä¸­å®‰è£…ä¾èµ–å…³ç³»ã€‚\u003c/p\u003e\n\u003ch3 id=\"éƒ¨ç½²\"\u003eéƒ¨ç½²\u003c/h3\u003e\n\u003cp\u003eé¦–å…ˆï¼Œå®‰è£… Cartonï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecpanm Carton\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å®‰è£…æˆ‘ä»¬çš„ä¾èµ–é¡¹ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecarton install\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eæˆ‘ä»¬çš„ä¾èµ–é¡¹å°†å®‰è£…åœ¨ä¸€ä¸ªåä¸ºçš„ç›®å½•ä¸­\u003ccode\u003elocal\u003c/code\u003eã€‚ä½†è¿˜æœ‰æ›´å¤šï¼šCartonå°†ç”Ÿæˆä¸€ä¸ª\u003ccode\u003ecpanfile.snapshot\u003c/code\u003eæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬çš„ä¾èµ–é¡¹çš„ç¡®åˆ‡ç‰ˆæœ¬ï¼Œå…è®¸æˆ‘ä»¬å¼ºåˆ¶æ‰§è¡Œé‚£äº›ç¡®åˆ‡çš„ç‰ˆæœ¬ï¼ˆéšåº”ç”¨ç¨‹åºä¸€èµ·æä¾›ï¼‰ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨æˆ‘ä»¬çš„\u003ccode\u003ecpanfile\u003c/code\u003eç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è¦æ±‚Mojoliciousç‰ˆæœ¬å¤§äºæˆ–ç­‰äº7.0ä¸”å°äº8.0ã€‚åœ¨æˆ‘ä»¬çš„å¼€å‘æœåŠ¡å™¨ä¸Šçš„å®‰è£…å’Œç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„å®‰è£…ä¹‹é—´ï¼Œæˆ‘ä»¬ä¾èµ–çš„ä¸€äº›è¾ƒæ–°ç‰ˆæœ¬çš„æ¨¡å—å¯èƒ½å·²ç»å‘å¸ƒã€‚å‡è®¾åœ¨æˆ‘ä»¬çš„å¼€å‘ç¯å¢ƒä¸­æˆ‘ä»¬æœ‰7.77 Mojoliciouså’Œ7.90å¹¶ä¸”æœ‰äº›ä¸œè¥¿å·²ç»æ”¹å˜ï¼Œè¿™ä¼šå¯¼è‡´é—®é¢˜ï¼ˆä¾‹å¦‚ï¼Œæ¥è‡ª\u003ca href=\"https://mojolicious.org/perldoc/Mojolicious/Plugin/DefaultHelpers\"\u003eMojolicious :: Plugin :: DefaultHelpers\u003c/a\u003eçš„å»¶è¿ŸåŠ©æ‰‹å·²ç»\u003ca href=\"https://github.com/mojolicious/mojo/blob/47d1369fd11b09af47a76f7f7192985a30ce2409/Changes#L243\"\u003eåœ¨7.78ä¸­\u003c/a\u003eè¢«\u003ca href=\"https://github.com/mojolicious/mojo/blob/47d1369fd11b09af47a76f7f7192985a30ce2409/Changes#L243\"\u003eå¼ƒç”¨\u003c/a\u003eå¹¶ä¸”\u003ca href=\"https://github.com/mojolicious/mojo/blob/47d1369fd11b09af47a76f7f7192985a30ce2409/Changes#L150\"\u003eåœ¨7.90ä¸­è¢«ç§»é™¤\u003c/a\u003eï¼‰ã€‚\u003c/p\u003e\n\u003cp\u003e7.77å’Œ7.90ç‰ˆæœ¬éƒ½åœ¨æˆ‘ä»¬çš„äº§å“ç³»åˆ—ä¸­ï¼Œä½†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ— æ³•åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šè¿è¡Œ\u0026hellip;æˆ‘ä»¬éœ€è¦ä½¿ç”Ÿäº§ç¯å¢ƒå°½å¯èƒ½ä¸å¼€å‘ç¯å¢ƒç›¸åŒã€‚\u003c/p\u003e\n\u003cp\u003eä¸ºæ­¤ï¼Œç”±äºæˆ‘ä»¬\u003ccode\u003ecpanfile.snapshot\u003c/code\u003eçš„å¼€å‘æœåŠ¡å™¨æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecarton install --deployment\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¿™å°†å®‰è£…å¿«ç…§ä¸­åˆ—å‡ºçš„æ¨¡å—çš„ç¡®åˆ‡ç‰ˆæœ¬ã€‚\u003c/p\u003e\n\u003ch3 id=\"ç‰¹å¾\"\u003eç‰¹å¾\u003c/h3\u003e\n\u003cp\u003eé»˜è®¤æƒ…å†µä¸‹ï¼Œ\u003ccode\u003ecarton install\u003c/code\u003eå°†å®‰è£…æ‰€æœ‰\u003cem\u003eåŠŸèƒ½\u003c/em\u003eä¾èµ–é¡¹ï¼Œä½†æˆ‘ä»¬å¯ä»¥åœç”¨ä¸€äº›ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecarton install --deployment --without-feature mysql\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eä¸ºäº†ä¸ºæ‰€æœ‰æ¨¡å—ï¼ˆç”šè‡³æ˜¯å¯é€‰æ¨¡å—ï¼‰æä¾›æ­£ç¡®çš„ç‰ˆæœ¬ï¼Œè¯·\u003ccode\u003ecarton install\u003c/code\u003eåœ¨å¼€å‘æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œå¹¶\u003ccode\u003e--without-feature\u003c/code\u003eä»…åœ¨éƒ¨ç½²åº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨ï¼šæ‚¨éœ€è¦\u003ccode\u003ecpanfile.snapshot\u003c/code\u003eåŒ…å«æ‰€æœ‰æ¨¡å—ã€‚\u003c/p\u003e\n\u003ch3 id=\"å¼€å§‹ç”³è¯·\"\u003eå¼€å§‹ç”³è¯·\u003c/h3\u003e\n\u003cp\u003eä¸ºäº†èƒ½å¤Ÿä½¿ç”¨\u003ccode\u003elocal\u003c/code\u003eåŒ…å«ä¾èµ–é¡¹çš„ç›®å½•ï¼Œå¯ä»¥ä¸ºå‘½ä»¤æ·»åŠ å‰ç¼€\u003ccode\u003ecarton exec\u003c/code\u003eã€‚å› æ­¤ï¼Œè¦ä½¿ç”¨å†…ç½®æœåŠ¡å™¨\u003ca href=\"https://mojolicious.org/perldoc/Mojo/Server/Hypnotoad\"\u003ehypnotoad\u003c/a\u003eå¯åŠ¨Mojoliciousåº”ç”¨ç¨‹åºï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecarton exec -- hypnotoad script/my_application\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¿™é€‚ç”¨äºæ‚¨å¯ä»¥å¯¹æ‚¨çš„åº”ç”¨ç¨‹åºæ‰§è¡Œçš„æ‰€æœ‰æ“ä½œã€‚ä¾‹ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecarton exec -- script/my_application routes\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¯·æ³¨æ„ä¸¤ä¸ªç ´æŠ˜å·ï¼šå®ƒä»¬é¿å…ä½¿ç”¨çº¸ç›’æ¥è§£é‡Šä¼ é€’ç»™è„šæœ¬çš„å‚æ•°ã€‚è¿™å°†æ˜¾ç¤ºæ‚¨çš„åº”ç”¨ç¨‹åºçš„å¸®åŠ©æ¶ˆæ¯ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecarton exec -- script/my_application --help\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¿™å°†æ˜¾ç¤ºçº¸ç®±çš„å¸®åŠ©ä¿¡æ¯ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecarton exec script/my_application --help\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eçœ‹åˆ°ä¸åŒï¼ŸğŸ˜‰\u003c/p\u003e\n\u003ch3 id=\"æ†ç»‘ä¾èµ–é¡¹\"\u003eæ†ç»‘ä¾èµ–é¡¹\u003c/h3\u003e\n\u003cp\u003eä¸ºäº†æ›´å¿«åœ°å®‰è£…ï¼Œcartonå¯ä»¥å°†ä¾èµ–é¡¹çš„æ‰€æœ‰tarballæ†ç»‘åˆ°ä¸€ä¸ªç›®å½•ä¸­ï¼Œè¿™æ ·æ‚¨ç”šè‡³å¯ä»¥å®‰è£…CPANä¸Šä¸å¯ç”¨çš„ä¾èµ–é¡¹ï¼Œä¾‹å¦‚å†…éƒ¨åˆ†å‘ï¼Œå³DarkPANï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecarton bundle\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¿™å°†æ†ç»‘tarball \u003ccode\u003evendor/cache\u003c/code\u003eã€‚æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–é¡¹ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecarton install --cached\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eç»“åˆ\u003ccode\u003e--deployment\u003c/code\u003eé€‰é¡¹ï¼Œæ‚¨å¯ä»¥é¿å…æŸ¥è¯¢CPAN Meta DBç­‰æ•°æ®åº“æˆ–ä»CPANé•œåƒä¸‹è½½æ–‡ä»¶ã€‚\u003c/p\u003e\n\u003cp\u003eæ‚¨ç”šè‡³å¯ä»¥é¿å…åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šå®‰è£…Cartonçš„éœ€è¦ï¼ˆä½†æ˜¯æ‚¨éœ€è¦æ·»åŠ \u003ccode\u003elocal\u003c/code\u003eç›®å½•\u003ccode\u003e@INC\u003c/code\u003eä»¥å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå› ä¸ºæ‚¨æ— æ³•ä½¿ç”¨\u003ccode\u003ecarton exec\u003c/code\u003eï¼‰ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecpanm -L local --from \u0026#34;$PWD/vendor/cache\u0026#34; --installdeps --notest --quiet .\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"ç»“è®º\"\u003eç»“è®º\u003c/h2\u003e\n\u003cp\u003eCartonå’Œcpanfileæ˜¯ç¼“è§£Mojoliciousåº”ç”¨ç¨‹åºéƒ¨ç½²çš„å¥½æ–¹æ³•ã€‚å®ƒä¸ä»…å¯ä»¥é¿å…åœ¨READMEæˆ–INSTALLæ–‡ä»¶ä¸­åˆ—å‡ºåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–é¡¹ï¼Œè€Œä¸”å¯ä»¥åŠ é€Ÿéƒ¨ç½²å¹¶ä½¿å®ƒä»¬æ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒç¡®å®å¯ä»¥é™ä½ç”±äºä¾èµ–é¡¹ç‰ˆæœ¬ä¸è‰¯è€Œå¯¼è‡´çš„é”™è¯¯é£é™©ã€‚\u003c/p\u003e\n","text":"ä½ æœ‰ä¸€ä¸ªå¯çˆ±çš„Mojoliciousåº”ç”¨ç¨‹åºï¼Œå®ƒæ˜¯æ—¶å€™éƒ¨ç½²å®ƒäº†ï¼\nä½†æ˜¯\u0026hellip;\u0026hellip;å®ƒä¸èƒ½åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šè¿è¡Œï¼åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿå“¦ï¼Œä¸ï¼Œæ‚¨æ‰€ä¾èµ–çš„æ¨¡å—ä¸å¼€å‘æœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬ä¸åŒã€‚ä½ èƒ½åšä»€ä¹ˆï¼Ÿ\nå®é™…ä¸Šï¼Œä¸€äº›æ¨¡å—å‘å±•å¾—å¾ˆå¿«ï¼ˆHello Mojoliciousï¼ï¼‰ï¼Œè¿™æ²¡æœ‰æ¯›ç—…ï¼Œä½†å¯èƒ½ä¼šå¯¼è‡´ä¸å…¼å®¹çš„å˜åŒ–ã€‚\nè¿˜æœ‰ä¸€äº›å¯ä»¥åœ¨ç‰ˆæœ¬ä¸­è§£å†³æˆ–å¼•å…¥çš„é”™è¯¯ï¼Œå¦‚æœæ‚¨çš„ç‰ˆæœ¬é”™è¯¯ï¼Œåˆ™ä¼šé‡åˆ°è¿™äº›é”™è¯¯ã€‚\nCpanfileæ¥æ•‘æ´ Cpanfileæ˜¯ä¸€ç§ç”¨äºæè¿°Perlåº”ç”¨ç¨‹åºçš„CPANä¾èµ–å…³ç³»çš„æ ¼å¼ã€‚\næœ‰äº†cpanfileï¼Œæˆ‘ä»¬å¯ä»¥åˆ—å‡ºæˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼ºåˆ¶æ¨¡å—çš„æœ€å°ç‰ˆæœ¬ï¼Œå®ƒä»¬çš„æœ€å¤§ç‰ˆæœ¬\u0026hellip;\u0026hellip;æˆ–è€…è¯´â€œæˆ‘æƒ³è¦é‚£ä¸ªæ¨¡å—çš„ç¡®åˆ‡ç‰ˆæœ¬â€ã€‚\nä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ—å‡ºå¯é€‰æ¨¡å—ï¼šæ‚¨å¯ä»¥æ”¯æŒä¸åŒçš„æ•°æ®åº“ï¼Œä½†å¦‚æœç”¨æˆ·æƒ³è¦ä½¿ç”¨PostgreSQLï¼Œåˆ™ä¸å¿…å®‰è£…ä¸MySQLç›¸å…³çš„æ¨¡å—ã€‚\nè¿™æ˜¯ä¸€ä¸ªä¾‹å­cpanfileï¼š\n# Do not ask for a specific version requires \u0026#39;DateTime\u0026#39;; # Ask a specific version requires \u0026#39;Plack\u0026#39;, \u0026#39;== 1.0\u0026#39;; # Ask a minimal version requires \u0026#39;Net::DNS\u0026#39;, \u0026#39;\u0026gt;= 1.12\u0026#39;; # Or requires \u0026#39;Net::DNS\u0026#39;, \u0026#39;1.12\u0026#39;; # Ask a maximal version requires \u0026#39;Locale::Maketext\u0026#39;, \u0026#39;\u0026lt; 1.28\u0026#39;; # Give a range requires \u0026#39;Mojolicious\u0026#39;, \u0026#39;\u0026gt;= 7.0, \u0026lt; 8.0\u0026#39;; # Optional modules feature \u0026#39;postgresql\u0026#39;, \u0026#39;PostgreSQL support\u0026#39; =\u0026gt; sub { requires \u0026#39;Mojo::Pg\u0026#39;; }; feature \u0026#39;mysql\u0026#39;, \u0026#39;MySQL support\u0026#39; =\u0026gt; sub { requires \u0026#39;Mojo::mysql\u0026#39;; }; feature \u0026#39;ldap\u0026#39;, \u0026#39;LDAP authentication support\u0026#39; =\u0026gt; sub { requires \u0026#39;Net::LDAP\u0026#39;; }; Cpanfileæ ¼å¼å¯ä»¥åšæ›´å¤šï¼ˆæ¨èæ¨¡å—ï¼Œç”¨äºç‰¹å®šé˜¶æ®µï¼ˆéœ€æ±‚configureï¼Œtest\u0026hellip;ï¼‰ï¼Œä½¿ç”¨æ²¡æœ‰å…¬å¸ƒå…³äºCPAN \u0026hellip;æ¨¡å—ï¼‰ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå…³äº Carton çš„æ–‡ç« ï¼šæˆ‘è®©ä½ è¯»cpanfileæ–‡æ¡£ğŸ™‚\nç•™æ„ï¼šå°å¿ƒåœ¨ README æ–‡ä»¶ä¸­åˆ—å‡ºéPerlçš„ä¾èµ–å…³ç³»1ï¼Œåƒ Mojo::Pg ä¸­çš„ libpq-devğŸ˜‰\nCpanfileå¯ä»¥ç”±cpanminusæˆ–Cartonä½¿ç”¨ã€‚\nè½¬åˆ°åŒ…å« cpanfile çš„ç›®å½•å¹¶æ‰§è¡Œï¼š\ncpanm --installdeps . EtvoilÃ ï¼\nè¯·æ³¨æ„ï¼Œfeatureså°šæœªå®‰è£…æ¨¡å—ã€‚ä½ å¯ä»¥å®‰è£…å®ƒä»¬ï¼š\ncpanm --installdeps . --with-feature postgresql æˆ–è€…ï¼Œå®‰è£…æ‰€æœ‰featuresæ¨¡å—ï¼Œä½†ä¸å®‰è£…mysqlï¼š\ncpanm --installdeps . --with-all-features --without-feature mysql æ‰€ä»¥ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¾èµ–äºç³»ç»Ÿçš„è‰¯å¥½ç‰ˆæœ¬ã€‚\nä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¯¥ç³»ç»Ÿä¸Šæ‰˜ç®¡å…¶ä»–å…·æœ‰å†²çªè¦æ±‚çš„åº”ç”¨ç¨‹åºå‘¢ï¼Ÿ\nCpanm èƒ½å¤Ÿåœ¨ç‰¹å®šçš„æ–‡ä»¶å¤¹ä¸­å®‰è£…æ¨¡å—ï¼ˆè°¢è°¢ä½ ï¼Œlocal::libï¼‰ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç›®å½•ä¸­å®‰è£…æˆ‘ä»¬çš„ä¾èµ–é¡¹æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿæˆ‘ä»¬æ€»æ˜¯çŸ¥é“æˆ‘ä»¬çš„ä¾èµ–å…³ç³»åœ¨å“ªé‡Œã€‚\nCartonæ¥äº† Cartonæ˜¯Perlæ¨¡å—ä¾èµ–ç®¡ç†å™¨ã€‚æƒ³æƒ³ Ruby ä¸­çš„ bundlerã€‚ æƒ³æƒ³ Node.js ä¸­çš„ npmã€‚\nåƒnpmï¼ŒCarton åœ¨åº”ç”¨ç¨‹åºçš„ç›®å½•ä¸­å®‰è£…ä¾èµ–å…³ç³»ã€‚\néƒ¨ç½² é¦–å…ˆï¼Œå®‰è£… Cartonï¼š\ncpanm Carton ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å®‰è£…æˆ‘ä»¬çš„ä¾èµ–é¡¹ï¼š\ncarton install æˆ‘ä»¬çš„ä¾èµ–é¡¹å°†å®‰è£…åœ¨ä¸€ä¸ªåä¸ºçš„ç›®å½•ä¸­localã€‚ä½†è¿˜æœ‰æ›´å¤šï¼šCartonå°†ç”Ÿæˆä¸€ä¸ªcpanfile.snapshotæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬çš„ä¾èµ–é¡¹çš„ç¡®åˆ‡ç‰ˆæœ¬ï¼Œå…è®¸æˆ‘ä»¬å¼ºåˆ¶æ‰§è¡Œé‚£äº›ç¡®åˆ‡çš„ç‰ˆæœ¬ï¼ˆéšåº”ç”¨ç¨‹åºä¸€èµ·æä¾›ï¼‰ã€‚\nåœ¨æˆ‘ä»¬çš„cpanfileç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è¦æ±‚Mojoliciousç‰ˆæœ¬å¤§äºæˆ–ç­‰äº7.0ä¸”å°äº8.0ã€‚åœ¨æˆ‘ä»¬çš„å¼€å‘æœåŠ¡å™¨ä¸Šçš„å®‰è£…å’Œç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„å®‰è£…ä¹‹é—´ï¼Œæˆ‘ä»¬ä¾èµ–çš„ä¸€äº›è¾ƒæ–°ç‰ˆæœ¬çš„æ¨¡å—å¯èƒ½å·²ç»å‘å¸ƒã€‚å‡è®¾åœ¨æˆ‘ä»¬çš„å¼€å‘ç¯å¢ƒä¸­æˆ‘ä»¬æœ‰7.77 Mojoliciouså’Œ7.90å¹¶ä¸”æœ‰äº›ä¸œè¥¿å·²ç»æ”¹å˜ï¼Œè¿™ä¼šå¯¼è‡´é—®é¢˜ï¼ˆä¾‹å¦‚ï¼Œæ¥è‡ªMojolicious :: Plugin :: DefaultHelpersçš„å»¶è¿ŸåŠ©æ‰‹å·²ç»åœ¨7.78ä¸­è¢«å¼ƒç”¨å¹¶ä¸”åœ¨7.90ä¸­è¢«ç§»é™¤ï¼‰ã€‚\n7.77å’Œ7.90ç‰ˆæœ¬éƒ½åœ¨æˆ‘ä»¬çš„äº§å“ç³»åˆ—ä¸­ï¼Œä½†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ— æ³•åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šè¿è¡Œ\u0026hellip;æˆ‘ä»¬éœ€è¦ä½¿ç”Ÿäº§ç¯å¢ƒå°½å¯èƒ½ä¸å¼€å‘ç¯å¢ƒç›¸åŒã€‚\nä¸ºæ­¤ï¼Œç”±äºæˆ‘ä»¬cpanfile.snapshotçš„å¼€å‘æœåŠ¡å™¨æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š\ncarton install --deployment è¿™å°†å®‰è£…å¿«ç…§ä¸­åˆ—å‡ºçš„æ¨¡å—çš„ç¡®åˆ‡ç‰ˆæœ¬ã€‚\nç‰¹å¾ é»˜è®¤æƒ…å†µä¸‹ï¼Œcarton installå°†å®‰è£…æ‰€æœ‰åŠŸèƒ½ä¾èµ–é¡¹ï¼Œä½†æˆ‘ä»¬å¯ä»¥åœç”¨ä¸€äº›ï¼š\ncarton install --deployment --without-feature mysql ä¸ºäº†ä¸ºæ‰€æœ‰æ¨¡å—ï¼ˆç”šè‡³æ˜¯å¯é€‰æ¨¡å—ï¼‰æä¾›æ­£ç¡®çš„ç‰ˆæœ¬ï¼Œè¯·carton installåœ¨å¼€å‘æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œå¹¶--without-featureä»…åœ¨éƒ¨ç½²åº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨ï¼šæ‚¨éœ€è¦cpanfile.snapshotåŒ…å«æ‰€æœ‰æ¨¡å—ã€‚\nå¼€å§‹ç”³è¯· ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨localåŒ…å«ä¾èµ–é¡¹çš„ç›®å½•ï¼Œå¯ä»¥ä¸ºå‘½ä»¤æ·»åŠ å‰ç¼€carton execã€‚å› æ­¤ï¼Œè¦ä½¿ç”¨å†…ç½®æœåŠ¡å™¨hypnotoadå¯åŠ¨Mojoliciousåº”ç”¨ç¨‹åºï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\ncarton exec -- hypnotoad script/my_application è¿™é€‚ç”¨äºæ‚¨å¯ä»¥å¯¹æ‚¨çš„åº”ç”¨ç¨‹åºæ‰§è¡Œçš„æ‰€æœ‰æ“ä½œã€‚ä¾‹ï¼š\ncarton exec -- script/my_application routes è¯·æ³¨æ„ä¸¤ä¸ªç ´æŠ˜å·ï¼šå®ƒä»¬é¿å…ä½¿ç”¨çº¸ç›’æ¥è§£é‡Šä¼ é€’ç»™è„šæœ¬çš„å‚æ•°ã€‚è¿™å°†æ˜¾ç¤ºæ‚¨çš„åº”ç”¨ç¨‹åºçš„å¸®åŠ©æ¶ˆæ¯ï¼š\ncarton exec -- script/my_application --help è¿™å°†æ˜¾ç¤ºçº¸ç®±çš„å¸®åŠ©ä¿¡æ¯ï¼š\ncarton exec script/my_application --help çœ‹åˆ°ä¸åŒï¼ŸğŸ˜‰\næ†ç»‘ä¾èµ–é¡¹ ä¸ºäº†æ›´å¿«åœ°å®‰è£…ï¼Œcartonå¯ä»¥å°†ä¾èµ–é¡¹çš„æ‰€æœ‰tarballæ†ç»‘åˆ°ä¸€ä¸ªç›®å½•ä¸­ï¼Œè¿™æ ·æ‚¨ç”šè‡³å¯ä»¥å®‰è£…CPANä¸Šä¸å¯ç”¨çš„ä¾èµ–é¡¹ï¼Œä¾‹å¦‚å†…éƒ¨åˆ†å‘ï¼Œå³DarkPANï¼š\ncarton bundle è¿™å°†æ†ç»‘tarball vendor/cacheã€‚æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–é¡¹ï¼š\ncarton install --cached ç»“åˆ--deploymenté€‰é¡¹ï¼Œæ‚¨å¯ä»¥é¿å…æŸ¥è¯¢CPAN Meta DBç­‰æ•°æ®åº“æˆ–ä»CPANé•œåƒä¸‹è½½æ–‡ä»¶ã€‚\næ‚¨ç”šè‡³å¯ä»¥é¿å…åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šå®‰è£…Cartonçš„éœ€è¦ï¼ˆä½†æ˜¯æ‚¨éœ€è¦æ·»åŠ localç›®å½•@INCä»¥å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå› ä¸ºæ‚¨æ— æ³•ä½¿ç”¨carton execï¼‰ï¼š\ncpanm -L local --from \u0026#34;$PWD/vendor/cache\u0026#34; --installdeps --notest --quiet . ç»“è®º Cartonå’Œcpanfileæ˜¯ç¼“è§£Mojoliciousåº”ç”¨ç¨‹åºéƒ¨ç½²çš„å¥½æ–¹æ³•ã€‚å®ƒä¸ä»…å¯ä»¥é¿å…åœ¨READMEæˆ–INSTALLæ–‡ä»¶ä¸­åˆ—å‡ºåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–é¡¹ï¼Œè€Œä¸”å¯ä»¥åŠ é€Ÿéƒ¨ç½²å¹¶ä½¿å®ƒä»¬æ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒç¡®å®å¯ä»¥é™ä½ç”±äºä¾èµ–é¡¹ç‰ˆæœ¬ä¸è‰¯è€Œå¯¼è‡´çš„é”™è¯¯é£é™©ã€‚\n"},"name":"ç¬¬äºŒåäºŒå¤© - ä½¿ç”¨ Carton è¿›è¡Œ Mojolicious åº”ç”¨ç¨‹åºéƒ¨ç½²","published":"2018-12-22T14:29:15Z","summary":"ä½ æœ‰ä¸€ä¸ªå¯çˆ±çš„Mojoliciousåº”ç”¨ç¨‹åºï¼Œå®ƒæ˜¯æ—¶å€™éƒ¨ç½²å®ƒäº†ï¼\nä½†æ˜¯\u0026hellip;\u0026hellip;å®ƒä¸èƒ½åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šè¿è¡Œï¼åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿå“¦ï¼Œä¸ï¼Œæ‚¨æ‰€ä¾èµ–çš„æ¨¡å—ä¸å¼€å‘æœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬ä¸åŒã€‚ä½ èƒ½åšä»€ä¹ˆï¼Ÿ\nå®é™…ä¸Šï¼Œä¸€äº›æ¨¡å—å‘å±•å¾—å¾ˆå¿«ï¼ˆHello Mojoliciousï¼ï¼‰ï¼Œè¿™æ²¡æœ‰æ¯›ç—…ï¼Œä½†å¯èƒ½ä¼šå¯¼è‡´ä¸å…¼å®¹çš„å˜åŒ–ã€‚\nè¿˜æœ‰ä¸€äº›å¯ä»¥åœ¨ç‰ˆæœ¬ä¸­è§£å†³æˆ–å¼•å…¥çš„é”™è¯¯ï¼Œå¦‚æœæ‚¨çš„ç‰ˆæœ¬é”™è¯¯ï¼Œåˆ™ä¼šé‡åˆ°è¿™äº›é”™è¯¯ã€‚\nCpanfileæ¥æ•‘æ´ Cpanfileæ˜¯ä¸€ç§ç”¨äºæè¿°Perlåº”ç”¨ç¨‹åºçš„CPANä¾èµ–å…³ç³»çš„æ ¼å¼ã€‚\næœ‰äº†cpanfileï¼Œæˆ‘ä»¬å¯ä»¥åˆ—å‡ºæˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼ºåˆ¶æ¨¡å—çš„æœ€å°ç‰ˆæœ¬ï¼Œå®ƒä»¬çš„æœ€å¤§ç‰ˆæœ¬\u0026hellip;\u0026hellip;æˆ–è€…è¯´â€œæˆ‘æƒ³è¦é‚£ä¸ªæ¨¡å—çš„ç¡®åˆ‡ç‰ˆæœ¬â€ã€‚\nä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ—å‡ºå¯é€‰æ¨¡å—ï¼šæ‚¨å¯ä»¥æ”¯æŒä¸åŒçš„æ•°æ®åº“ï¼Œä½†å¦‚æœç”¨æˆ·æƒ³è¦ä½¿ç”¨PostgreSQLï¼Œåˆ™ä¸å¿…å®‰è£…ä¸MySQLç›¸å…³çš„æ¨¡å—ã€‚\nè¿™æ˜¯ä¸€ä¸ªä¾‹å­cpanfileï¼š\n# Do not ask for a specific version requires \u0026#39;DateTime\u0026#39;; # Ask a specific version requires \u0026#39;Plack\u0026#39;, \u0026#39;== 1.0\u0026#39;; # Ask a minimal version requires \u0026#39;Net::DNS\u0026#39;, \u0026#39;\u0026gt;= 1.12\u0026#39;; # Or requires \u0026#39;Net::DNS\u0026#39;, \u0026#39;1.12\u0026#39;; # Ask a maximal version requires \u0026#39;Locale::Maketext\u0026#39;, \u0026#39;\u0026lt; 1.28\u0026#39;; # Give a range requires \u0026#39;Mojolicious\u0026#39;, \u0026#39;\u0026gt;= 7.0, \u0026lt; 8.0\u0026#39;; # Optional modules feature \u0026#39;postgresql\u0026#39;, \u0026#39;PostgreSQL support\u0026#39; =\u0026gt; sub { requires \u0026#39;Mojo::Pg\u0026#39;; }; feature \u0026#39;mysql\u0026#39;, \u0026#39;MySQL support\u0026#39; =\u0026gt; sub { requires \u0026#39;Mojo::mysql\u0026#39;; }; feature \u0026#39;ldap\u0026#39;, \u0026#39;LDAP authentication support\u0026#39; =\u0026gt; sub { requires \u0026#39;Net::LDAP\u0026#39;; }; Cpanfileæ ¼å¼å¯ä»¥åšæ›´å¤šï¼ˆæ¨èæ¨¡å—ï¼Œç”¨äºç‰¹å®šé˜¶æ®µï¼ˆéœ€æ±‚configureï¼Œtest\u0026hellip;ï¼‰ï¼Œä½¿ç”¨æ²¡æœ‰å…¬å¸ƒå…³äºCPAN \u0026hellip;æ¨¡å—ï¼‰ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå…³äº Carton çš„æ–‡ç« ï¼šæˆ‘è®©ä½ è¯»cpanfileæ–‡æ¡£ğŸ™‚","type":"entry","url":"https://ohmyweekly.github.io/notes/use-carton-for-your-mojolicious-app-deployment/"}
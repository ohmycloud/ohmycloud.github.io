{"author":{"name":null,"type":"card","url":"https://ohmycloud.github.io/"},"content":{"html":"\u003ch2 id=\"imagemagick之gravity参数详解\"\u003eImageMagick之gravity参数详解\u003c/h2\u003e\n\u003cp\u003e使用gravity重新定义坐标后，可以很容易让子元素与父元素的对齐方式达到想要的效果，让一切变得非常简单。比如把一张小图片叠加到背景图片的正中位置，按照默认的坐标系统，那必须要先知道背景图片和小图片的宽度以及高度，然后才能计算出起始点的坐标，再通过-geometry来设置坐标点。\u003c/p\u003e\n\u003cp\u003e如果使用gravity，把其设置center，即把中心作为坐标的原点，那么根本不需要计算起始坐标点，ImageMagicK会自动把小图片放置在背景的正中央位置，\u003ccode\u003e-geometry\u003c/code\u003e 默认是+0+0。gravity不仅影响父元素的坐标系统，而且子元素的重心点（或者叫参照点）也随之改变。\u003c/p\u003e\n\u003cp\u003e举例来说，当gravity值为southeast，父元素的坐标原点变为右下角了，x轴方向是从右到左，y轴方向从下到上；子元素重心点也是右下角，所以geometry设置的坐标点就是子元素的右下角相对父元素右下角的位置。\u003c/p\u003e\n\u003cp\u003egravity会影响通过geometry、annotate、region等来定义的坐标点。\u003c/p\u003e\n\u003cp\u003egravity可用值有九个,分别是:\u003c/p\u003e\n\u003cp\u003eNorthWest：左上角为坐标原点，x轴从左到右，y轴从上到下，也是默认值。\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003econvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity northwest -geometry +10+10 -composite -size 100x50 xc:yellow -gravity northwest -geometry +110+60 -composite -gravity northwest -fill red -pointsize 24 -draw \u0026#34;text 110,60 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; nw.png\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e说明：创建一个灰色的400×120的背景,分别把两个100×50的小图片放置在背景上的(10,10)和(110,60)的位置,同时通过draw在图片输入一段文本，小图片和文本的参照点是左上角，效果如下图。\u003c/p\u003e\n\u003cp\u003eNorth：上部中间位置为坐标原点，x轴从左到右，y轴从上到下。\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003econvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity north -geometry +10+10 -composite -size 100x50 xc:yellow -gravity north -geometry +110+60 -composite -fill red -pointsize 24 -gravity north -draw \u0026#34;text 0,60 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; n.png\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e说明：小图片和文字的参照点是上部中间位置，效果如下图。\u003c/p\u003e\n\u003cp\u003eNorthEast：右上角位置为坐标原点，x轴从右到左，y轴从上到下。\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003econvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity NorthEast -geometry +10+10 -composite -size 100x50 xc:yellow -gravity NorthEast -geometry +110+60 -composite -fill red -pointsize 24 -gravity NorthEast -draw \u0026#34;text 10,60 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; ne.png\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e说明：小图片和文字的参照点是右上角位置，效果如下图。\u003c/p\u003e\n\u003cp\u003eWest：左边缘中间位置为坐标原点，x轴从左到右，y轴从上到下。\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003econvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity West -geometry +10+10 -composite -size 100x50 xc:yellow -gravity West -geometry +110-40 -composite -fill red -pointsize 24 -gravity West -draw \u0026#34;text 0,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; w.png\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e说明：小图片和文字的参照点是左边缘的中间位置，效果如下图。\u003c/p\u003e\n\u003cp\u003eCenter：正中间位置为坐标原点，x轴从左到右，y轴从上到下。\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003econvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity Center -geometry +50+25 -composite -size 100x50 xc:yellow -gravity Center -geometry -50-25 -composite -fill red -pointsize 24 -gravity Center -draw \u0026#34;text 0,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; c.png\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e说明：小图片和文字的参照点是正中间的位置，效果如下图。\u003c/p\u003e\n\u003cp\u003eEast：右边缘的中间位置为坐标原点，x轴从右到左，y轴从上到下。\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003econvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity East -geometry +10+25 -composite -size 100x50 xc:yellow -gravity East -geometry +110-25 -composite -fill red -pointsize 24 -gravity East -draw \u0026#34;text 10,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; e.png\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e说明：小图片和文字的参照点是右边缘中间的位置，效果如下图。\u003c/p\u003e\n\u003cp\u003eSouthWest：左下角为坐标原点，x轴从左到右，y轴从下到上。\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003econvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity SouthWest -geometry +10+10 -composite -size 100x50 xc:yellow -gravity SouthWest -geometry +110+60 -composite -fill red -pointsize 24 -gravity SouthWest -draw \u0026#34;text 10,10 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; sw.png\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e说明：小图片和文字的参照点是左下角的位置，效果如下图。\u003c/p\u003e\n\u003cp\u003eSouth：下边缘的中间为坐标原点，x轴从左到右，y轴从下到上。\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003econvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity South -geometry +10+10 -composite -size 100x50 xc:yellow -gravity South -geometry +110+60 -composite -fill red -pointsize 24 -gravity South -draw \u0026#34;text 0,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; s.png\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e说明：小图片和文字的参照点是下边缘的中间，效果如下图。\u003c/p\u003e\n\u003cp\u003eSouthEast：右下角坐标原点，x轴从右到左，y轴从下到上。\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003econvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity SouthEast -geometry +10+10 -composite -size 100x50 xc:yellow -gravity SouthEast -geometry +110+60 -composite -fill red -pointsize 24 -gravity SouthEast -draw \u0026#34;text 0,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; se.png\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e说明：小图片和文字的参照点右下角，效果如下图。\u003c/p\u003e\n\u003cp\u003e（图不见了！）\u003c/p\u003e\n","text":"ImageMagick之gravity参数详解 使用gravity重新定义坐标后，可以很容易让子元素与父元素的对齐方式达到想要的效果，让一切变得非常简单。比如把一张小图片叠加到背景图片的正中位置，按照默认的坐标系统，那必须要先知道背景图片和小图片的宽度以及高度，然后才能计算出起始点的坐标，再通过-geometry来设置坐标点。\n如果使用gravity，把其设置center，即把中心作为坐标的原点，那么根本不需要计算起始坐标点，ImageMagicK会自动把小图片放置在背景的正中央位置，-geometry 默认是+0+0。gravity不仅影响父元素的坐标系统，而且子元素的重心点（或者叫参照点）也随之改变。\n举例来说，当gravity值为southeast，父元素的坐标原点变为右下角了，x轴方向是从右到左，y轴方向从下到上；子元素重心点也是右下角，所以geometry设置的坐标点就是子元素的右下角相对父元素右下角的位置。\ngravity会影响通过geometry、annotate、region等来定义的坐标点。\ngravity可用值有九个,分别是:\nNorthWest：左上角为坐标原点，x轴从左到右，y轴从上到下，也是默认值。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity northwest -geometry +10+10 -composite -size 100x50 xc:yellow -gravity northwest -geometry +110+60 -composite -gravity northwest -fill red -pointsize 24 -draw \u0026#34;text 110,60 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; nw.png 说明：创建一个灰色的400×120的背景,分别把两个100×50的小图片放置在背景上的(10,10)和(110,60)的位置,同时通过draw在图片输入一段文本，小图片和文本的参照点是左上角，效果如下图。\nNorth：上部中间位置为坐标原点，x轴从左到右，y轴从上到下。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity north -geometry +10+10 -composite -size 100x50 xc:yellow -gravity north -geometry +110+60 -composite -fill red -pointsize 24 -gravity north -draw \u0026#34;text 0,60 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; n.png 说明：小图片和文字的参照点是上部中间位置，效果如下图。\nNorthEast：右上角位置为坐标原点，x轴从右到左，y轴从上到下。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity NorthEast -geometry +10+10 -composite -size 100x50 xc:yellow -gravity NorthEast -geometry +110+60 -composite -fill red -pointsize 24 -gravity NorthEast -draw \u0026#34;text 10,60 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; ne.png 说明：小图片和文字的参照点是右上角位置，效果如下图。\nWest：左边缘中间位置为坐标原点，x轴从左到右，y轴从上到下。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity West -geometry +10+10 -composite -size 100x50 xc:yellow -gravity West -geometry +110-40 -composite -fill red -pointsize 24 -gravity West -draw \u0026#34;text 0,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; w.png 说明：小图片和文字的参照点是左边缘的中间位置，效果如下图。\nCenter：正中间位置为坐标原点，x轴从左到右，y轴从上到下。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity Center -geometry +50+25 -composite -size 100x50 xc:yellow -gravity Center -geometry -50-25 -composite -fill red -pointsize 24 -gravity Center -draw \u0026#34;text 0,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; c.png 说明：小图片和文字的参照点是正中间的位置，效果如下图。\nEast：右边缘的中间位置为坐标原点，x轴从右到左，y轴从上到下。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity East -geometry +10+25 -composite -size 100x50 xc:yellow -gravity East -geometry +110-25 -composite -fill red -pointsize 24 -gravity East -draw \u0026#34;text 10,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; e.png 说明：小图片和文字的参照点是右边缘中间的位置，效果如下图。\nSouthWest：左下角为坐标原点，x轴从左到右，y轴从下到上。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity SouthWest -geometry +10+10 -composite -size 100x50 xc:yellow -gravity SouthWest -geometry +110+60 -composite -fill red -pointsize 24 -gravity SouthWest -draw \u0026#34;text 10,10 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; sw.png 说明：小图片和文字的参照点是左下角的位置，效果如下图。\nSouth：下边缘的中间为坐标原点，x轴从左到右，y轴从下到上。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity South -geometry +10+10 -composite -size 100x50 xc:yellow -gravity South -geometry +110+60 -composite -fill red -pointsize 24 -gravity South -draw \u0026#34;text 0,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; s.png 说明：小图片和文字的参照点是下边缘的中间，效果如下图。\nSouthEast：右下角坐标原点，x轴从右到左，y轴从下到上。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity SouthEast -geometry +10+10 -composite -size 100x50 xc:yellow -gravity SouthEast -geometry +110+60 -composite -fill red -pointsize 24 -gravity SouthEast -draw \u0026#34;text 0,0 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; se.png 说明：小图片和文字的参照点右下角，效果如下图。\n（图不见了！）\n"},"name":"ImageMagick - gravity 参数详解","published":"2011-06-09T16:16:21Z","summary":"ImageMagick之gravity参数详解 使用gravity重新定义坐标后，可以很容易让子元素与父元素的对齐方式达到想要的效果，让一切变得非常简单。比如把一张小图片叠加到背景图片的正中位置，按照默认的坐标系统，那必须要先知道背景图片和小图片的宽度以及高度，然后才能计算出起始点的坐标，再通过-geometry来设置坐标点。\n如果使用gravity，把其设置center，即把中心作为坐标的原点，那么根本不需要计算起始坐标点，ImageMagicK会自动把小图片放置在背景的正中央位置，-geometry 默认是+0+0。gravity不仅影响父元素的坐标系统，而且子元素的重心点（或者叫参照点）也随之改变。\n举例来说，当gravity值为southeast，父元素的坐标原点变为右下角了，x轴方向是从右到左，y轴方向从下到上；子元素重心点也是右下角，所以geometry设置的坐标点就是子元素的右下角相对父元素右下角的位置。\ngravity会影响通过geometry、annotate、region等来定义的坐标点。\ngravity可用值有九个,分别是:\nNorthWest：左上角为坐标原点，x轴从左到右，y轴从上到下，也是默认值。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity northwest -geometry +10+10 -composite -size 100x50 xc:yellow -gravity northwest -geometry +110+60 -composite -gravity northwest -fill red -pointsize 24 -draw \u0026#34;text 110,60 \u0026#39;hello netingcn.com!\u0026#39;\u0026#34; nw.png 说明：创建一个灰色的400×120的背景,分别把两个100×50的小图片放置在背景上的(10,10)和(110,60)的位置,同时通过draw在图片输入一段文本，小图片和文本的参照点是左上角，效果如下图。\nNorth：上部中间位置为坐标原点，x轴从左到右，y轴从上到下。\nconvert -size 400x120 xc:gray -size 100x50 xc:blue -gravity north -geometry +10+10 -composite -size 100x50 xc:yellow -gravity north -geometry +110+60 -composite -fill red -pointsize 24 -gravity north -draw \u0026#34;text 0,60 \u0026#39;hello netingcn.","type":"entry","url":"https://ohmycloud.github.io/notes/imagemagick%E4%B9%8Bgravity%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3/"}
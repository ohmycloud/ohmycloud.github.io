{"author":{"name":null,"type":"card","url":"http://localhost:1313/"},"content":{"html":"\u003cp\u003e\u003cimg src=\"https://mojolicious.io/blog/2017/12/03/day-3-using-named-routes/my_name_is.jpg\" alt=\"img\"\u003e\u003c/p\u003e\n\u003cp\u003e我们从多年的编程中知道的一件事是，如果你不需要，你就不应该对任何东西进行硬编码。然而，太多的网络应用程序硬编码他们的网址，特别是内部网站。但是，如果你不需要怎么办？\u003c/p\u003e\n\u003cp\u003e每个 Mojolicious 路由都有自己的\u003ca href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Routing#Named-routes\"\u003e名字\u003c/a\u003e，可用于生成网址。如果您没有指定一个，则会生成一个，但您不应该依赖该名称，给它一个有意义且与您的目的相关的名称。在lite应用程序中，名称是任何默认值或回调之后的最后一个参数。 （在完整的应用程序中，它是一个属性，但我们将在另一篇文章中讨论这些内容）。\u003c/p\u003e\n\u003cp\u003e然后，当您需要一个URL而不是硬编码时，使用 \u003ccode\u003eurl_for\u003c/code\u003e 或相关功能按名称生成 URL，您甚至可以根据需要传递占位符值。让我们看看它是如何工作的！\u003c/p\u003e\n\u003ch2 id=\"北极主页\"\u003e北极主页\u003c/h2\u003e\n\u003cp\u003e圣诞老人从一个简单的 webapp 开始。它只有一个主页和一个页面供他和他的员工使用。由于它如此简单，他没有任何更深的路径，只有 \u003ccode\u003e/\u003c/code\u003e 用于主页和 \u003ccode\u003e/:name\u003c/code\u003e 用于员工页面。当然，我要告诉你的是一个简化，我无法向你展示圣诞老人的完整网站，原因很明显。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"nn\"\u003eMojolicious::Lite\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;/:name\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003etemplate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;staff\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;staff\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;/\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003etemplate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;home\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;home\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nn\"\u003eapp\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003estart\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"bp\"\u003e__DATA__\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e@@\u003c/span\u003e \u003cspan class=\"nv\"\u003estaff\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eep\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sr\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eThis\u003c/span\u003e \u003cspan class=\"n\"\u003eis\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003eucfirst\u003c/span\u003e \u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;.\u0026lt;/\u003c/span\u003e\u003cspan class=\"nv\"\u003ep\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e@@\u003c/span\u003e \u003cspan class=\"nv\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eep\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sr\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eWelcome\u003c/span\u003e \u003cspan class=\"n\"\u003eto\u003c/span\u003e \u003cspan class=\"n\"\u003eThe\u003c/span\u003e \u003cspan class=\"n\"\u003eNorth\u003c/span\u003e \u003cspan class=\"n\"\u003ePole\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"sr\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sr\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"n\"\u003eSay\u003c/span\u003e \u003cspan class=\"n\"\u003ehi\u003c/span\u003e \u003cspan class=\"n\"\u003eto\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003elink_to\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;Santa\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003estaff\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;santa\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"nv\"\u003eand\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003elink_to\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;Rudolph\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003estaff\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;rudolph\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nv\"\u003ep\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e我们可以看到 \u003ca href=\"http://mojolicious.org/perldoc/Mojolicious/Plugin/TagHelpers#link_to\"\u003elink_to\u003c/a\u003e 使用路由名称生成链接标记。第一个参数是链接将显示的文本。以下参数按名称和占位符值构建URL。返回实际上是一个 \u003ca href=\"http://mojolicious.org/perldoc/Mojo/URL\"\u003eMojo::URL\u003c/a\u003e，所以如果你需要添加其他东西，比如查询参数，那么可以在之后完成。\u003c/p\u003e\n\u003ch2 id=\"改变路由\"\u003e改变路由\u003c/h2\u003e\n\u003cp\u003e一切都很好，直到有一天圣诞老人决定要展示一些年度新玩具。问题是他没有为此计划他的网址。他可以保留所有现有的并添加一个特殊的套管/玩具路线，但这样看起来很傻。他真正需要做的是移动所有员工页面以保持网址一致。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"nn\"\u003eMojolicious::Lite\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;/toy/:toy_name\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003etemplate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;toy\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;toy\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;/meet/:name\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003etemplate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;staff\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;staff\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;/\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003etemplate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;home\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;home\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nn\"\u003eapp\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003estart\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"bp\"\u003e__DATA__\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e@@\u003c/span\u003e \u003cspan class=\"nv\"\u003etoy\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eep\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sr\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eLook\u003c/span\u003e \u003cspan class=\"n\"\u003eat\u003c/span\u003e \u003cspan class=\"n\"\u003ethis\u003c/span\u003e \u003cspan class=\"n\"\u003eamazing\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e=\u003c/span\u003e \u003cspan class=\"err\"\u003e$\u003c/span\u003e\u003cspan class=\"nv\"\u003etoy_name\u003c/span\u003e \u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;.\u0026lt;/\u003c/span\u003e\u003cspan class=\"nv\"\u003ep\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e@@\u003c/span\u003e \u003cspan class=\"nv\"\u003estaff\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eep\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sr\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eThis\u003c/span\u003e \u003cspan class=\"n\"\u003eis\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003eucfirst\u003c/span\u003e \u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;.\u0026lt;/\u003c/span\u003e\u003cspan class=\"nv\"\u003ep\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e@@\u003c/span\u003e \u003cspan class=\"nv\"\u003ehome\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eep\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sr\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eWelcome\u003c/span\u003e \u003cspan class=\"n\"\u003eto\u003c/span\u003e \u003cspan class=\"n\"\u003eThe\u003c/span\u003e \u003cspan class=\"n\"\u003eNorth\u003c/span\u003e \u003cspan class=\"n\"\u003ePole\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"sr\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sr\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"n\"\u003eSay\u003c/span\u003e \u003cspan class=\"n\"\u003ehi\u003c/span\u003e \u003cspan class=\"n\"\u003eto\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003elink_to\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;Santa\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003estaff\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;santa\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"nv\"\u003eand\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003elink_to\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;Rudolph\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003estaff\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;rudolph\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nv\"\u003ep\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sr\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"n\"\u003eAnd\u003c/span\u003e \u003cspan class=\"n\"\u003ejust\u003c/span\u003e \u003cspan class=\"nb\"\u003ewait\u003c/span\u003e \u003cspan class=\"k\"\u003euntil\u003c/span\u003e \u003cspan class=\"n\"\u003eyou\u003c/span\u003e \u003cspan class=\"n\"\u003esee\u003c/span\u003e \u003cspan class=\"k\"\u003eour\u003c/span\u003e \u003cspan class=\"n\"\u003eamazing\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003elink_to\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;new puzzle\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003etoy\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003etoy_name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;puzzle\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"nv\"\u003e%\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;!\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nv\"\u003ep\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e因为员工页面网址是按名称生成的，所以除了路线定义外，Santa不需要更改任何内容！\u003c/p\u003e\n\u003ch2 id=\"路由名作为默认模板名\"\u003e路由名作为默认模板名\u003c/h2\u003e\n\u003cp\u003e我还应该提一件事。我本可以用更少的代码实际制作前面的例子。如果路由没有显式呈现某些内容，它将检查是否存在路径名称的模板。这是一些人喜欢并且可能使路由定义看起来像这样的快捷方式：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;/toy/:toy_name\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;toy\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;/meet/:name\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;staff\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;/\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#39;home\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e虽然有些人欣赏这个功能，但我个人喜欢明确我想要的模板。我也想分开关注。无论如何，你可以选择你最喜欢的。毕竟，有不止一种方法可以做到这一点！\u003c/p\u003e\n","text":"\n我们从多年的编程中知道的一件事是，如果你不需要，你就不应该对任何东西进行硬编码。然而，太多的网络应用程序硬编码他们的网址，特别是内部网站。但是，如果你不需要怎么办？\n每个 Mojolicious 路由都有自己的名字，可用于生成网址。如果您没有指定一个，则会生成一个，但您不应该依赖该名称，给它一个有意义且与您的目的相关的名称。在lite应用程序中，名称是任何默认值或回调之后的最后一个参数。 （在完整的应用程序中，它是一个属性，但我们将在另一篇文章中讨论这些内容）。\n然后，当您需要一个URL而不是硬编码时，使用 url_for 或相关功能按名称生成 URL，您甚至可以根据需要传递占位符值。让我们看看它是如何工作的！\n北极主页 圣诞老人从一个简单的 webapp 开始。它只有一个主页和一个页面供他和他的员工使用。由于它如此简单，他没有任何更深的路径，只有 / 用于主页和 /:name 用于员工页面。当然，我要告诉你的是一个简化，我无法向你展示圣诞老人的完整网站，原因很明显。\nuse Mojolicious::Lite; get \u0026#39;/:name\u0026#39; =\u0026gt; {template =\u0026gt; \u0026#39;staff\u0026#39;} =\u0026gt; \u0026#39;staff\u0026#39;; get \u0026#39;/\u0026#39; =\u0026gt; {template =\u0026gt; \u0026#39;home\u0026#39;} =\u0026gt; \u0026#39;home\u0026#39;; app-\u0026gt;start; __DATA__ @@ staff.html.ep \u0026lt;p\u0026gt;This is \u0026lt;%= ucfirst $name %\u0026gt;.\u0026lt;/p\u0026gt; @@ home.html.ep \u0026lt;p\u0026gt;Welcome to The North Pole!\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt; Say hi to \u0026lt;%= link_to \u0026#39;Santa\u0026#39; =\u0026gt; staff =\u0026gt; {name =\u0026gt; \u0026#39;santa\u0026#39;} %\u0026gt; and \u0026lt;%= link_to \u0026#39;Rudolph\u0026#39; =\u0026gt; staff =\u0026gt; {name =\u0026gt; \u0026#39;rudolph\u0026#39;} %\u0026gt;. \u0026lt;/p\u0026gt; 我们可以看到 link_to 使用路由名称生成链接标记。第一个参数是链接将显示的文本。以下参数按名称和占位符值构建URL。返回实际上是一个 Mojo::URL，所以如果你需要添加其他东西，比如查询参数，那么可以在之后完成。\n改变路由 一切都很好，直到有一天圣诞老人决定要展示一些年度新玩具。问题是他没有为此计划他的网址。他可以保留所有现有的并添加一个特殊的套管/玩具路线，但这样看起来很傻。他真正需要做的是移动所有员工页面以保持网址一致。\nuse Mojolicious::Lite; get \u0026#39;/toy/:toy_name\u0026#39; =\u0026gt; {template =\u0026gt; \u0026#39;toy\u0026#39;} =\u0026gt; \u0026#39;toy\u0026#39;; get \u0026#39;/meet/:name\u0026#39; =\u0026gt; {template =\u0026gt; \u0026#39;staff\u0026#39;} =\u0026gt; \u0026#39;staff\u0026#39;; get \u0026#39;/\u0026#39; =\u0026gt; {template =\u0026gt; \u0026#39;home\u0026#39;} =\u0026gt; \u0026#39;home\u0026#39;; app-\u0026gt;start; __DATA__ @@ toy.html.ep \u0026lt;p\u0026gt;Look at this amazing \u0026lt;%= $toy_name %\u0026gt;.\u0026lt;/p\u0026gt; @@ staff.html.ep \u0026lt;p\u0026gt;This is \u0026lt;%= ucfirst $name %\u0026gt;.\u0026lt;/p\u0026gt; @@ home.html.ep \u0026lt;p\u0026gt;Welcome to The North Pole!\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt; Say hi to \u0026lt;%= link_to \u0026#39;Santa\u0026#39; =\u0026gt; staff =\u0026gt; {name =\u0026gt; \u0026#39;santa\u0026#39;} %\u0026gt; and \u0026lt;%= link_to \u0026#39;Rudolph\u0026#39; =\u0026gt; staff =\u0026gt; {name =\u0026gt; \u0026#39;rudolph\u0026#39;} %\u0026gt;. \u0026lt;/p\u0026gt; \u0026lt;p\u0026gt; And just wait until you see our amazing \u0026lt;%= link_to \u0026#39;new puzzle\u0026#39; =\u0026gt; toy =\u0026gt; {toy_name =\u0026gt; \u0026#39;puzzle\u0026#39;} %\u0026gt;! \u0026lt;/p\u0026gt; 因为员工页面网址是按名称生成的，所以除了路线定义外，Santa不需要更改任何内容！\n路由名作为默认模板名 我还应该提一件事。我本可以用更少的代码实际制作前面的例子。如果路由没有显式呈现某些内容，它将检查是否存在路径名称的模板。这是一些人喜欢并且可能使路由定义看起来像这样的快捷方式：\nget \u0026#39;/toy/:toy_name\u0026#39; =\u0026gt; \u0026#39;toy\u0026#39;; get \u0026#39;/meet/:name\u0026#39; =\u0026gt; \u0026#39;staff\u0026#39;; get \u0026#39;/\u0026#39; =\u0026gt; \u0026#39;home\u0026#39;; 虽然有些人欣赏这个功能，但我个人喜欢明确我想要的模板。我也想分开关注。无论如何，你可以选择你最喜欢的。毕竟，有不止一种方法可以做到这一点！\n"},"name":"第三天 - 使用命名路由","published":"2017-12-03T18:35:14Z","summary":"我们从多年的编程中知道的一件事是，如果你不需要，你就不应该对任何东西进行硬编码。然而，太多的网络应用程序硬编码他们的网址，特别是内部网站。但是，如果你不需要怎么办？\n每个 Mojolicious 路由都有自己的名字，可用于生成网址。如果您没有指定一个，则会生成一个，但您不应该依赖该名称，给它一个有意义且与您的目的相关的名称。在lite应用程序中，名称是任何默认值或回调之后的最后一个参数。 （在完整的应用程序中，它是一个属性，但我们将在另一篇文章中讨论这些内容）。\n然后，当您需要一个URL而不是硬编码时，使用 url_for 或相关功能按名称生成 URL，您甚至可以根据需要传递占位符值。让我们看看它是如何工作的！\n北极主页 圣诞老人从一个简单的 webapp 开始。它只有一个主页和一个页面供他和他的员工使用。由于它如此简单，他没有任何更深的路径，只有 / 用于主页和 /:name 用于员工页面。当然，我要告诉你的是一个简化，我无法向你展示圣诞老人的完整网站，原因很明显。\nuse Mojolicious::Lite; get \u0026#39;/:name\u0026#39; =\u0026gt; {template =\u0026gt; \u0026#39;staff\u0026#39;} =\u0026gt; \u0026#39;staff\u0026#39;; get \u0026#39;/\u0026#39; =\u0026gt; {template =\u0026gt; \u0026#39;home\u0026#39;} =\u0026gt; \u0026#39;home\u0026#39;; app-\u0026gt;start; __DATA__ @@ staff.html.ep \u0026lt;p\u0026gt;This is \u0026lt;%= ucfirst $name %\u0026gt;.\u0026lt;/p\u0026gt; @@ home.html.ep \u0026lt;p\u0026gt;Welcome to The North Pole!\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt; Say hi to \u0026lt;%= link_to \u0026#39;Santa\u0026#39; =\u0026gt; staff =\u0026gt; {name =\u0026gt; \u0026#39;santa\u0026#39;} %\u0026gt; and \u0026lt;%= link_to \u0026#39;Rudolph\u0026#39; =\u0026gt; staff =\u0026gt; {name =\u0026gt; \u0026#39;rudolph\u0026#39;} %\u0026gt;.","type":"entry","url":"http://localhost:1313/notes/using-named-routes/"}
{"author":{"name":null,"type":"card","url":"https://ohmycloud.github.io/"},"content":{"html":"\u003cp\u003eæ¬¢è¿æ¥åˆ°\u003cstrong\u003eRaku One-Liner Advent Calendarçš„\u003c/strong\u003eç¬¬\u003ca href=\"https://raku.online/2018/12/24/reading-file-contents-with-argfiles-in-perl-6/\"\u003e24\u003c/a\u003eå¤©ï¼\u003c/p\u003e\n\u003cp\u003eåœ¨å‰å‡ å¤©ï¼Œæˆ‘ä»¬æ­£åœ¨è¯»å–æ–‡æœ¬æ–‡ä»¶ï¼Œå› æ­¤è®¨è®º \u003ca href=\"https://docs.raku.org/language/variables#index-entry-%24%2AARGFILES\"\u003e\u003ccode\u003e$*ARGFILES\u003c/code\u003e\u003c/a\u003eæ˜¯åˆä¹é€»è¾‘çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…ç½®çš„åŠ¨æ€å˜é‡ï¼Œåœ¨å¤„ç†å¤šä¸ªè¾“å…¥æ–‡ä»¶æ—¶å¯èƒ½å¾ˆæ–¹ä¾¿ã€‚\u003c/p\u003e\n\u003cp\u003eå¦‚ä½•è¯»å–å‘½ä»¤è¡Œä¸­ä¼ é€’çš„ä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Ÿ\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ raku work.pl a.txt b.txt\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eå¦‚æœæ‚¨éœ€è¦å°†æ‰€æœ‰æ–‡ä»¶ä¸€èµ·å¤„ç†ï¼Œå°±åƒå®ƒä»¬æ˜¯å•ä¸ªæ•°æ®æºä¸€æ ·ï¼Œæ‚¨å¯ä»¥è¦æ±‚æˆ‘ä»¬ä»Šå¤©çš„å˜é‡ä»¥å•è¡Œæ–¹å¼å®Œæˆå·¥ä½œï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e.say for $*ARGFILES.lines\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eåœ¨ç¨‹åºå†…éƒ¨ï¼Œæ‚¨ä¸å¿…è€ƒè™‘å¾ªç¯æ–‡ä»¶; \u003ccode\u003e$*ARGFILES\u003c/code\u003eå°†è‡ªåŠ¨ä¸ºæ‚¨åšåˆ°è¿™ä¸€ç‚¹ã€‚\u003c/p\u003e\n\u003cp\u003eå¦‚æœå‘½ä»¤è¡Œä¸­æ²¡æœ‰æ–‡ä»¶ï¼Œåˆ™è¯¥å˜é‡å°†é™„åŠ åˆ° STDINï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ cat a.txt b.txt | raku work.pl \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eç¡®å®å¾ˆæ–¹ä¾¿ï¼Œä¸æ˜¯å—ï¼Ÿ\u003c/p\u003e\n\u003ch2 id=\"6då’Œmain\"\u003e6.då’ŒMAIN\u003c/h2\u003e\n\u003cp\u003eå¦‚æœä½ æƒ³åœ¨æ›´å¤§çš„ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œæˆ‘ä¹Ÿå¿…é¡»è­¦å‘Šä½ ã€‚è€ƒè™‘ä»¥ä¸‹ç¨‹åºï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nf\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(*@files) {\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esay\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"nv\"\u003e$\u003c/span\u003e\u003cspan class=\"err\"\u003e*\u003c/span\u003e\u003cspan class=\"nv\"\u003eARGFILES\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eåœ¨ Perl  6.d ä¸­, \u003ccode\u003e$*ARGFILES\u003c/code\u003e åœ¨MAINå­ä¾‹ç¨‹å†…éƒ¨å’Œå®ƒä¹‹å¤–çš„å·¥ä½œæ–¹å¼ä¸åŒã€‚\u003c/p\u003e\n\u003cp\u003eè¿™ä¸ªç¨‹åºå°†å®Œå…¨é€‚ç”¨äº Raku.cï¼Œä½†ä¸é€‚ç”¨äºRaku.d. æ¢å¥è¯è¯´ï¼Œåœ¨\u003ca href=\"https://rakudo.org/files\"\u003eRakudo Star\u003c/a\u003eä¸­ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬2018.10ï¼Œ\u003ccode\u003e$*ARGFILES\u003c/code\u003e åœ¨å‘½ä»¤è¡Œä¸­å¤„ç†æ–‡ä»¶åï¼Œä½†ä» Rakudo Star 2018.12 å¼€å§‹ï¼Œå¦‚æœåœ¨ \u003ccode\u003eMAIN\u003c/code\u003e ä¸­ä½¿ç”¨å®ƒï¼Œå®ƒå°†å§‹ç»ˆè¿æ¥åˆ° \u003ccode\u003e$*IN\u003c/code\u003eã€‚\u003c/p\u003e\n\u003cp\u003eè¿™å°±æ˜¯ä»Šå¤©çš„ advent æ–‡ç« çš„ç»“æŸï¼Œå‡ ä¹æ˜¯ä»Šå¹´æ•´ä¸ªæ—¥å†çš„ç»“æŸã€‚ä¸è¿‡ï¼Œæ˜å¤©å†æ¥ï¼\u003c/p\u003e\n","text":"æ¬¢è¿æ¥åˆ°Raku One-Liner Advent Calendarçš„ç¬¬24å¤©ï¼\nåœ¨å‰å‡ å¤©ï¼Œæˆ‘ä»¬æ­£åœ¨è¯»å–æ–‡æœ¬æ–‡ä»¶ï¼Œå› æ­¤è®¨è®º $*ARGFILESæ˜¯åˆä¹é€»è¾‘çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…ç½®çš„åŠ¨æ€å˜é‡ï¼Œåœ¨å¤„ç†å¤šä¸ªè¾“å…¥æ–‡ä»¶æ—¶å¯èƒ½å¾ˆæ–¹ä¾¿ã€‚\nå¦‚ä½•è¯»å–å‘½ä»¤è¡Œä¸­ä¼ é€’çš„ä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Ÿ\n$ raku work.pl a.txt b.txt å¦‚æœæ‚¨éœ€è¦å°†æ‰€æœ‰æ–‡ä»¶ä¸€èµ·å¤„ç†ï¼Œå°±åƒå®ƒä»¬æ˜¯å•ä¸ªæ•°æ®æºä¸€æ ·ï¼Œæ‚¨å¯ä»¥è¦æ±‚æˆ‘ä»¬ä»Šå¤©çš„å˜é‡ä»¥å•è¡Œæ–¹å¼å®Œæˆå·¥ä½œï¼š\n.say for $*ARGFILES.lines åœ¨ç¨‹åºå†…éƒ¨ï¼Œæ‚¨ä¸å¿…è€ƒè™‘å¾ªç¯æ–‡ä»¶; $*ARGFILESå°†è‡ªåŠ¨ä¸ºæ‚¨åšåˆ°è¿™ä¸€ç‚¹ã€‚\nå¦‚æœå‘½ä»¤è¡Œä¸­æ²¡æœ‰æ–‡ä»¶ï¼Œåˆ™è¯¥å˜é‡å°†é™„åŠ åˆ° STDINï¼š\n$ cat a.txt b.txt | raku work.pl ç¡®å®å¾ˆæ–¹ä¾¿ï¼Œä¸æ˜¯å—ï¼Ÿ\n6.då’ŒMAIN å¦‚æœä½ æƒ³åœ¨æ›´å¤§çš„ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œæˆ‘ä¹Ÿå¿…é¡»è­¦å‘Šä½ ã€‚è€ƒè™‘ä»¥ä¸‹ç¨‹åºï¼š\nsub MAIN(*@files) { .say for $*ARGFILES.lines; } åœ¨ Perl 6.d ä¸­, $*ARGFILES åœ¨MAINå­ä¾‹ç¨‹å†…éƒ¨å’Œå®ƒä¹‹å¤–çš„å·¥ä½œæ–¹å¼ä¸åŒã€‚\nè¿™ä¸ªç¨‹åºå°†å®Œå…¨é€‚ç”¨äº Raku.cï¼Œä½†ä¸é€‚ç”¨äºRaku.d. æ¢å¥è¯è¯´ï¼Œåœ¨Rakudo Starä¸­ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬2018.10ï¼Œ$*ARGFILES åœ¨å‘½ä»¤è¡Œä¸­å¤„ç†æ–‡ä»¶åï¼Œä½†ä» Rakudo Star 2018.12 å¼€å§‹ï¼Œå¦‚æœåœ¨ MAIN ä¸­ä½¿ç”¨å®ƒï¼Œå®ƒå°†å§‹ç»ˆè¿æ¥åˆ° $*INã€‚\nè¿™å°±æ˜¯ä»Šå¤©çš„ advent æ–‡ç« çš„ç»“æŸï¼Œå‡ ä¹æ˜¯ä»Šå¹´æ•´ä¸ªæ—¥å†çš„ç»“æŸã€‚ä¸è¿‡ï¼Œæ˜å¤©å†æ¥ï¼\n"},"name":"ğŸ„ 24/25. åœ¨ Raku ä¸­ç”¨ $*ARGFILES è¯»å–æ–‡ä»¶","published":"2018-12-24T10:06:06Z","summary":"æ¬¢è¿æ¥åˆ°Raku One-Liner Advent Calendarçš„ç¬¬24å¤©ï¼\nåœ¨å‰å‡ å¤©ï¼Œæˆ‘ä»¬æ­£åœ¨è¯»å–æ–‡æœ¬æ–‡ä»¶ï¼Œå› æ­¤è®¨è®º $*ARGFILESæ˜¯åˆä¹é€»è¾‘çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…ç½®çš„åŠ¨æ€å˜é‡ï¼Œåœ¨å¤„ç†å¤šä¸ªè¾“å…¥æ–‡ä»¶æ—¶å¯èƒ½å¾ˆæ–¹ä¾¿ã€‚\nå¦‚ä½•è¯»å–å‘½ä»¤è¡Œä¸­ä¼ é€’çš„ä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Ÿ\n$ raku work.pl a.txt b.txt å¦‚æœæ‚¨éœ€è¦å°†æ‰€æœ‰æ–‡ä»¶ä¸€èµ·å¤„ç†ï¼Œå°±åƒå®ƒä»¬æ˜¯å•ä¸ªæ•°æ®æºä¸€æ ·ï¼Œæ‚¨å¯ä»¥è¦æ±‚æˆ‘ä»¬ä»Šå¤©çš„å˜é‡ä»¥å•è¡Œæ–¹å¼å®Œæˆå·¥ä½œï¼š\n.say for $*ARGFILES.lines åœ¨ç¨‹åºå†…éƒ¨ï¼Œæ‚¨ä¸å¿…è€ƒè™‘å¾ªç¯æ–‡ä»¶; $*ARGFILESå°†è‡ªåŠ¨ä¸ºæ‚¨åšåˆ°è¿™ä¸€ç‚¹ã€‚\nå¦‚æœå‘½ä»¤è¡Œä¸­æ²¡æœ‰æ–‡ä»¶ï¼Œåˆ™è¯¥å˜é‡å°†é™„åŠ åˆ° STDINï¼š\n$ cat a.txt b.txt | raku work.pl ç¡®å®å¾ˆæ–¹ä¾¿ï¼Œä¸æ˜¯å—ï¼Ÿ\n6.då’ŒMAIN å¦‚æœä½ æƒ³åœ¨æ›´å¤§çš„ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œæˆ‘ä¹Ÿå¿…é¡»è­¦å‘Šä½ ã€‚è€ƒè™‘ä»¥ä¸‹ç¨‹åºï¼š\nsub MAIN(*@files) { .say for $*ARGFILES.lines; } åœ¨ Perl 6.d ä¸­, $*ARGFILES åœ¨MAINå­ä¾‹ç¨‹å†…éƒ¨å’Œå®ƒä¹‹å¤–çš„å·¥ä½œæ–¹å¼ä¸åŒã€‚\nè¿™ä¸ªç¨‹åºå°†å®Œå…¨é€‚ç”¨äº Raku.cï¼Œä½†ä¸é€‚ç”¨äºRaku.d. æ¢å¥è¯è¯´ï¼Œåœ¨Rakudo Starä¸­ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬2018.10ï¼Œ$*ARGFILES åœ¨å‘½ä»¤è¡Œä¸­å¤„ç†æ–‡ä»¶åï¼Œä½†ä» Rakudo Star 2018.12 å¼€å§‹ï¼Œå¦‚æœåœ¨ MAIN ä¸­ä½¿ç”¨å®ƒï¼Œå®ƒå°†å§‹ç»ˆè¿æ¥åˆ° $*INã€‚\nè¿™å°±æ˜¯ä»Šå¤©çš„ advent æ–‡ç« çš„ç»“æŸï¼Œå‡ ä¹æ˜¯ä»Šå¹´æ•´ä¸ªæ—¥å†çš„ç»“æŸã€‚ä¸è¿‡ï¼Œæ˜å¤©å†æ¥ï¼","type":"entry","url":"https://ohmycloud.github.io/notes/reading-files-with-argfiles-in-raku/"}
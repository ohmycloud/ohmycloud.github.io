<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">

    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
    
    
    

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

    
    <meta name="referrer" content="no-referrer">

    <title>
        
            with friends like these âš ç„‰çŸ¥éé±¼
        
    </title>

    
    


    
    
    
    

    
    
    
    

    
    
    

    
    
    
    <style>
     
     
     :root {
         --theme-color: #ac4142;
         --theme-color-light: rgba(172, 65, 66, 0.2);
     }
     
     html {
         line-height: 1.5;
     }
    </style>

    
    

    
    
    
    
    <link rel="stylesheet" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css">
    
    <link rel="preload" href="/css/refined.min.7f6d3ee611034e4ebcbc063f1db3bc042fecdc8901afbedad80ff02bae409204.css" as="style">

    



    
        <style>
         
         /* Background */ .chroma { background-color: #ffffff }
/* Error */ .chroma .err { color: #a61717; background-color: #e3d2d2 }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; width: auto; overflow: auto; display: block; }
/* LineHighlight */ .chroma .hl { display: block; width: 100%;background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* LineNumbers */ .chroma .ln { margin-right: 0.4em; padding: 0 0.4em 0 0.4em; }
/* Keyword */ .chroma .k { color: #000000; font-weight: bold }
/* KeywordConstant */ .chroma .kc { color: #000000; font-weight: bold }
/* KeywordDeclaration */ .chroma .kd { color: #000000; font-weight: bold }
/* KeywordNamespace */ .chroma .kn { color: #000000; font-weight: bold }
/* KeywordPseudo */ .chroma .kp { color: #000000; font-weight: bold }
/* KeywordReserved */ .chroma .kr { color: #000000; font-weight: bold }
/* KeywordType */ .chroma .kt { color: #445588; font-weight: bold }
/* NameAttribute */ .chroma .na { color: #008080 }
/* NameBuiltin */ .chroma .nb { color: #0086b3 }
/* NameBuiltinPseudo */ .chroma .bp { color: #999999 }
/* NameClass */ .chroma .nc { color: #445588; font-weight: bold }
/* NameConstant */ .chroma .no { color: #008080 }
/* NameDecorator */ .chroma .nd { color: #3c5d5d; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #800080 }
/* NameException */ .chroma .ne { color: #990000; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #990000; font-weight: bold }
/* NameLabel */ .chroma .nl { color: #990000; font-weight: bold }
/* NameNamespace */ .chroma .nn { color: #555555 }
/* NameTag */ .chroma .nt { color: #000080 }
/* NameVariable */ .chroma .nv { color: #008080 }
/* NameVariableClass */ .chroma .vc { color: #008080 }
/* NameVariableGlobal */ .chroma .vg { color: #008080 }
/* NameVariableInstance */ .chroma .vi { color: #008080 }
/* LiteralString */ .chroma .s { color: #dd1144 }
/* LiteralStringAffix */ .chroma .sa { color: #dd1144 }
/* LiteralStringBacktick */ .chroma .sb { color: #dd1144 }
/* LiteralStringChar */ .chroma .sc { color: #dd1144 }
/* LiteralStringDelimiter */ .chroma .dl { color: #dd1144 }
/* LiteralStringDoc */ .chroma .sd { color: #dd1144 }
/* LiteralStringDouble */ .chroma .s2 { color: #dd1144 }
/* LiteralStringEscape */ .chroma .se { color: #dd1144 }
/* LiteralStringHeredoc */ .chroma .sh { color: #dd1144 }
/* LiteralStringInterpol */ .chroma .si { color: #dd1144 }
/* LiteralStringOther */ .chroma .sx { color: #dd1144 }
/* LiteralStringRegex */ .chroma .sr { color: #009926 }
/* LiteralStringSingle */ .chroma .s1 { color: #dd1144 }
/* LiteralStringSymbol */ .chroma .ss { color: #990073 }
/* LiteralNumber */ .chroma .m { color: #009999 }
/* LiteralNumberBin */ .chroma .mb { color: #009999 }
/* LiteralNumberFloat */ .chroma .mf { color: #009999 }
/* LiteralNumberHex */ .chroma .mh { color: #009999 }
/* LiteralNumberInteger */ .chroma .mi { color: #009999 }
/* LiteralNumberIntegerLong */ .chroma .il { color: #009999 }
/* LiteralNumberOct */ .chroma .mo { color: #009999 }
/* Operator */ .chroma .o { color: #000000; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #000000; font-weight: bold }
/* Comment */ .chroma .c { color: #999988; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #999988; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #999988; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #999988; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #999999; font-weight: bold; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #999999; font-weight: bold; font-style: italic }
/* GenericDeleted */ .chroma .gd { color: #000000; background-color: #ffdddd }
/* GenericEmph */ .chroma .ge { color: #000000; font-style: italic }
/* GenericError */ .chroma .gr { color: #aa0000 }
/* GenericHeading */ .chroma .gh { color: #999999 }
/* GenericInserted */ .chroma .gi { color: #000000; background-color: #ddffdd }
/* GenericOutput */ .chroma .go { color: #888888 }
/* GenericPrompt */ .chroma .gp { color: #555555 }
/* GenericStrong */ .chroma .gs { font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa }
/* GenericTraceback */ .chroma .gt { color: #aa0000 }
/* GenericUnderline */ .chroma .gl { text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #bbbbbb }

         
         /* Overrides on top of the theme and Chroma CSS */
/* Chroma-based lines highlighting in code blocks */
.chroma .hl {
    background-color: #e8e8e8;
    /* Extend highlight up to 100 characters (assuming that the code blocks never have more than 100 characters in a line) */
    min-width: 100ch;
}
/* GenericHeading */ .chroma .gh { color: #999999; font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #aaaaaa; font-weight: bold }

         
        </style>
    

    

    
    
    

    
    <script src="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js"></script>
    
    <link rel="preload" href="/js/responsive-nav-orig.min.e2b5f2a956b488f466da513820636134defdc38b90ed566248960593f2bb4ba5.js" as="script">

    
    
    <script defer src="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js"></script>
    
    <link rel="preload" href="/js/libs/fa/fontawesome-all.min.08916ac0fd078adfb58edc890460e2c8990729aee02bca7586404b56805f5219.js" as="script">

    

    

    
    
    

    
    
<!-- rel="me" links for IndieAuth -->







    
 
<meta property="og:title" content="with friends like these" />
<meta property="og:description"
      content=" " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ohmyweekly.github.io/notes/with-friends-like-these/" />


    
        <meta property="article:published_time" content="2019-09-18T23:15:48&#43;00:00"/>
    
    
        <meta property="article:modified_time" content="2019-09-18T23:15:48&#43;00:00"/>
    









    




     <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="with friends like these"/>
<meta name="twitter:description" content=" "/>


    
    
    <link rel="alternate" type="application/jf2post+json" href="https://ohmyweekly.github.io/notes/with-friends-like-these/jf2post.json" title="Jf2post for ç„‰çŸ¥éé±¼" />
    
     



    
    
    
        
    


     
        
        <meta name="DC.Creator" content="ç„‰çŸ¥éé±¼"/>
    



    
    
    
    <meta name="hugo-build-date" content="2024-03-01T16:16:06Z"/>
    <meta name="hugo-commit-hash" content="312735366b20d64bd61bff8627f593749f86c964"/>
    <meta name="generator" content="Hugo 0.123.7">
</head>


    
        <body lang="en">
    

        
        <div class="border" id="home"></div>

        <div class="wrapper">   
            
<nav id="nav" class="nav-collapse opened" aria-hidden="false">
    <ul class="navbar">
        <li><a class="" href="/">Home</a></li>
        
            
                <li><a class="" href="https://ohmyweekly.github.io/posts/">Posts</a></li>
            
        
            
                <li><a class="" href="https://ohmyweekly.github.io/notes/">Notes</a></li>
            
        
        
            <li><a class="" href="https://ohmyweekly.github.io/search/">Search</a></li>
        
    </ul>
</nav>

            <div class="container">
                <header class="masthead">
                    <div class="masthead-title no-text-decoration">
                        <a href="/">ç„‰çŸ¥éé±¼</a> <span class="blinking-cursor">âš</span>
                    </div>
                    <div class="masthead-tagline">
                        rakulang, dartlang, nimlang, golang, rustlang, lang lang no see
                    </div>
                </header>

                








<article class="post h-entry notes">
    <header>
        <div class="center">
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in â€˜rakulangâ€™"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with â€˜rakulangâ€™"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>

</div>

        <h1 class="post-title p-name">with friends like these</h1>

        
        <data class="u-url" value="https://ohmyweekly.github.io/notes/with-friends-like-these/"></data>

        <div class="date-syndication">
            


    
    
    <div class="post-date">
        
        <time datetime="2019-09-18T23:15:48+0000" class="dt-published">Wed Sep 18, 2019</time>
        
        
    </div>


            




        </div>
         



    
    
    
        
    


    
        
        <span class="hide">
            &mdash; <a href="https://ohmyweekly.github.io/" class="u-author">ç„‰çŸ¥éé±¼</a>
        </span>
    


    </header>

    <div class="content">
        


        





                       


        <div class="e-content">
            




<p><a href="http://blogs.perl.org/users/damian_conway/2019/08/with-friends-like-these.html">http://blogs.perl.org/users/damian_conway/2019/08/with-friends-like-these.html</a></p>
<p>C-o-rr-a-ll-i-n-g d-i-tt-o-e-d l-e-tt-e-r-s</p>
<p>æˆ‘æœ¬æ‰“ç®—æœ¬å‘¨é‡ç‚¹å…³æ³¨<a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-020/">ç¬¬20å‘¨æŒ‘æˆ˜</a>çš„ç¬¬ä¸€ä¸ªä»»åŠ¡&hellip;&hellip;ä½†æˆ‘èƒ½è¯´ä»€ä¹ˆå‘¢ï¼Ÿè¿™ä¸ªä»»åŠ¡æ˜¯æŠŠä¸€ä¸ªåœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„å­—ç¬¦ä¸²åˆ†è§£æˆç›¸åŒçš„å­—ç¬¦:</p>
<pre><code>&quot;toolless&quot;        â†’   t  oo  ll  e  ss
&quot;subbookkeeper&quot;   â†’   s  u  bb  oo  kk  ee  p  e  r
&quot;committee&quot;       â†’   c  o  mm  i  tt  ee
</code></pre>
<p>ä½†æ˜¯è¿™åœ¨ Raku ä¸­å°±æ˜¯å°èœä¸€ç¢Ÿ:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">use</span> <span class="k">v</span><span class="mi">6</span><span class="ni">.d</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">sub</span> <span class="nb">MAIN</span> <span class="p">(</span>\<span class="kt">str</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="nb">say</span> <span class="k">for</span> <span class="kt">str</span><span class="o">.</span><span class="nb">comb</span><span class="o">:</span> <span class="p">/(</span><span class="ni">.</span><span class="p">)</span><span class="sr"> </span><span class="nv">$0</span><span class="o">*</span><span class="p">/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>æˆ–è€…ä½¿ç”¨æ›´ä¼˜é›…çš„æ–¹å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="o">.</span><span class="nb">say</span> <span class="k">for</span> <span class="nv">$str</span><span class="o">.</span><span class="nb">comb</span><span class="o">:</span> <span class="p">/</span><span class="se">\w</span><span class="o">+</span><span class="sr"> </span><span class="nv">%</span><span class="sr"> </span><span class="p">&lt;</span><span class="nf">same</span><span class="p">&gt;/</span>
</span></span></code></pre></div><p>è€Œåœ¨ Perl ä¸­ä¹Ÿå‡ ä¹ä¸€æ ·ç®€å•:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-perl" data-lang="perl"><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">v5</span><span class="mf">.30</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">my</span> <span class="nv">$str</span> <span class="o">=</span> <span class="nv">$ARGV</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="sr">//</span> <span class="nb">die</span> <span class="s">&#34;Usage:\n  $0 &lt;str&gt;\n&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="vg">$&amp;</span> <span class="k">while</span> <span class="nv">$str</span> <span class="o">=~</span><span class="sr"> /(.) \1*/gx</span><span class="p">;</span>
</span></span></code></pre></div><p>è¿™è¿™ä¸¤ç§æƒ…å†µä¸‹, æ­£åˆ™è¡¨è¾¾å¼åªæ˜¯ç®€å•åœ°åŒ¹é…ä»»ä½•å­—ç¬¦(<code>(.)</code>), ç„¶åå°†ç›¸åŒçš„å­—ç¬¦(<code>$0</code> æˆ– <code>\1</code>)é‡æ–°åŒ¹é…é›¶æ¬¡æˆ–å¤šæ¬¡(<code>*</code>)ã€‚è¿™ä¸¤ä¸ªåŒ¹é…æ“ä½œ(<code>str.comb</code> å’Œ <code>$str =~</code>)éƒ½äº§ç”Ÿä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²åˆ—è¡¨, ç„¶åæˆ‘ä»¬è¾“å‡ºæ¯ä¸ªå­—ç¬¦ä¸²(<code>.say for...</code> æˆ– <code>say $&amp; while...</code>)ã€‚</p>
<p>ç”±äºè¿™ä¸¤ç§æƒ…å†µéƒ½æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œæˆ‘åè€ŒæŠŠæ³¨æ„åŠ›è½¬ç§»åˆ°ç¬¬äºŒä¸ªä»»åŠ¡ä¸Šï¼šæ‰¾åˆ°å¹¶æ‰“å°ç¬¬ä¸€å¯¹å‹å¥½æ•°ã€‚</p>
<h2 id="æœ‹å‹çš„æœ‹å‹å°±æ˜¯æ•Œäºº">æœ‹å‹çš„æœ‹å‹å°±æ˜¯æ•Œäºº&nbsp;<a class="headline-hash no-text-decoration" href="#æœ‹å‹çš„æœ‹å‹å°±æ˜¯æ•Œäºº">#</a> </h2>
<p>å‹å¥½æ•°ä¸€å¯¹æ•´æ•°ï¼Œæ¯å¯¹æ•´æ•°éƒ½æœ‰ä¸€ç»„åˆé€‚çš„é™¤æ•°(å³è¢«æ¯ä¸ªè¾ƒå°çš„æ•°æ•´é™¤)ç¢°å·§åŠ èµ·æ¥æ˜¯å¦ä¸€ä¸ªæ•°ã€‚</p>
<p>ä¾‹å¦‚ 1184 å¯ä»¥è¢« 1, 2, 4, 8, 16, 32, 37, 74, 148, 296, å’Œ 592 æ•´é™¤; 1+2+4+8+16+32+37+74+148+296+592 ä¹‹å’Œä¸º 1210ã€‚åŒæ—¶, æ•°å­— 1210 è¢« 1, 2, 5, 10, 11, 22, 55, 110, 121, 242 å’Œ 605 æ•´é™¤; 1+2+5+10+11+22+55+110+121+242+605 çš„å’Œæ˜¯&hellip;&hellip;ä½ çŒœå¯¹äº†&hellip;&hellip;1184ã€‚</p>
<p>è¿™æ ·çš„æ•°å­—å¯¹æ˜¯ä¸å¸¸è§çš„ã€‚å‰1ä¸‡ä¸ªæ•´æ•°ä¸­åªæœ‰5ä¸ªï¼Œ10ä¸‡ä»¥ä¸‹åªæœ‰13ä¸ªï¼Œ100ä¸‡ä»¥ä¸‹åªæœ‰41ä¸ªã€‚è€Œè¶Šå¾€åï¼Œå®ƒä»¬å°±è¶Šç¨€å°‘ï¼šå°äº1ä¸‡äº¿çš„è¿™ç§æ•°å¯¹åªæœ‰7554å¯¹ã€‚æ¸è¿›åœ°ï¼Œå®ƒä»¬åœ¨æ­£æ•´æ•°ä¸­çš„å¹³å‡å¯†åº¦è¶‹äºé›¶ã€‚</p>
<p>è¿˜æ²¡æœ‰å·²çŸ¥çš„é€šç”¨å…¬å¼æ¥å¯»æ‰¾å‹å¥½æ•°ï¼Œå°½ç®¡ 9 ä¸–çºªçš„ä¼Šæ–¯å…°å­¦è€… Ø¨Øª Ø¨Ù† Ø«Ø§Ù‚Ø±Ù‡ ç¡®å®å‘ç°äº†ä¸€ä¸ªéƒ¨åˆ†æ–¹ç¨‹, æ¬§æ‹‰(å½“ç„¶!) éšååœ¨ 900 å¹´åæ”¹è¿›äº†è¿™ä¸ªå…¬å¼ã€‚</p>
<p>æ‰€ä»¥ä»–ä»¬å¾ˆç½•è§ï¼Œè€Œä¸”ä»–ä»¬æ˜¯ä¸å¯é¢„æµ‹çš„&hellip;&hellip;ä½†ä»–ä»¬å¹¶ä¸æ˜¯ç‰¹åˆ«éš¾æ‰¾ã€‚</p>
<p>åœ¨æ•°è®ºä¸­, ç»™å‡º N çš„æ‰€æœ‰æ­£é™¤æ•°ä¹‹å’Œçš„å‡½æ•°(<em>å³&quot;æœ‰é™åˆ¶çš„é™¤æ•°å‡½æ•°&quot;</em>)è¡¨ç¤ºä¸º ğ‘ (N):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">sub</span> <span class="nf">ğ‘ </span> <span class="p">(</span>\<span class="n">N</span><span class="p">)</span> <span class="p">{</span> <span class="nb">sum</span> <span class="nf">divisors</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="p">:</span><span class="s">proper</span> <span class="p">}</span>
</span></span></code></pre></div><p>æœ«å°¾çš„ <code>:proper</code> æ˜¯ä¸€ä¸ª&quot;å‰¯è¯ä¿®é¥°ç¬¦&quot;ï¼Œåº”ç”¨äºå¯¹ <code>divisors(N)</code> çš„è°ƒç”¨ï¼Œå‘Šè¯‰å‡½æ•°åªè¿”å›åˆé€‚çš„é™¤æ•°(å³ä»åˆ—è¡¨ä¸­æ’é™¤ N æœ¬èº«)ã€‚</p>
<p>è¿˜æœ‰ï¼Œæ˜¯çš„ï¼Œæˆ‘ä»¬ç”¨ Unicode æ–œä½“ ğ‘  ä½œä¸ºå‡½æ•°åã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥ã€‚</p>
<p>ä¸€æ—¦æˆ‘ä»¬å®šä¹‰äº†é™åˆ¶æ€§é™¤æ•°å‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®€å•åœ°éå†ä»1åˆ°æ— ç©·å¤§çš„æ¯ä¸€ä¸ªæ•´æ•°iï¼Œæ‰¾åˆ° ğ‘ (i)ï¼Œç„¶åæ£€æŸ¥è¿™ä¸ªæ•°çš„é™¤æ•°ä¹‹å’Œ(å³ ğ‘ (ğ‘ (i))) æ˜¯å¦ä¸åŸæ•°ç›¸åŒã€‚å¦‚æœæˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°ç¬¬ä¸€å¯¹å‹å¥½æ•°ï¼Œé‚£å°±å¯ä»¥äº†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">for</span> <span class="mi">1</span><span class="o">..</span><span class="no">âˆ</span> <span class="k">-&gt;</span> \<span class="n">number</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\friend</span> <span class="o">=</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nb">say</span> <span class="p">(</span><span class="n">number</span><span class="o">,</span> <span class="n">friend</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">exit</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">number</span> <span class="o">!=</span> <span class="n">friend</span> <span class="o">&amp;&amp;</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">friend</span><span class="p">)</span> <span class="o">==</span> <span class="n">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>è¿™è¾“å‡º:</p>
<pre><code>(220, 284)
</code></pre>
<p>ä½†ä¸ºä»€ä¹ˆè¦åœç•™åœ¨ä¸€ä¸ªç»“æœä¸Šå‘¢ï¼Ÿåœ¨ä¸éš¾å‘ç°æ‰€æœ‰å‹å¥½æ•°çš„æƒ…å†µä¸‹:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">for</span> <span class="mi">1</span><span class="o">..</span><span class="no">âˆ</span> <span class="k">-&gt;</span> \<span class="n">number</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\friend</span> <span class="o">=</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nb">say</span> <span class="p">(</span><span class="n">number</span><span class="o">,</span> <span class="n">friend</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">number</span> <span class="o">&lt;</span> <span class="n">friend</span> <span class="o">&amp;&amp;</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">friend</span><span class="p">)</span> <span class="o">==</span> <span class="n">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>è¯·æ³¨æ„ï¼Œç”±äºæ•°å­—ä¹‹é—´çš„å‹å¥½å…³ç³»(æ ¹æ®å®šä¹‰)æ˜¯å¯¹ç§°çš„ï¼Œæˆ‘ä»¬å°† <code>number != friend</code> æµ‹è¯•æ”¹ä¸º <code>number &lt; friend</code>&hellip;&hellip;ä»¥é˜²æ­¢å¾ªç¯å°†æ¯å¯¹æ•°å­—æ‰“å°ä¸¤æ¬¡:</p>
<pre><code>(220, 284)
(284, 220)
(1184 1210)
(1210 1184)
(2620 2924)
(2924 2620)
(et cetera)
(cetera et)
</code></pre>
<h2 id="ç¼ºå°‘çš„å†…ç½®">ç¼ºå°‘çš„å†…ç½®&nbsp;<a class="headline-hash no-text-decoration" href="#ç¼ºå°‘çš„å†…ç½®">#</a> </h2>
<p>è¿™ä¸ªæ•…äº‹å°±è¿™æ ·ç»“æŸäº†ï¼Œé™¤äº†ä¸€ä¸ªå°é—®é¢˜ï¼šæœ‰äº›å‡ºäººæ„æ–™ã€‚</p>
<p>Raku å¹¶æ²¡æœ‰å†…ç½®æˆ‘ä»¬éœ€è¦çš„é™¤æ•°æ¥å®ç° ğ‘  å‡½æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬å¿…é¡»è‡ªå·±å»ºç«‹ä¸€ä¸ªã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬è¦å»ºç«‹ç›¸å½“å¤šçš„é™¤æ•°&hellip;</p>
<p>ä¸€ä¸ªæ•´æ•°çš„é™¤æ•°æ˜¯æŒ‡æ‰€æœ‰å¯ä»¥é™¤ä»¥æ•´æ•°è€Œä¸ç•™ä½™æ•°çš„æ•´æ•°ã€‚è¿™åŒ…æ‹¬æ•°å­—æœ¬èº«å’Œæ•´æ•°1ã€‚ä¸€ä¸ªæ•°çš„&quot;æ­£é™¤æ•°&quot;æ˜¯æŒ‡é™¤å®ƒæœ¬èº«ä»¥å¤–çš„æ‰€æœ‰è¢«é™¤æ•°ã€‚ä¸€ä¸ªæ•°çš„&quot;éå¹³åˆ†é™¤æ•°&quot;æ˜¯é™¤å®ƒæœ¬èº«æˆ–1ä»¥å¤–çš„æ‰€æœ‰é™¤æ•°ã€‚ä¹Ÿå°±æ˜¯:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="nb">say</span> <span class="nf">divisors</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>                <span class="c1"># (1 2 3 4 5 6 12)</span>
</span></span><span class="line"><span class="cl"><span class="nb">say</span> <span class="nf">divisors</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="p">:</span><span class="s">proper</span><span class="p">;</span>        <span class="c1"># (1 2 3 4 5 6)</span>
</span></span><span class="line"><span class="cl"><span class="nb">say</span> <span class="nf">divisors</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="p">:</span><span class="s">non-trivial</span><span class="p">;</span>   <span class="c1">#   (2 3 4 5 6)</span>
</span></span></code></pre></div><p>ä¸Šé¢çš„ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§é€‰æ‹©ï¼ŒåŠ ä¸Šæ—¶é«¦çš„å‰¯è¯ä¿®é¥°ç¬¦ï¼Œå…¶å®åªæ˜¯æ™®é€šçš„é™¤æ•°è°ƒç”¨çš„<a href="http://blogs.perl.org/users/damian_conway/2019/08/with-friends-like-these.html#syntactic-honey">è¯­æ³•ç³–</a>ï¼Œä½†å¤šäº†ä¸€ä¸ªå‘½åå‚æ•°:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="nb">say</span> <span class="nf">divisors</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>                <span class="c1"># (1 2 3 4 5 6 12)</span>
</span></span><span class="line"><span class="cl"><span class="nb">say</span> <span class="nf">divisors</span><span class="p">(</span><span class="mi">12</span><span class="o">,</span> <span class="p">:</span><span class="s">proper</span><span class="p">);</span>       <span class="c1"># (1 2 3 4 5 6)</span>
</span></span><span class="line"><span class="cl"><span class="nb">say</span> <span class="nf">divisors</span><span class="p">(</span><span class="mi">12</span><span class="o">,</span> <span class="p">:</span><span class="s">non-trivial</span><span class="p">);</span>  <span class="c1">#   (2 3 4 5 6)</span>
</span></span></code></pre></div><p>åœ¨ Raku ä¸­ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨å¤šé‡åˆ†æ´¾æ¥å®ç°é‚£ç§&quot;å‰¯è¯&quot;å‡½æ•°ï¼Œæ¯ç§ç‰¹æ®Šæƒ…å†µéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„å¿…éœ€å‘½åå‚æ•°:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="o">,</span> <span class="o">:</span><span class="nv">$proper</span><span class="o">!</span><span class="p">)</span>      <span class="p">{</span> <span class="nf">divisors</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span><span class="mi">1</span><span class="o">..^</span><span class="n">N</span><span class="p">)</span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="o">,</span> <span class="o">:</span><span class="nv">$non-trivial</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span> <span class="nf">divisors</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span><span class="mi">1</span><span class="o">^..^</span><span class="n">N</span><span class="p">)</span> <span class="p">}</span>
</span></span></code></pre></div><p>åœ¨è¿™äº›ç‰¹æ®Šæƒ…å†µä¸‹çš„é™¤æ•°ä¸­ï¼Œæˆ‘ä»¬åªéœ€è°ƒç”¨å‡½æ•°çš„å¸¸è§„å˜ä½“(å³ <code>divisors(N)</code>)ï¼Œç„¶å <code>grep</code> å‡ºä¸éœ€è¦çš„ç«¯ç‚¹ã€‚</p>
<p><a href="https://docs.raku.org/language/operators#infix_..%5E">..^</a> è¿ç®—ç¬¦äº§ç”Ÿçš„èŒƒå›´æ˜¯æ’é™¤è‡ªå·±çš„ä¸Šé™ï¼Œè€Œ <code>^..^</code> è¿ç®—ç¬¦äº§ç”Ÿçš„èŒƒå›´æ˜¯æ’é™¤å®ƒçš„ä¸¤ä¸ªè¾¹ç•Œ(æ˜¯çš„ï¼Œä¹Ÿæœ‰ä¸€ä¸ª <code>^..</code> å˜ä½“åªæ’é™¤ä¸‹é™)ã€‚</p>
<p>å› æ­¤ï¼Œå½“æŒ‡å®š <code>:property</code> é€‰é¡¹æ—¶ï¼Œæˆ‘ä»¬ä¼šè¿‡æ»¤ <code>divisors(N)</code> è¿”å›çš„å®Œæ•´åˆ—è¡¨ï¼Œä»¥çœç•¥æ•°å­—æœ¬èº«(<code>.grep(1...^N)</code>)ã€‚åŒæ ·ï¼Œå½“åŒ…å« <code>:non-trivial</code> é€‰é¡¹æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¼šæ’é™¤ä¸¤ä¸ªæå€¼(<code>.grep(1^..^N)</code>)ã€‚</p>
<p>ä½†æ˜¯åŸå§‹çš„æœªè¿‡æ»¤çš„é™¤æ•°åˆ—è¡¨å‘¢ï¼Ÿæˆ‘ä»¬é¦–å…ˆè¦æ€ä¹ˆå¾—åˆ°å‘¢ï¼Ÿ</p>
<p>ç”Ÿæˆä¸€ä¸ªæ•° N çš„å®Œæ•´é™¤æ•°åˆ—è¡¨çš„å¤©çœŸæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„&quot;è¯•é™¤&quot;ï¼Œå°±æ˜¯ç®€å•åœ°éå†ä»1åˆ°Nçš„æ‰€æœ‰æ•°å­—ï¼Œä¿ç•™æ‰€æœ‰é‚£äº›é™¤ä»¥Nè€Œæ²¡æœ‰ä½™æ•°çš„æ•°å­—&hellip;&hellip;è¿™å¾ˆå®¹æ˜“æµ‹è¯•ï¼Œå› ä¸º Raku æœ‰ <code>%%</code> is-divisible-by è¿ç®—ç¬¦:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Track all divisors found so far...</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\divisors</span> <span class="o">=</span> <span class="o">[]</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># For every potential divisor...</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="mi">1</span><span class="o">..</span><span class="n">N</span> <span class="k">-&gt;</span> \<span class="no">i</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Skip if it&#39;s not an actual divisor...</span>
</span></span><span class="line"><span class="cl">        <span class="nb">next</span> <span class="k">unless</span> <span class="n">N</span> <span class="nv">%%</span> <span class="no">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Otherwise, add it to the list...</span>
</span></span><span class="line"><span class="cl">        <span class="n">divisors</span><span class="o">.</span><span class="nb">push</span><span class="o">:</span> <span class="no">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Deliver the results...</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">divisors</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>åªä¸è¿‡æˆ‘ä»¬ä¸æ˜¯ç©´å±…äººï¼Œæˆ‘ä»¬ä¸éœ€è¦åƒè¿™æ ·æŠŠæ£å­æ‰åœ¨ä¸€èµ·ï¼Œä¹Ÿä¸éœ€è¦ç”¨è„šè¶¾å¤´æ•°æ•°æ¥åšæ•°å­—ç†è®ºã€‚æˆ‘ä»¬å¯ä»¥æ›´ä¼˜é›…åœ°å¾—åˆ°åŒæ ·çš„ç»“æœ:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span><span class="n">N</span> <span class="nv">%%</span> <span class="o">*</span><span class="p">)</span> <span class="p">}</span>
</span></span></code></pre></div><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç®€å•åœ°è¿‡æ»¤æ½œåœ¨çš„é™¤æ•°åˆ—è¡¨ <code>(1...N)</code>ï¼Œåªä¿ç•™é‚£äº›å‡åŒ€åœ°é™¤ä»¥ N çš„é™¤æ•°(<code>.grep(N %% *)</code>)ã€‚<code>N %% *</code> æµ‹è¯•æ˜¯åˆ›å»ºä¸€ä¸ª <code>Code</code> å¯¹è±¡çš„ç®€å†™ï¼Œè¿™ä¸ªå¯¹è±¡æ¥å—ä¸€ä¸ªå‚æ•°(ç”¨ <code>*</code> è¡¨ç¤º)å¹¶è¿”å› <code>N %%</code> çš„å‚æ•°ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒé€šè¿‡å°† <code>infix %%</code> è¿ç®—ç¬¦çš„ç¬¬ä¸€ä¸ªæ“ä½œæ•°é¢„å…ˆç»‘å®šåˆ° N ä¸Šï¼Œåˆ›å»ºäº†ä¸€ä¸ªå•å‚æ•°å‡½æ•°ã€‚å¦‚æœè¿™å¯¹ä½ æ¥è¯´åœ¨è¯­æ³•ä¸Šè¿‡äºåä¸½ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å®ƒå†™æˆä¸€ä¸ªæ˜¾å¼çš„ <code>%%</code> è¿ç®—ç¬¦<a href="https://docs.raku.org/routine/assuming">é¢„å…ˆç»‘å®š</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span> <span class="nv">&amp;infix:</span><span class="p">&lt;</span><span class="s">%%</span><span class="p">&gt;</span><span class="o">.</span><span class="nb">assuming</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="p">)</span>
</span></span></code></pre></div><p>&hellip;æˆ–è€…ä½œä¸ºä¸€ä¸ª lambda:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span> <span class="k">-&gt;</span> \<span class="no">i</span> <span class="p">{</span> <span class="n">N</span> <span class="nv">%%</span> <span class="no">i</span> <span class="p">}</span> <span class="p">)</span>
</span></span></code></pre></div><p>&hellip;æˆ–è€…ä½œä¸ºä¸€ä¸ªåŒ¿åçš„å­ä¾‹ç¨‹:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span> <span class="k">sub</span> <span class="p">(</span>\<span class="no">i</span><span class="p">)</span> <span class="p">{</span> <span class="n">N</span> <span class="nv">%%</span> <span class="no">i</span> <span class="p">}</span> <span class="p">)</span>
</span></span></code></pre></div><p>&hellip;æˆ–è€…ä½œä¸ºä¸€ä¸ªå‘½åå­ä¾‹ç¨‹:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">my</span> <span class="k">sub</span> <span class="nf">divisors-of-N</span> <span class="p">(</span>\<span class="no">i</span><span class="p">)</span> <span class="p">{</span> <span class="n">N</span> <span class="nv">%%</span> <span class="no">i</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span> <span class="nv">&amp;divisors-of-N</span> <span class="p">)</span>
</span></span></code></pre></div><p>Raku çš„ç›®æ ‡æ˜¯è®©æˆ‘ä»¬ç”¨æˆ‘ä»¬è®¤ä¸ºæœ€æ–¹ä¾¿ã€æœ€èˆ’é€‚ã€æœ€å®¹æ˜“ç†è§£çš„ä»»ä½•ä¸€ç§ç¬¦å·æ¥è¡¨è¾¾è‡ªå·±ã€‚</p>
<h2 id="ä»é—®é¢˜çš„æ ¹æºå…¥æ‰‹">ä»é—®é¢˜çš„æ ¹æºå…¥æ‰‹&nbsp;<a class="headline-hash no-text-decoration" href="#ä»é—®é¢˜çš„æ ¹æºå…¥æ‰‹">#</a> </h2>
<p>å¾ˆéš¾æƒ³è±¡è¿˜æœ‰æ¯”è¿™æ›´ç®€å•çš„è§£å†³æ‰¾é™¤æ•°é—®é¢˜çš„æ–¹æ³•:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="p">)</span> <span class="p">{</span>  <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span><span class="n">N</span> <span class="nv">%%</span> <span class="o">*</span><span class="p">)</span>  <span class="p">}</span>
</span></span></code></pre></div><p>ä½†ä¹Ÿå¾ˆéš¾æƒ³è±¡è¿˜æœ‰æ•ˆç‡æ›´ä½çš„ã€‚ä¾‹å¦‚ï¼Œä¸ºäº†æ‰¾åˆ°æ•°å­—2001çš„8ä¸ªè¢«é™¤æ•°ï¼Œæˆ‘ä»¬å¿…é¡»æ£€æŸ¥æ‰€æœ‰2001ä¸ªæ½œåœ¨çš„è¢«é™¤æ•°ï¼Œè¿™å°±æµªè´¹äº† 99.6% çš„ç²¾åŠ›ã€‚å³ä½¿æ˜¯åƒ2100è¿™æ ·çš„æ•°å­—, å®ƒæœ‰36ä¸ªè¢«é™¤æ•°, æˆ‘ä»¬ä»ç„¶æµªè´¹äº†è¶…è¿‡ 98% çš„ <code>1..N</code> åºåˆ—ã€‚è€Œä¸”æ•°å­—è¶Šå¤§ï¼Œè¢«é™¤æ•°çš„ç›¸å¯¹æ•°é‡è¶Šå°‘ï¼Œæ‰¾åˆ°å®ƒä»¬çš„æ—¶é—´ä¹Ÿè¶Šé•¿ã€‚</p>
<p>ä¸€å®šæœ‰æ›´å¥½çš„æ–¹æ³•ã€‚</p>
<p>å½“ç„¶ï¼Œæ˜¯æœ‰çš„ã€‚æˆ‘ä»¬èƒ½åšçš„æœ€ç®€å•çš„æ”¹è¿›æ˜¯æ—©åœ¨1202å¹´ç”±æ–æ³¢é‚£å¥‘åœ¨ä»–çš„å·¨è‘—<a href="http://lhldigital.lindahall.org/cdm/compoundobject/collection/math/id/8734/rec/49">è‡ªç”±å¥³ç¥</a>ä¸­é¦–æ¬¡å‘è¡¨çš„ã€‚æˆ‘ä»¬é¦–å…ˆè§‚å¯Ÿåˆ°ï¼Œä¸€ä¸ªæ•°å­—çš„é™¤æ•°æ€»æ˜¯ä»¥äº’è¡¥çš„æ–¹å¼å‡ºç°ï¼Œè¿™å¯¹é™¤æ•°ç›¸ä¹˜äº§ç”Ÿæ•°å­—æœ¬èº«ã€‚ä¾‹å¦‚ï¼Œ99 çš„é™¤æ•°æ˜¯:</p>
<pre><code>  1    3    9
 99   33   11
</code></pre>
<p>&hellip;è€Œ 100 çš„é™¤æ•°æ˜¯:</p>
<pre><code>  1    2    4    5   10
100   50   25   20   10
</code></pre>
<p>&hellip;è€Œ 101 çš„é™¤æ•°æ˜¯:</p>
<pre><code>  1
101
</code></pre>
<p>æ³¨æ„ï¼Œåœ¨æ¯ä¸€ç§æƒ…å†µä¸‹ï¼Œé¡¶è¡Œé™¤æ•°æ€»æ˜¯åŒ…å«ä¸å¤§äºåŸæ•°å¹³æ–¹æ ¹çš„&quot;å°&quot;æ•´æ•°ã€‚è€Œåº•è¡Œåˆ™å®Œå…¨ç”± N é™¤ä»¥ç›¸åº”çš„é¡¶è¡Œé™¤æ•°ç»„æˆã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æœç´¢ <code>1..sqrt N</code> çš„èŒƒå›´æ‰¾åˆ°ä¸€åŠçš„é™¤æ•°(åªéœ€ <code>O(âˆšN)</code>æ­¥)ï¼Œç„¶åé€šè¿‡ä» N ä¸­å‡å»åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰¾åˆ°å¦ä¸€åŠ(ä¹Ÿåªéœ€ <code>O(âˆšN)</code> æ­¥)ã€‚åœ¨ Raku ä¸­ï¼Œè¿™çœ‹èµ·æ¥åƒè¿™æ ·:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\small-divisors</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="nb">sqrt</span> <span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span><span class="n">N</span> <span class="nv">%%</span> <span class="o">*</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\big-divisors</span>   <span class="o">=</span> <span class="n">N</span> <span class="o">Â«</span><span class="ow">div</span><span class="o">Â«</span> <span class="n">small-divisors</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">unique</span> <span class="nb">flat</span> <span class="n">small-divisors</span><span class="o">,</span> <span class="n">big-divisors</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><code>div</code> è¿ç®—ç¬¦æ˜¯æ•´æ•°é™¤æ³•ï¼ŒæŠŠåŒè§’æ”¾åœ¨å®ƒçš„å‘¨å›´ï¼Œä½¿å®ƒæˆä¸ºä¸€ä¸ª<a href="https://docs.raku.org/language/operators#index-entry-hyper_%3C%3C-hyper_%3E%3E-hyper_%C2%AB-hyper_%C2%BB-Hyper_operators">å‘é‡è¿ç®—ç¬¦</a>ï¼Œå°† N é™¤ä»¥å°é™¤æ•°åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚<code>flat</code> æ˜¯éœ€è¦çš„ï¼Œå› ä¸ºå°é™¤æ•°å’Œå¤§é™¤æ•°ä¸­çš„ä¸¤ä¸ªåˆ—è¡¨å¯¹è±¡åœ¨ Raku ä¸­ä¸ä¼šè‡ªåŠ¨&quot;å±•å¹³&quot;æˆä¸€ä¸ªåˆ—è¡¨ã€‚<code>unique</code> æ˜¯éœ€è¦çš„ï¼Œå› ä¸ºå¦‚æœ N æ˜¯ä¸€ä¸ªå®Œç¾çš„å¹³æ–¹æ•°ï¼Œå¦åˆ™æˆ‘ä»¬ä¼šå¾—åˆ°å®ƒçš„å¹³æ–¹æ ¹çš„ä¸¤ä¸ªå‰¯æœ¬(å°±åƒä¸Šé¢ 100 çš„é™¤æ•°å¯¹ä¸­çš„ <code>10/10</code> çš„ä¾‹å­)ã€‚</p>
<h2 id="ä»å¤§å¤„ç€æƒ³">ä»å¤§å¤„ç€æƒ³&nbsp;<a class="headline-hash no-text-decoration" href="#ä»å¤§å¤„ç€æƒ³">#</a> </h2>
<p>å¾ˆé«˜å…´æˆ‘ä»¬èƒ½å¤Ÿå¦‚æ­¤è½»æ¾åœ°å°† <code>O(N)</code> ç®—æ³•æ”¹è¿›ä¸º <code>O(âˆšN)</code>ï¼Œä½†å³ä½¿å¦‚æ­¤ä¹Ÿåªèƒ½åšåˆ°è¿™ä¸€æ­¥ã€‚é™¤æ•°å‡½æ•°çš„æ€§èƒ½ç›´åˆ° <code>divisors(10â¹)</code>ï¼Œåœ¨ 0.1 ç§’ä»¥ä¸‹å®Œå…¨å¯ä»¥æ¥å—ï¼Œä½†åœ¨è¿™ä¹‹åå¼€å§‹è¿…é€Ÿä¸‹é™:</p>
<p><img src="http://blogs.perl.org/users/damian_conway/assets_c/2019/08/trial_division_performance-thumb-1263x493-4097.jpg" alt="img"></p>
<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å‡½æ•°å¯ä»¥ç”¨äºéå¸¸å¤§çš„æ•°å­—ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„ç®—æ³•ã€‚
è€Œä»¤äººé«˜å…´çš„æ˜¯ï¼Œå¯†ç å­¦çš„ä¸–ç•Œ(å®ƒæ²‰è¿·äºå¯¹æ•°å­—è¿›è¡Œåˆ†è§£)æä¾›äº†<a href="https://en.wikipedia.org/wiki/Integer_factorization#Factoring_algorithms">å¤§é‡çš„æ›¿ä»£æŠ€æœ¯</a>ï¼Œä»ä»…ä»…æ˜¯éå¸¸å¤æ‚çš„æŠ€æœ¯åˆ°ç§¯æçš„é•¿ç”Ÿä¸è€çš„æŠ€æœ¯éƒ½æœ‰ã€‚</p>
<p>å…¶ä¸­ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“ç†è§£(å’Œç¼–ç !)çš„æ–¹æ³•æ˜¯ <a href="https://en.wikipedia.org/wiki/Pollard%27s_rho_algorithm">Pollard çš„ ğœŒ ç®—æ³•</a>ï¼Œå‡ å¹´å‰æˆ‘åœ¨ <a href="https://youtu.be/g8xXrhjqOZM?t=2329">Perl ä¼šè®®çš„ä¸»é¢˜æ¼”è®²</a>ä¸­ç®€å•è§£é‡Šè¿‡è¿™ä¸ªç®—æ³•ã€‚è€Œ Stephen Schulze éšååœ¨ä¸€ä¸ªåä¸º <code>Prime::Factor</code> çš„ Raku æ¨¡å—ä¸­æŠŠå®ƒä½œä¸º <code>prime-factors</code> å‡½æ•°æä¾›å‡ºæ¥ã€‚</p>
<p>æˆ‘ä¸æ‰“ç®—åœ¨è¿™é‡Œè§£é‡Š ğœŒ ç®—æ³•ï¼Œç”šè‡³ä¸æ‰“ç®—è®¨è®º Stephen å¯¹å®ƒçš„å‡ºè‰²å®ç°&hellip;&hellip;ä¸è¿‡ç»å¯¹å€¼å¾—æ¢ç´¢<a href="https://github.com/thundergnat/Prime-Factor/blob/master/lib/Prime/Factor.pm6">è¿™ä¸ªæ¨¡å—çš„ä»£ç </a>ï¼Œå°¤å…¶æ˜¯é‚£ä¸ªä½¿ç”¨ <code>$n gcd 6541380665835015</code> æ¥å³æ—¶æ£€æµ‹æ•°å­—çš„è´¨å› æ•°æ˜¯å¦å°äº44çš„å´‡é«˜æ·å¾„ã€‚</p>
<p>å¯ä»¥è¯´ï¼Œè¿™ä¸ªæ¨¡å—å¾ˆå¿«å°±æ‰¾åˆ°äº†æ‰€æœ‰å¤§æ•°çš„è´¨å› æ•°ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¹‹å‰çš„ <code>divisors</code> å®ç°éœ€è¦5ç§’å·¦å³æ‰èƒ½æ‰¾åˆ°1ä¸‡äº¿çš„é™¤æ•°ï¼Œè€Œ <code>prime-factors</code> å‡½æ•°åœ¨ 0.002 ç§’å†…å°±èƒ½æ‰¾åˆ°è¿™ä¸ªæ•°çš„è´¨å› æ•°ã€‚</p>
<p>å”¯ä¸€çš„é—®é¢˜æ˜¯ï¼šä¸€ä¸ªæ•°çš„è´¨å› æ•°å’Œå®ƒçš„é™¤æ•°<strong>ä¸ä¸€æ ·</strong>ã€‚1ä¸‡äº¿çš„é™¤æ•°æ˜¯æ‰€æœ‰è¢«å®ƒå¶æ•°é™¤çš„æ•°ã€‚ä¹Ÿå°±æ˜¯:</p>
<pre><code>1, 2, 4, 5, 8, 10, 16, 20, 25, 32, 40, 50, 64, 80, 100,
125, 128, 160, 200, 250, 256, 320, 400, 500, 512, 625,
640, 800, 1000, 1024, 1250, 1280, 1600, 2000, 2048, 2500,
         [...218 more integers here...]
10000000000, 12500000000, 15625000000, 20000000000,
25000000000, 31250000000, 40000000000, 50000000000,
62500000000, 100000000000, 125000000000, 200000000000,
250000000000, 500000000000, 1000000000000
</code></pre>
<p>ç›¸åï¼Œä¸€ä¸ªæ•°çš„è´¨å› æ•°æ˜¯å”¯ä¸€çš„(é€šå¸¸æ˜¯é‡å¤çš„)è´¨æ•°é›†ï¼Œå¯ä»¥å°† å®ƒä»¬ç›¸ä¹˜ä»¥é‡æ–°ç»„æˆåŸæ¥çš„æ•°ã€‚å¯¹äº1ä¸‡äº¿è¿™ä¸ªæ•°å­—ï¼Œè¿™ä¸ªå”¯ä¸€çš„è´¨æ•°é›†æ˜¯:</p>
<pre><code>2,2,2,2,2,2,2,2,2,2,2,2,5,5,5,5,5,5,5,5,5,5,5,5
</code></pre>
<p>&hellip;å› ä¸º:</p>
<pre><code>2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5 â†’ 1000000000000
</code></pre>
<p>ä¸ºäº†æ‰¾åˆ°ä¸€å¯¹å‹å¥½æ•°ï¼Œæˆ‘ä»¬éœ€è¦é™¤æ•°ï¼Œä¹Ÿéœ€è¦è´¨å› æ•°ã€‚å¹¸è¿çš„æ˜¯ï¼Œä»å¦ä¸€ä¸ªä¸­æå–ä¸€ä¸ªå¹¶ä¸éš¾ã€‚ä¹˜ä»¥å®Œæ•´çš„è´¨å› æ•°åˆ—è¡¨ï¼Œå°±ä¼šäº§ç”ŸåŸæ•°ï¼Œä½†å¦‚æœæˆ‘ä»¬é€‰æ‹©è´¨å› æ•°çš„å„ç§å­é›†æ¥ä»£æ›¿:</p>
<pre><code>                2Ã—2Ã—2Ã—2Ã—5Ã—5Ã—5    â†’ 2000
      2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2            â†’ 256
                      2Ã—5Ã—5Ã—5Ã—5  â†’ 1250
</code></pre>
<p>&hellip;é‚£ä¹ˆæˆ‘ä»¬å°±ä¼šå¾—åˆ°ä¸€äº›å®é™…çš„é™¤æ•°ã€‚è€Œå¦‚æœæˆ‘ä»¬é€‰æ‹©è´¨å› æ•°çš„<a href="https://en.wikipedia.org/wiki/Set_(mathematics)#Power_sets">å¹‚é›†</a>(å³æ¯ä¸€ä¸ªå¯èƒ½çš„å­é›†)ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¼šå¾—åˆ°æ¯ä¸€ä¸ªå¯èƒ½çš„é™¤æ•°ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å°†è´¨å› æ•°äº§ç”Ÿçš„å®Œæ•´åˆ—è¡¨ï¼Œç”Ÿæˆè¯¥åˆ—è¡¨ä¸­å…ƒç´ çš„æ¯ä¸€ä¸ªå¯èƒ½çš„ç»„åˆï¼Œå°†æ¯ä¸ªç»„åˆçš„å…ƒç´ ç›¸ä¹˜ï¼Œåªä¿ç•™å”¯ä¸€çš„ç»“æœã€‚è¿™ä¸€ç‚¹ï¼Œåœ¨ Raku çœ‹æ¥ï¼Œå°±æ˜¯:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">Prime::Factor</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">prime-factors</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">combinations</span><span class="o">Â».</span><span class="nb">reduce</span><span class="p">(</span> <span class="o">&amp;[Ã—]</span> <span class="p">)</span><span class="o">.</span><span class="nb">unique</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><code>.combinations</code> æ–¹æ³•äº§ç”Ÿäº†ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªå†…éƒ¨åˆ—è¡¨æ˜¯åŸå§‹è´¨å› æ•°åˆ—è¡¨çš„ä¸€äº›å”¯ä¸€å­é›†çš„ä¸€ä¸ªå¯èƒ½çš„ç»„åˆã€‚ç±»ä¼¼äº:</p>
<pre><code>(2), (5), (2,2), (2,5), (2,2,2), (2,2,5), (2,5,5), ...
</code></pre>
<p><code>Â».reduce</code> æ–¹æ³•è°ƒç”¨æ˜¯ <a href="https://docs.raku.org/routine/reduce">&ldquo;fold&rdquo; æ“ä½œ</a> çš„ä¸€ç§å‘é‡å½¢å¼ï¼Œå®ƒåœ¨è°ƒç”¨å®ƒçš„åˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ ä¹‹é—´æ’å…¥æŒ‡å®šçš„æ“ä½œç¬¦ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>&amp;infix:&lt;Ã—&gt;</code> è¿ç®—ç¬¦æ’å…¥ä¸­ç¼€ä¹˜æ³•&hellip;&hellip;æˆ‘ä»¬å¯ä»¥å°†å…¶ç¼©å†™ä¸ºï¼š<code>&amp;[Ã—]</code>ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ä¸œè¥¿åƒè¿™æ ·:</p>
<pre><code>(2), (5), (2Ã—2), (2Ã—5), (2Ã—2Ã—2), (2Ã—2Ã—5), (2Ã—5Ã—5), ...
</code></pre>
<p>ç„¶åæˆ‘ä»¬åªéœ€é€šè¿‡æœ€åè°ƒç”¨ <code>.unique</code> æ¥å‰”é™¤æ‰€æœ‰é‡å¤çš„ç»“æœã€‚</p>
<h2 id="å°½å¯èƒ½çš„ç®€å•ä½†ä¸èƒ½å†ç®€å•äº†">å°½å¯èƒ½çš„ç®€å•&hellip;&hellip;ä½†ä¸èƒ½å†ç®€å•äº†ï¼&nbsp;<a class="headline-hash no-text-decoration" href="#å°½å¯èƒ½çš„ç®€å•ä½†ä¸èƒ½å†ç®€å•äº†">#</a> </h2>
<p>ç„¶åæˆ‘ä»¬æµ‹è¯•æˆ‘ä»¬é—ªäº®çš„æ–°çš„åŸºäº prime-factor çš„ç®—æ³•ã€‚ç„¶åå“­ç€å‘ç°ï¼Œå®ƒæ¯”æˆ‘ä»¬æœ€åˆçš„è¯•åˆ†æ³•æ…¢äº†å¾ˆå¤šã€‚</p>
<p><img src="http://blogs.perl.org/users/damian_conway/assets_c/2019/08/prime_factors_vs_trial_division-thumb-1263x493-4100.jpg" alt="img"></p>
<p>è¿™é‡Œçš„é—®é¢˜æ˜¯ï¼Œ<code>.combinations</code> æ–¹æ³•çš„ä½¿ç”¨åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¯¼è‡´<a href="https://en.wikipedia.org/wiki/Combinatorial_explosion">ç»„åˆçˆ†ç‚¸</a>ã€‚æˆ‘ä»¬é€šè¿‡å–æ‰€æœ‰å¯èƒ½çš„è´¨å› å­é›†ï¼Œæ‰¾åˆ°äº†å®Œæ•´çš„é™¤æ•°é›†:</p>
<pre><code>2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5 â†’ 1000000000000
                2Ã—2Ã—2Ã—2Ã—5Ã—5Ã—5                   â†’ 2000
      2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2                           â†’ 256
                      2Ã—5Ã—5Ã—5Ã—5                 â†’ 1250
</code></pre>
<p>ä½†è¿™ä¹Ÿæ„å‘³ç€ï¼Œæˆ‘ä»¬é‡‡å–äº†è¿™æ ·çš„å­é›†:</p>
<pre><code>2Ã—2Ã—2                                           â†’ 8
  2Ã—2Ã—2                                         â†’ 8
                  2Ã—2Ã—2                         â†’ 8
2          Ã—2        Ã—2                         â†’ 8
</code></pre>
<p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬å–äº†220ä¸ªä¸åŒçš„ <code>2Ã—2Ã—2</code> å­é›†ã€‚æ›´ä¸ç”¨è¯´495ä¸ª <code>2Ã—2Ã—2Ã—2</code> å­é›†ï¼Œ792ä¸ª <code>2Ã—2Ã—2Ã—2</code> å­é›†ï¼Œç­‰ç­‰ã€‚æ€»çš„æ¥è¯´ï¼Œ1ä¸‡äº¿çš„24ä¸ªè´¨å› æ•°äº§ç”Ÿäº† 2Â²â´ ä¸ªä¸åŒçš„å­é›†çš„å¹‚é›†ï¼Œæˆ‘ä»¬å†å°†å…¶ç¼©å°åˆ°åªæœ‰168ä¸ªä¸åŒçš„é™¤æ•°ã€‚æ¢å¥è¯è¯´ï¼Œ<code>.combinations</code> å¿…é¡»å»ºç«‹å¹¶è¿”å›ä¸€ä¸ªåŒ…å« 16777216 ä¸ªå­é›†çš„åˆ—è¡¨ï¼Œ<code>Â».reduce</code> å¿…é¡»å¤„ç†å…¶ä¸­çš„æ¯ä¸€ä¸ªå­é›†ï¼Œä¹‹åï¼Œ<code>.unique</code> ä¼šç«‹å³ä¸¢å¼ƒå…¶ä¸­çš„ 99.999%ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ›´å¥½çš„æ–¹æ³•æ¥å°†å› å­ç»„åˆæˆé™¤æ•°ã€‚</p>
<p>è€Œä¸”ï¼Œä»¤äººé«˜å…´çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªã€‚æˆ‘ä»¬å¯ä»¥é‡å†™ä¹˜æ³•:</p>
<pre><code>2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5Ã—5 â†’ 1000000000000
</code></pre>
<p>&hellip;ä¸ºä¸€ä¸ªæ›´ç´§å‡‘çš„:</p>
<pre><code>2Â¹Â² Ã— 5Â¹Â²  â†’  1000000000000
</code></pre>
<p>ç„¶åæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œåªè¦æ”¹å˜ä¸¤ä¸ªè´¨æ•°çš„æŒ‡æ•°ï¼Œä»é›¶åˆ°æœ€å¤§å…è®¸å€¼(æ¯ç§æƒ…å†µä¸‹éƒ½æ˜¯12)ï¼Œå°±å¯ä»¥å¾—åˆ°æ‰€æœ‰å”¯ä¸€çš„å­é›†:</p>
<pre><code>2â°Ã—5â° â†’ 1      2Â¹Ã—5â° â†’ 2       2Â²Ã—5â° â†’ 4       2Â³Ã—5â° â†’ 8    â‹¯
2â°Ã—5Â¹ â†’ 5      2Â¹Ã—5Â¹ â†’ 10      2Â²Ã—5Â¹ â†’ 20      2Â³Ã—5Â¹ â†’ 40   â‹¯
2â°Ã—5Â² â†’ 25     2Â¹Ã—5Â² â†’ 50      2Â²Ã—5Â² â†’ 100     2Â³Ã—5Â² â†’ 200  â‹¯
2â°Ã—5Â³ â†’ 125    2Â¹Ã—5Â³ â†’ 250     2Â²Ã—5Â³ â†’ 500     2Â³Ã—5Â³ â†’ 1000 â‹¯
2â°Ã—5â´ â†’ 625    2Â¹Ã—5â´ â†’ 1250    2Â²Ã—5â´ â†’ 2500    2Â³Ã—5â´ â†’ 5000 â‹¯
â‹®              â‹®                â‹®               â‹®            â‹±
</code></pre>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªæ•°æœ‰è´¨å› æ•° <code>pâ„“á´µ Ã— pâ‚˜á´¶ Ã— pâ‚™á´·</code>ï¼Œé‚£ä¹ˆå®ƒçš„å®Œæ•´é™¤æ•°é›†å°±ç”± <code>pâ„“â½â°â€¥â±â¾ Ã— pâ‚˜â½â°â€¥Ê²â¾ Ã— pâ‚™â½â°â€¥áµâ¾</code> ç»™å‡ºã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ‰¾åˆ°å®ƒä»¬:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Find and count prime factors of N (as before)...</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\factors</span> <span class="o">=</span> <span class="nb">bag</span> <span class="nf">prime-factors</span><span class="p">(</span><span class="n">N</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Short-cut if N is prime...</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="p">)</span> <span class="k">if</span> <span class="n">factors</span><span class="o">.</span><span class="nb">total</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Extract list of unique prime factors...</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\pâ‚—pâ‚˜pâ‚™</span> <span class="o">=</span> <span class="n">factors</span><span class="o">.</span><span class="nb">keys</span> <span class="ow">xx</span> <span class="no">âˆ</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Build all unique combinations of exponents...</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\á´µá´¶á´·</span> <span class="o">=</span> <span class="o">[</span><span class="ow">X</span><span class="o">]</span> <span class="p">(</span><span class="mi">0</span> <span class="o">..</span> <span class="o">.</span><span class="nb">value</span>  <span class="k">for</span> <span class="n">factors</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Each divisor is pâ‚—á´µ Ã— pâ‚˜á´¶ Ã— pâ‚™á´·...</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="o">[Ã—]</span> <span class="o">.</span><span class="nb">list</span>  <span class="k">for</span>  <span class="n">pâ‚—pâ‚˜pâ‚™</span> <span class="o">Â«**Â«</span> <span class="n">á´µá´¶á´·</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>æˆ‘ä»¬å¾—åˆ°äº†å’Œä¸Šä¸€ä¸ªç‰ˆæœ¬ä¸€æ ·çš„è´¨å› å­åˆ—è¡¨(<code>prime-factors(N)</code>)ï¼Œä½†ç°åœ¨æˆ‘ä»¬å°†å®ƒä»¬ç›´æ¥æ”¾å…¥ä¸€ä¸ª <code>Bag</code> æ•°æ®ç»“æ„ä¸­(<code>bag prim-factors(N)</code>)ã€‚ä¸€ä¸ª&quot;bag&quot;æ˜¯ä¸€ä¸ª<a href="https://docs.raku.org/type/Bag">æ•´æ•°åŠ æƒé›†</a>ï¼šä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œï¼Œå…¶ä¸­é”®æ˜¯åˆ—è¡¨çš„åŸå§‹å…ƒç´ ï¼Œå€¼æ˜¯æ¯ä¸ªä¸åŒå€¼å‡ºç°æ¬¡æ•°çš„è®¡æ•°ï¼ˆå³å®ƒåœ¨åˆ—è¡¨ä¸­çš„&quot;æƒé‡&quot;ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ9876543210 çš„è´¨å› å­æ˜¯(<code>2, 3, 3, 5, 17, 17, 379721</code>)ã€‚å¦‚æœæˆ‘ä»¬æŠŠè¿™ä¸ªåˆ—è¡¨æ”¾åˆ°ä¸€ä¸ªè¢‹å­é‡Œï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç­‰ä»·ç‰©æ˜¯:</p>
<pre><code>{ 2=&gt;1, 3=&gt;2, 5=&gt;1, 17=&gt;2, 379721=&gt;1 }
</code></pre>
<p>å› æ­¤ï¼Œå°†è´¨å› æ•°åˆ—è¡¨è½¬æ¢ä¸ºä¸€ä¸ªè¢‹å­ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªç®€å•è€Œæœ‰æ•ˆçš„æ–¹æ³•æ¥ç¡®å®šæ‰€æ¶‰åŠçš„å”¯ä¸€è´¨æ•°ï¼Œä»¥åŠæ¯ä¸ªè´¨æ•°å¿…é¡»å‡åˆ°çš„å¹‚ã€‚</p>
<p>ç„¶è€Œï¼Œå¦‚æœåœ¨æ‰€å¾—çš„è¢‹å­ä¸­åªæœ‰ä¸€ä¸ªè´¨æ•°é”®ï¼Œè€Œå…¶å¯¹åº”çš„æ•°æ˜¯1ï¼Œé‚£ä¹ˆåŸæ•°æœ¬èº«ä¸€å®šæ˜¯é‚£ä¸ªè´¨æ•°(å‡åˆ°1çš„å¹‚)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çŸ¥é“é™¤æ•°åªèƒ½æ˜¯é‚£ä¸ªåŸæ•°å’Œ1ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç«‹å³è¿”å›å®ƒä»¬ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="p">)</span> <span class="k">if</span> <span class="n">factors</span><span class="o">.</span><span class="nb">total</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span>
</span></span></code></pre></div><p><code>.total</code> æ–¹æ³•åªæ˜¯ç®€å•åœ°å°†è¢‹å­é‡Œæ‰€æœ‰çš„æ•´æ•°æƒé‡ç›¸åŠ ã€‚å¦‚æœæ€»å’Œä¸º1ï¼Œåˆ™åªèƒ½æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæƒé‡ä¸º1ã€‚</p>
<p>å¦åˆ™ï¼Œè¢‹å­ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªé”®(<code>factors.keys</code>)å°±æ˜¯åŸæ•°çš„è´¨å› å­åˆ—è¡¨(<code>pâ‚—ï¼Œpâ‚˜ï¼Œpâ‚™ï¼Œ...</code>)ï¼Œæˆ‘ä»¬æå–è¿™äº›è´¨å› å­å¹¶å­˜å‚¨åœ¨ä¸€ä¸ªåˆé€‚çš„ Unicode å‘½åçš„å˜é‡ä¸­ï¼š<code>pâ‚—pâ‚˜pâ‚™</code>ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬éœ€è¦å¤šä¸ªç›¸åŒçš„åˆç­‰å› å­åˆ—è¡¨å‰¯æœ¬ï¼šæ¯ä¸€ä¸ªå¯èƒ½çš„æŒ‡æ•°ç»„åˆéƒ½éœ€è¦ä¸€ä¸ªã€‚ç”±äºæˆ‘ä»¬è¿˜ä¸çŸ¥é“(è¿˜ä¸çŸ¥é“)ä¼šæœ‰å¤šå°‘è¿™æ ·çš„ç»„åˆï¼Œä¸ºäº†ç¡®ä¿æˆ‘ä»¬æœ‰è¶³å¤Ÿçš„æ•°é‡ï¼Œæˆ‘ä»¬åªéœ€å°†åˆ—è¡¨æ— é™é•¿ï¼š<code>factors.keys xx âˆ</code>ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¿™å°†äº§ç”Ÿè¿™æ ·çš„å› å­åˆ—è¡¨:</p>
<pre><code>((1,3,5,17,379721), (1,3,5,17,379721), (1,3,5,17,379721), ...)
</code></pre>
<p>ä¸ºäº†å¾—åˆ°æŒ‡æ•°é›†çš„åˆ—è¡¨ï¼Œæˆ‘ä»¬éœ€è¦æ¯ä¸€ä¸ªå¯èƒ½çš„æŒ‡æ•°ç»„åˆ(I,J,K,&hellip;)ï¼Œä»é›¶åˆ°æ¯ä¸ªç´ æ•°çš„æœ€å¤§æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæˆ‘ä»¬çš„ä¾‹å­æ¥è¯´:</p>
<pre><code>{ 2=&gt;1, 3=&gt;2, 5=&gt;1, 17=&gt;2, 379721=&gt;1 }
</code></pre>
<p>æˆ‘ä»¬éœ€è¦:</p>
<pre><code>( (0,0,0,0,0), (0,0,0,0,1), (0,0,0,1,0), (0,0,0,1,1), (0,0,0,2,0), (0,0,0,2,1),
  (0,0,1,0,0), (0,0,1,0,1), (0,0,1,1,0), (0,0,1,1,1), (0,0,1,2,0), (0,0,1,2,1),
  (0,1,0,0,0), (0,1,0,0,1), (0,1,0,1,0), (0,1,0,1,1), (0,1,0,2,0), (0,1,0,2,1),
  (0,1,1,0,0), (0,1,1,0,1), (0,1,1,1,0), (0,1,1,1,1), (0,1,1,2,0), (0,1,1,2,1),
  (0,2,0,0,0), (0,2,0,0,1), (0,2,0,1,0), (0,2,0,1,1), (0,2,0,2,0), (0,2,0,2,1),
  (0,2,1,0,0), (0,2,1,0,1), (0,2,1,1,0), (0,2,1,1,1), (0,2,1,2,0), (0,2,1,2,1),
  (1,0,0,0,0), (1,0,0,0,1), (1,0,0,1,0), (1,0,0,1,1), (1,0,0,2,0), (1,0,0,2,1),
  (1,0,1,0,0), (1,0,1,0,1), (1,0,1,1,0), (1,0,1,1,1), (1,0,1,2,0), (1,0,1,2,1),
  (1,1,0,0,0), (1,1,0,0,1), (1,1,0,1,0), (1,1,0,1,1), (1,1,0,2,0), (1,1,0,2,1),
  (1,1,1,0,0), (1,1,1,0,1), (1,1,1,1,0), (1,1,1,1,1), (1,1,1,2,0), (1,1,1,2,1),
  (1,2,0,0,0), (1,2,0,0,1), (1,2,0,1,0), (1,2,0,1,1), (1,2,0,2,0), (1,2,0,2,1),
  (1,2,1,0,0), (1,2,1,0,1), (1,2,1,1,0), (1,2,1,1,1), (1,2,1,2,0)  (1,2,1,2,1)
)
</code></pre>
<p>æˆ–è€…ï¼Œä¸ºäº†æ›´ç®€æ´åœ°è¡¨è¾¾ï¼Œæˆ‘ä»¬éœ€è¦æ¯ä¸ªæŒ‡æ•°çš„æœ‰æ•ˆèŒƒå›´çš„äº¤å‰ä¹˜ç§¯(å³ <code>X</code> ç®—å­):</p>
<pre><code>#  2       3        5        17     379721
(0..1) X (0..2) X (0..1) X (0..2) X (0..1)
</code></pre>
<p>æœ€å¤§æŒ‡æ•°åªæ˜¯è´¨æ•°å› å­è¢‹ä¸­çš„å€¼(<code>factors.value</code>)ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†æ¯ä¸ª&quot;è´¨æ•°å€¼&quot;è½¬æ¢ä¸º <code>0..count</code> èŒƒå›´ï¼Œå¾—åˆ°æ‰€éœ€æŒ‡æ•°èŒƒå›´çš„åˆ—è¡¨: <code>0 .. .value  for factors</code>ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œåœ¨ Raku ä¸­ï¼Œæ‹¬å·å†…çš„å¾ªç¯ä¼šäº§ç”Ÿä¸€ä¸ªè¯¥å¾ªç¯æ¯æ¬¡è¿­ä»£çš„æœ€ç»ˆå€¼çš„åˆ—è¡¨ã€‚æˆ–è€…ä½ å¯ä»¥æŠŠè¿™ä¸ªæ„é€ çœ‹ä½œæ˜¯ä¸€ä¸ª<a href="https://en.wikipedia.org/wiki/List_comprehension">åˆ—è¡¨è§£æ</a>ï¼Œå°±åƒåœ¨ Python ä¸­ä¸€æ ·ã€‚<code>[range(0,value) for value in factors.values()]</code>(ä½†ä¸é‚£ä¹ˆå•è°ƒ)ï¼Œæˆ–è€…åœ¨ Haskell ä¸­ï¼Œ<code>[ [0..value] | value &lt;- elems factors ]</code>(ä½†è¡Œå™ªå£°è¾ƒå°)ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬åªéœ€å°†å¾—åˆ°çš„èŒƒå›´åˆ—è¡¨ï¼Œé€šè¿‡åœ¨ <code>X</code> è¿ç®—ç¬¦ä¸Šè¿˜åŸåˆ—è¡¨ï¼Œè®¡ç®—å‡º n-ary äº¤å‰ä¹˜ç§¯: <code>[X](0 .. .value for factors)</code>ï¼Œç„¶åå°†å¾—åˆ°çš„ I,J,K æŒ‡æ•°åˆ—è¡¨å­˜å‚¨åœ¨ä¸€ä¸ªé€‚å½“å‘½åçš„å˜é‡ä¸­: á´µá´¶á´· (æ˜¯çš„ï¼Œä¸Šæ ‡å­—æ¯æ˜¯å®Œå…¨æœ‰æ•ˆçš„ Unicode å­—æ¯è¡¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å½“ç„¶å¯ä»¥ç”¨å®ƒä»¬ä½œä¸ºæ ‡è¯†ç¬¦ã€‚)</p>
<p>æ­¤æ—¶ï¼Œå‡ ä¹æ‰€æœ‰çš„è‰°è‹¦å·¥ä½œéƒ½å·²ç»å®Œæˆã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªè´¨å› æ•°çš„åˆ—è¡¨(<code>pâ‚—pâ‚˜pâ‚™</code>)ï¼Œè¿˜æœ‰ä¸€ä¸ªæŒ‡æ•°çš„å”¯ä¸€ç»„åˆçš„åˆ—è¡¨ï¼Œè¿™äº›æŒ‡æ•°å°†äº§ç”Ÿä¸åŒçš„é™¤æ•°(á´µá´¶á´·)ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨éœ€è¦åšçš„å°±æ˜¯ç”¨å‘é‡æŒ‡æ•°è¿ç®—ç¬¦(<code>pâ‚—pâ‚˜pâ‚™ Â«**Â« á´µá´¶á´·)</code> å°†ç¬¬ä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªæ•°å­—é›†æé«˜åˆ°ç¬¬äºŒä¸ªåˆ—è¡¨ä¸­çš„å„ç§æŒ‡æ•°é›†ï¼Œç„¶ååœ¨å¦ä¸€ä¸ªåˆ—è¡¨ç†è§£ä¸­ä¹˜ä»¥æ¯ä¸ªæŒ‡æ•°äº§ç”Ÿçš„å€¼åˆ—è¡¨(<code>([Ã—] .list for â€¦)</code>)ï¼Œäº§ç”Ÿé™¤æ•°åˆ—è¡¨ã€‚</p>
<p>å°±è¿™æ ·ï¼Œå°±å®Œæˆäº†ã€‚æ˜¯äº”è¡Œè€Œä¸æ˜¯ä¸€è¡Œ:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\factors</span> <span class="o">=</span> <span class="nb">bag</span> <span class="nf">prime-factors</span><span class="p">(</span><span class="n">N</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="p">)</span> <span class="k">if</span> <span class="n">factors</span><span class="o">.</span><span class="nb">total</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\pâ‚—pâ‚˜pâ‚™</span> <span class="o">=</span> <span class="n">factors</span><span class="o">.</span><span class="nb">keys</span> <span class="ow">xx</span> <span class="no">âˆ</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\á´µá´¶á´·</span>   <span class="o">=</span> <span class="o">[</span><span class="ow">X</span><span class="o">]</span> <span class="p">(</span><span class="mi">0</span> <span class="o">..</span> <span class="o">.</span><span class="nb">value</span>  <span class="k">for</span> <span class="n">factors</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="o">[Ã—]</span> <span class="o">.</span><span class="nb">list</span> <span class="k">for</span> <span class="n">pâ‚—pâ‚˜pâ‚™</span> <span class="o">Â«**Â«</span> <span class="n">á´µá´¶á´·</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>&hellip;ä½†é‡Œé¢å¹¶æ²¡æœ‰æ½œä¼ç€ç»„åˆå¼çš„ç‚¸è¯ã€‚æˆ‘ä»¬æ²¡æœ‰ç›´æ¥å»ºç«‹ <code>O(2á´º)</code> ä¸ªå› å­çš„å­é›†ï¼Œè€Œæ˜¯å»ºç«‹ <code>O(N)</code> ä¸ªå„è‡ªæŒ‡æ•°çš„å­é›†ã€‚</p>
<p>ç„¶åæˆ‘ä»¬æµ‹è¯•æˆ‘ä»¬æ›´é—ªäº®çš„æ–°å¼ <code>divisors</code> å®ç°ã€‚å½“æˆ‘ä»¬å‘ç°å®ƒçš„å°ºåº¦æ¯”ä¹‹å‰çš„å¥½å¾—ç¦»è°±æ—¶ï¼Œæˆ‘ä»¬ä¼šæµæ³ª&hellip;æ¬£æ…°ã€‚ä¹Ÿæ¯”åŸæ¥çš„è¯•é™¤æ³•å¥½å¾—å¤š:</p>
<p><img src="http://blogs.perl.org/users/damian_conway/assets_c/2019/08/three_way_performance_comparison-thumb-1263x493-4102.jpg" alt="img"></p>
<p>ä»»åŠ¡å®Œæˆäº†ï¼</p>
<h2 id="ä¸¤å…¨å…¶ç¾">ä¸¤å…¨å…¶ç¾&nbsp;<a class="headline-hash no-text-decoration" href="#ä¸¤å…¨å…¶ç¾">#</a> </h2>
<p>åªä¸è¿‡ï¼Œå¦‚æœæˆ‘ä»¬æŠŠå›¾å½¢çš„èµ·ç‚¹æ”¾å¤§ã€‚</p>
<p><img src="http://blogs.perl.org/users/damian_conway/assets_c/2019/08/small_number_comparison-thumb-1263x493-4104.jpg" alt="img"></p>
<p>&hellip;æˆ‘ä»¬çœ‹åˆ°ï¼Œæˆ‘ä»¬æ–°ç®—æ³•çš„æ€§èƒ½æœ€ç»ˆåªä¼šæ›´å¥½ã€‚ç”±äº Pollard çš„ ğœŒ ç®—æ³•çš„æ ¸å¿ƒè®¡ç®—å¼€é”€ç›¸å¯¹è¾ƒé«˜ï¼Œè€Œä¸”éœ€è¦å»ºç«‹ã€æŒ‡æ•°åŒ–ã€å’Œè´¨å› æ•°çš„å¹‚é›†ç›¸ä¹˜ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„é™¤æ³•çš„æ€§èƒ½æ¯”ç®€å•çš„è¯•é™¤æ³•ç•¥å·®&hellip;&hellip;è‡³å°‘åœ¨å°äº N=10000 çš„æ•°å­—ä¸Šæ˜¯è¿™æ ·ã€‚</p>
<p>ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥æŸç§æ–¹å¼åŒæ—¶é‡‡ç”¨è¿™ä¸¤ç§ç®—æ³•ï¼šå¯¹&quot;å°&quot;çš„æ•°å­—ä½¿ç”¨è¯•é™¤æ³•ï¼Œè€Œå¯¹ä¸€åˆ‡æ›´å¤§çš„æ•°å­—ä½¿ç”¨è´¨å› æ•°ã€‚è€Œè¿™åœ¨ Raku ä¸­ä¹Ÿæ˜¯å¾®ä¸è¶³é“çš„ã€‚ä¸ï¼Œä¸æ˜¯æŠŠå®ƒä»¬æ··åœ¨ä¸€èµ·ï¼Œç”¨æŸç§ Frankenstein å‡½æ•°:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="n">N</span> <span class="o">&lt;</span> <span class="mi">10</span>â´ <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">my</span> <span class="nv">\small-divisors</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="nb">sqrt</span> <span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span><span class="n">N</span> <span class="nv">%%</span> <span class="o">*</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">my</span> <span class="nv">\big-divisors</span>   <span class="o">=</span> <span class="n">N</span> <span class="o">Â«</span><span class="ow">div</span><span class="o">Â«</span> <span class="n">small-divisors</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nb">unique</span> <span class="nb">flat</span> <span class="n">small-divisors</span><span class="o">,</span> <span class="n">big-divisors</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">my</span> <span class="nv">\factors</span> <span class="o">=</span> <span class="nb">bag</span> <span class="nf">prime-factors</span><span class="p">(</span><span class="n">N</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="p">)</span> <span class="k">if</span> <span class="n">factors</span><span class="o">.</span><span class="nb">total</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">my</span> <span class="nv">\pâ‚—pâ‚˜pâ‚™</span> <span class="o">=</span> <span class="n">factors</span><span class="o">.</span><span class="nb">keys</span> <span class="ow">xx</span> <span class="no">âˆ</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">my</span> <span class="nv">\á´µá´¶á´·</span>   <span class="o">=</span> <span class="o">[</span><span class="ow">X</span><span class="o">]</span> <span class="p">(</span><span class="mi">0</span> <span class="o">..</span> <span class="o">.</span><span class="nb">value</span> <span class="k">for</span> <span class="n">factors</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span><span class="o">[Ã—]</span> <span class="o">.</span><span class="nb">list</span> <span class="k">for</span> <span class="n">pâ‚—pâ‚˜pâ‚™</span> <span class="o">Â«**Â«</span> <span class="n">á´µá´¶á´·</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>ç›¸åï¼Œæˆ‘ä»¬åªéœ€åƒä¹‹å‰é‚£æ ·ï¼Œåœ¨å•ç‹¬çš„ <code>multi</code> ä¸­ç‹¬ç«‹åœ°å®ç°è¿™ä¸¤ç§æ–¹æ³•ï¼Œç„¶åä¿®æ”¹å®ƒä»¬çš„ç­¾åï¼Œå‘Šè¯‰ç¼–è¯‘å™¨å®ƒä»¬å„è‡ªåº”è¯¥åº”ç”¨çš„Nä¸ªå€¼çš„èŒƒå›´:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">constant</span> <span class="no">SMALL</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">..^</span> <span class="mi">10</span>â´<span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">constant</span> <span class="no">BIG</span>   <span class="o">=</span> <span class="mi">10</span>â´ <span class="o">..</span> <span class="no">âˆ</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span> <span class="k">where</span> <span class="n">BIG</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\factors</span> <span class="o">=</span> <span class="nb">bag</span> <span class="nf">prime-factors</span><span class="p">(</span><span class="n">N</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="p">)</span> <span class="k">if</span> <span class="n">factors</span><span class="o">.</span><span class="nb">total</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\pâ‚—pâ‚˜pâ‚™</span> <span class="o">=</span> <span class="n">factors</span><span class="o">.</span><span class="nb">keys</span> <span class="ow">xx</span> <span class="no">âˆ</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\á´µá´¶á´·</span>   <span class="o">=</span> <span class="o">[</span><span class="ow">X</span><span class="o">]</span> <span class="p">(</span><span class="mi">0</span> <span class="o">..</span> <span class="o">.</span><span class="nb">value</span>  <span class="k">for</span> <span class="n">factors</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="o">[Ã—]</span> <span class="o">.</span><span class="nb">list</span> <span class="k">for</span> <span class="n">pâ‚—pâ‚˜pâ‚™</span> <span class="o">Â«**Â«</span> <span class="n">á´µá´¶á´·</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">multi</span> <span class="nf">divisors</span> <span class="p">(</span>\<span class="n">N</span> <span class="k">where</span> <span class="n">SMALL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\small-divisors</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="nb">sqrt</span> <span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="nb">grep</span><span class="p">(</span><span class="n">N</span> <span class="nv">%%</span> <span class="o">*</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\big-divisors</span>   <span class="o">=</span> <span class="n">N</span> <span class="o">Â«</span><span class="ow">div</span><span class="o">Â«</span> <span class="n">small-divisors</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nb">unique</span> <span class="nb">flat</span> <span class="n">small-divisors</span><span class="o">,</span> <span class="n">big-divisors</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>åœ¨è¿™ä¸€ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå®é™…çš„æ”¹è¿›åªæ˜¯è½»å¾®çš„ï¼›ä¹Ÿè®¸æ˜¯å¤ªè½»å¾®äº†ï¼Œä¸å€¼å¾—ä¸ºç»´æŒä¸¤ä¸ªç›¸åŒåŠŸèƒ½çš„å˜ä½“è€Œçƒ¦æ¼ã€‚ä½†è¿™é‡Œæ‰€å±•ç¤ºçš„åŸåˆ™æ˜¯å¾ˆé‡è¦çš„ã€‚Raku çš„å¤šé‡åˆ†æ´¾æœºåˆ¶ä½¿å¾—åœ¨ç°æœ‰å‡½æ•°ä¸­æ³¨å…¥ç‰¹æ®Šæƒ…å†µä¸‹çš„ä¼˜åŒ–å˜å¾—éå¸¸å®¹æ˜“&hellip;è€Œä¸ä¼šä½¿å‡½æ•°çš„åŸå§‹æºä»£ç å˜å¾—æ›´å¤æ‚ã€æ›´æ…¢æˆ–æ›´éš¾ç»´æŠ¤ã€‚</p>
<h2 id="åŒæ—¶åœ¨å¹³è¡Œå®‡å®™ä¸­">åŒæ—¶ï¼Œåœ¨å¹³è¡Œå®‡å®™ä¸­&hellip;&nbsp;<a class="headline-hash no-text-decoration" href="#åŒæ—¶åœ¨å¹³è¡Œå®‡å®™ä¸­">#</a> </h2>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæœ‰æ•ˆçš„æ–¹æ³•æ¥æ‰¾åˆ°ä»»ä½•æ•°å­—çš„åˆé€‚çš„é™¤æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰é¢æ˜¾ç¤ºçš„ä»£ç å¼€å§‹å®šä½å‹å¥½å¯¹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">for</span> <span class="mi">1</span><span class="o">..</span><span class="no">âˆ</span> <span class="k">-&gt;</span> \<span class="n">number</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\friend</span> <span class="o">=</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nb">say</span> <span class="p">(</span><span class="n">number</span><span class="o">,</span> <span class="n">friend</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">number</span> <span class="o">&lt;</span> <span class="n">friend</span> <span class="o">&amp;&amp;</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">friend</span><span class="p">)</span> <span class="o">==</span> <span class="n">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>å½“æˆ‘ä»¬è¿™æ ·åšçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œå‰å‡ å¯¹æ•°æ‰“å°å‡ºæ¥çš„é€Ÿåº¦éå¸¸å¿«ï¼Œä½†æ˜¯ï¼Œä¹‹åï¼Œäº‹æƒ…å°±å¼€å§‹æ˜æ˜¾å˜æ…¢äº†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯èƒ½ä¼šå¼€å§‹å¯»æ‰¾å¦ä¸€ç§æ–¹æ³•æ¥åŠ é€Ÿæœç´¢ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œ<code>for</code> å¾ªç¯çš„æ¯ä¸€æ¬¡è¿­ä»£éƒ½æ˜¯å®Œå…¨ç‹¬ç«‹äºä»»ä½•å…¶ä»–å¾ªç¯çš„ã€‚ä¸éœ€è¦å¤–éƒ¨ä¿¡æ¯æ¥æµ‹è¯•ç‰¹å®šçš„å‹å¥½å¯¹ï¼Œä¹Ÿä¸éœ€è¦åœ¨è¿­ä»£ä¹‹é—´ä¼ é€’ä»»ä½•æŒä¹…çŠ¶æ€ã€‚è€Œæˆ‘ä»¬å¾ˆå¿«å°±ä¼šæ„è¯†åˆ°ï¼Œè¿™æ„å‘³ç€è¿™æ˜¯ä¸€ä¸ªå¼•å…¥ä¸€ç‚¹<a href="https://docs.raku.org/language/concurrency">å¹¶å‘æ€§</a>çš„ç»ä½³æœºä¼šã€‚</p>
<p>åœ¨è®¸å¤šè¯­è¨€ä¸­ï¼Œå°†æˆ‘ä»¬ç®€å•çš„çº¿æ€§ <code>for</code> å¾ªç¯è½¬æ¢ä¸ºæŸç§å¹¶å‘æœç´¢éœ€è¦å¤§é‡çš„é¢å¤–ä»£ç ï¼šè°ƒåº¦ã€åˆ›å»ºã€åè°ƒã€ç®¡ç†ã€åè°ƒã€åŒæ­¥å’Œç»ˆæ­¢çº¿ç¨‹æˆ–çº¿ç¨‹å¯¹è±¡çš„é›†åˆã€‚</p>
<p>ä½†åœ¨ Raku ä¸­ï¼Œè¿™åªæ˜¯æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨ç°æœ‰çš„ <code>for</code> å¾ªç¯ä¸­æ·»åŠ ä¸€ä¸ªäº”å­—æ¯çš„ä¿®é¥°ç¬¦:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="nb">hyper</span> <span class="k">for</span> <span class="mi">1</span><span class="o">..</span><span class="no">âˆ</span> <span class="k">-&gt;</span> \<span class="n">number</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\friend</span> <span class="o">=</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nb">say</span> <span class="p">(</span><span class="n">number</span><span class="o">,</span> <span class="n">friend</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">number</span> <span class="o">&lt;</span> <span class="n">friend</span> <span class="nv">&amp;&amp;ğ‘ </span><span class="p">(</span><span class="n">friend</span><span class="p">)</span> <span class="o">==</span> <span class="n">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><code>hyper</code>å‰ç¼€å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿™ä¸ªç‰¹å®šçš„ <code>for</code> å¾ªç¯ä¸éœ€è¦é¡ºåºè¿­ä»£ï¼›å®ƒçš„æ¯ä¸€æ¬¡è¿­ä»£éƒ½å¯ä»¥ç”¨ç¼–è¯‘å™¨è®¤ä¸ºåˆé€‚çš„å¹¶å‘ç¨‹åº¦æ¥æ‰§è¡Œï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œä»¥å››ä¸ªå¹¶è¡Œçº¿ç¨‹æ‰§è¡Œï¼Œå°½ç®¡æœ‰é¢å¤–çš„å‚æ•°å…è®¸ä½ è°ƒæ•´å¹¶å‘ç¨‹åº¦ä»¥åŒ¹é…ä½ çš„ç¡¬ä»¶èƒ½åŠ›ï¼‰ã€‚</p>
<p><code>hyper</code>å‰ç¼€å®é™…ä¸Šåªæ˜¯ä¸€ä¸ªä¾¿æ·å†™æ³•ï¼Œç”¨äºåœ¨è¢«è¿­ä»£çš„åˆ—è¡¨ä¸­æ·»åŠ å¯¹ <a href="https://docs.raku.org/routine/hyper">.hyper æ–¹æ³•</a>çš„è°ƒç”¨ã€‚è¯¥æ–¹æ³•å°†å¯¹è±¡çš„è¿­ä»£å™¨è½¬æ¢ä¸ºå¯ä»¥å¹¶å‘è¿­ä»£çš„æ–¹æ³•ã€‚æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·å†™æˆ‘ä»¬çš„å¹¶å‘å¾ªç¯:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="no">âˆ</span><span class="p">)</span><span class="o">.</span><span class="nb">hyper</span> <span class="k">-&gt;</span> \<span class="n">number</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">\friend</span> <span class="o">=</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nb">say</span> <span class="p">(</span><span class="n">number</span><span class="o">,</span> <span class="n">friend</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">number</span> <span class="o">&lt;</span> <span class="n">friend</span> <span class="nv">&amp;&amp;ğ‘ </span><span class="p">(</span><span class="n">friend</span><span class="p">)</span> <span class="o">==</span> <span class="n">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>è¯·æ³¨æ„ï¼Œæ— è®ºæˆ‘ä»¬ä»¥å“ªç§æ–¹å¼å†™è¿™ä¸ªå¹¶è¡Œ <code>for</code> å¾ªç¯ï¼Œåœ¨å¤šä¸ªè¿­ä»£å¹¶è¡Œå‘ç”Ÿçš„æƒ…å†µä¸‹ï¼Œç»“æœéƒ½ä¸å†ä¿è¯ä¸¥æ ¼æŒ‰ç…§é€’å¢é¡ºåºæ‰“å°å‡ºæ¥ã€‚ä½†å®é™…ä¸Šï¼Œç”±äºæ•´æ•°é—´å‹å¥½å¯¹çš„å¯†åº¦è¾ƒä½ï¼Œæ— è®ºå¦‚ä½•éƒ½ææœ‰å¯èƒ½å‡ºç°è¿™ç§æƒ…å†µã€‚</p>
<p>å½“æˆ‘ä»¬å°†ä¹‹å‰çš„ <code>for</code> å¾ªç¯è½¬æ¢ä¸º <code>hyper for</code> å¾ªç¯æ—¶ï¼Œå¾ªç¯çš„æ€§èƒ½ä¼šç¿»å€ã€‚ä¾‹å¦‚ï¼Œæ™®é€šå¾ªç¯å¯ä»¥åœ¨ä¸€ä¸ªå¤šå°æ—¶å†…æ‰¾åˆ°100ä¸‡ä¸ªä»¥å†…çš„æ¯ä¸€ä¸ªå‹å¥½å¯¹ï¼›<code>hyper</code> å¾ªç¯åˆ™åœ¨25åˆ†é’Ÿå†…å®ŒæˆåŒæ ·çš„å·¥ä½œã€‚</p>
<h2 id="åˆ°æ— ç©·å¤§ç”šè‡³æ›´è¿œ">åˆ°æ— ç©·å¤§ï¼Œç”šè‡³æ›´è¿œ&nbsp;<a class="headline-hash no-text-decoration" href="#åˆ°æ— ç©·å¤§ç”šè‡³æ›´è¿œ">#</a> </h2>
<p>æœ€åï¼Œåœ¨æ„å»ºå’Œä¼˜åŒ–äº†æˆ‘ä»¬å¯»æ‰¾å¤±è½çš„æƒ…ä¾£çš„æ‰€æœ‰ç»„ä»¶åï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹è®¤çœŸåœ°å¯»æ‰¾äº†ã€‚ä¸ä»…ä»…æ˜¯å¯»æ‰¾ç¬¬ä¸€å¯¹å‹å¥½æ•°ï¼Œè€Œæ˜¯å¯»æ‰¾ç¬¬ä¸€å¯¹è¶…è¿‡ä¸€åƒçš„å¯¹ï¼Œè¶…è¿‡ä¸€ç™¾ä¸‡çš„å¯¹ï¼Œè¶…è¿‡åäº¿çš„å¯¹ï¼Œè¶…è¿‡ä¸€ä¸‡äº¿çš„å¯¹ï¼Œç­‰ç­‰ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-raku" data-lang="raku"><span class="line"><span class="cl"><span class="c1"># Convert 1 â†’ &#34;10â°&#34;, 10 â†’ &#34;10Â¹&#34;, 100 â†’ &#34;10Â²&#34;, 1000 â†’ &#34;10Â³&#34;, ...</span>
</span></span><span class="line"><span class="cl"><span class="k">sub</span> <span class="nf">order</span> <span class="p">(</span>\<span class="n">N</span> <span class="k">where</span> <span class="o">/^</span> <span class="mi">10</span><span class="o">*</span> <span class="nv">$/</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="mi">10</span> <span class="o">~</span> <span class="n">N</span><span class="o">.</span><span class="nb">chars</span><span class="o">.</span><span class="nb">pred</span><span class="o">.</span><span class="nb">trans</span><span class="o">:</span> <span class="p">&#39;</span><span class="s1">0123456789</span><span class="p">&#39;</span> <span class="o">=&gt;</span> <span class="p">&#39;</span><span class="s1">â°Â¹Â²Â³â´âµâ¶â·â¸â¹</span><span class="p">&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># For every power of 1000...</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">10</span>Â³<span class="o">,</span> <span class="mi">10</span>â¶ <span class="o">...</span> <span class="no">âˆ</span> <span class="k">-&gt;</span> \<span class="nb">min</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Concurrently find the first amicable pair in that range...</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="nb">min</span><span class="o">..</span><span class="no">âˆ</span><span class="p">)</span><span class="o">.</span><span class="nb">hyper</span> <span class="k">-&gt;</span> \<span class="n">number</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">my</span> <span class="nv">\friend</span> <span class="o">=</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nb">next</span> <span class="k">if</span> <span class="n">number</span> <span class="o">&gt;=</span> <span class="n">friend</span> <span class="o">||</span> <span class="nf">ğ‘ </span><span class="p">(</span><span class="n">friend</span><span class="p">)</span> <span class="o">!=</span> <span class="n">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Report it and go on to the next power of 1000...</span>
</span></span><span class="line"><span class="cl">        <span class="nb">say</span> <span class="p">&#34;</span><span class="s2">First amicable pair over </span><span class="nv">&amp;order</span><span class="p">(</span><span class="nb">min</span><span class="p">)</span><span class="s2">:</span><span class="p">&#34;</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">&#34;</span><span class="se">\t</span><span class="s2">(</span><span class="p">{</span><span class="n">number</span><span class="p">}</span><span class="s2">, </span><span class="p">{</span><span class="n">friend</span><span class="p">}</span><span class="s2">)</span><span class="p">&#34;;</span>
</span></span><span class="line"><span class="cl">        <span class="nb">last</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>è¿™æ˜¾ç¤º:</p>
<pre><code>First amicable pair over 10â°:   (220, 284)
First amicable pair over 10Â³:   (1184, 1210)
First amicable pair over 10â¶:   (1077890, 1099390)
First amicable pair over 10â¹:   (1000233608, 1001668568)
First amicable pair over 10Â¹Â²:  (1000302285872, 1000452085744)
et cetera
</code></pre>
<p>å¥½å§ï¼Œæœ€ç»ˆæ­å¼€äº†ä»–ä»¬çš„é¢çº±!</p>
<p>by <a href="http://blogs.perl.org/users/damian_conway/2019/08/with-friends-like-these.html">Damian</a></p>


        </div>
    </div>
</article>



                <footer>
                    




<div class="no-text-decoration">
    <div class="jump top"><a href="#" title="Top of this page">â®‰</a></div>
    <div class="jump bottom"><a href="#bottom" title="Bottom of this page">â®‹</a></div>
</div>


 
    
        <div class="hugotoc no-text-decoration">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#æœ‹å‹çš„æœ‹å‹å°±æ˜¯æ•Œäºº">æœ‹å‹çš„æœ‹å‹å°±æ˜¯æ•Œäºº</a></li>
    <li><a href="#ç¼ºå°‘çš„å†…ç½®">ç¼ºå°‘çš„å†…ç½®</a></li>
    <li><a href="#ä»é—®é¢˜çš„æ ¹æºå…¥æ‰‹">ä»é—®é¢˜çš„æ ¹æºå…¥æ‰‹</a></li>
    <li><a href="#ä»å¤§å¤„ç€æƒ³">ä»å¤§å¤„ç€æƒ³</a></li>
    <li><a href="#å°½å¯èƒ½çš„ç®€å•ä½†ä¸èƒ½å†ç®€å•äº†">å°½å¯èƒ½çš„ç®€å•&hellip;&hellip;ä½†ä¸èƒ½å†ç®€å•äº†ï¼</a></li>
    <li><a href="#ä¸¤å…¨å…¶ç¾">ä¸¤å…¨å…¶ç¾</a></li>
    <li><a href="#åŒæ—¶åœ¨å¹³è¡Œå®‡å®™ä¸­">åŒæ—¶ï¼Œåœ¨å¹³è¡Œå®‡å®™ä¸­&hellip;</a></li>
    <li><a href="#åˆ°æ— ç©·å¤§ç”šè‡³æ›´è¿œ">åˆ°æ— ç©·å¤§ï¼Œç”šè‡³æ›´è¿œ</a></li>
  </ul>
</nav>
            <a href="#" class="back-to-top">Back to top</a>
        </div>
    
    
<script src="/js/libs/jquery/3.3.1/jquery.slim.min.min.22ee3db0c0e99fd0fbce3aee19672bd53d25469daf734bd4c165649f6eaf7d7f.js"></script>

<link rel="preload" href="/js/libs/jquery/3.3.1/jquery.slim.min.min.22ee3db0c0e99fd0fbce3aee19672bd53d25469daf734bd4c165649f6eaf7d7f.js" as="script">

<script type="application/javascript">(function() {
     var $window = $(window);
     if ($window.width() >= 1400) { 
         var $toc = $('#TableOfContents');
         if ($toc.length > 0) {
             function onScroll(){
                 var currentScroll = $window.scrollTop();
                 var h = $('.content h1, .content h2, .content h3, .content h4, .content h5, .content h6, .h-feed h2');
                 var id = "";
                 h.each(function (i, e) {
                     e = $(e);
                     if (e.offset().top - 10 <= currentScroll) {
                         id = e.attr('id');
                     }
                 });
                 var current = $toc.find('a.current');
                 if (current.length == 1 && current.eq(0).attr('href') == '#' + id) return true;

                 current.each(function (i, e) {
                     $(e).removeClass('current').siblings('ul').hide();
                 });
                 $toc.find('a[href="#' + id + '"]').parentsUntil('#TableOfContents').each(function (i, e) {
                     $(e).children('a').addClass('current').siblings('ul').show();
                 });
             }
             $window.on('scroll', onScroll);
             $(document).ready(function() {
                 $toc.find('a').parent('li').find('ul').hide();
                 onScroll();
                 document.getElementsByClassName('hugotoc')[0].style.display = '';
             });}}})();</script>








<div class="backtotop center no-text-decoration">
    <a href="#">back to <span class="top">top</span></a>
</div>


<div class="right">
    <div class="taxo no-text-decoration">
         
            
                <ul class="no-bullets inline categories">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts categorized in â€˜rakulangâ€™"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/categories/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
         
            
                <ul class="no-bullets inline tags">
                    
                        
                        
                        
                            
                            
                            
                            
                            
                            <li class="__rakulang__"
                                
                                
                                title="See all 0 posts tagged with â€˜rakulangâ€™"
                                
                            >
                                <a class="p-category" href="https://ohmyweekly.github.io/tags/rakulang/">rakulang</a>
                            </li>
                        
                    
                </ul>
            
        
    </div>

</div>
<div class="clear-float"></div>



<div class="prev-next-navigator clear-float">
    
        <span class="prev-post left no-text-decoration">
            <a href="https://ohmyweekly.github.io/notes/beauty-is-best/" class="nobr">Â« beauty-is-best</a>
        </span>
    
    
        <span class="next-post right no-text-decoration">
            <a href="https://ohmyweekly.github.io/notes/itch-scratch/" class="nobr">itch-scratch Â»</a>
        </span>
    
</div>


<a id="bottom"></a>









                       







                    <ul class="no-bullets feed right inline">
    
        
        
    
</ul>
<div class="clear-float"></div>

                </footer>
                <hr />
            </div>               

            <footer> 
                

<ul class="social no-text-decoration">
    
</ul>










 
    
    



<p class="generated no-text-decoration">
    Generated using  <a href="https://gitlab.com/kaushalmodi/hugo-theme-refined"><code class="nobr">hugo-theme-refined</code></a> + <span class="nobr">Hugo <a href="https://github.com/gohugoio/hugo/commit/312735366b20d64bd61bff8627f593749f86c964">0.123.7</a></span>
</p>

<p>
    
</p>




<div class="badges no-text-decoration">
    
    

    
</div>




<script type="application/javascript">var nav=responsiveNav("#nav");</script>




<script defer src="/js/libs/fragmentions/wrapper.min.e8c468c89edc4f5dccaa8c720c6b220b3088a16cd7b1e4a1e3345985788260c9.js"></script>









            </footer>
        </div> 
    </body>
</html>

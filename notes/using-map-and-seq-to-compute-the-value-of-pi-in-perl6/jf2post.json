{"author":{"name":null,"type":"card","url":"https://ohmycloud.github.io/"},"content":{"html":"\u003cp\u003eæ¬¢è¿æ¥åˆ°\u003cstrong\u003eRaku One-Liner Advent Calendarçš„\u003c/strong\u003eç¬¬\u003ca href=\"https://raku.online/2018/12/19/using-map-and-seq-to-compute-the-value-of-pi-in-perl-6/\"\u003e19\u003c/a\u003eå¤©ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ç§ä¸åŒçš„æ–¹æ³•è®¡ç®—Ï€çš„å€¼ã€‚è¿™ç¯‡åšæ–‡çš„ç›®çš„æ˜¯ä½¿ç”¨ä¸åŒçš„æ–¹æ³•æ¥ç”Ÿæˆæ•°å­—åºåˆ—ã€‚\u003c/p\u003e\n\u003ch2 id=\"pre-party\"\u003ePre-party\u003c/h2\u003e\n\u003cp\u003eå½“ç„¶ï¼Œåœ¨ Raku ä¸­ä½ ä¸éœ€è¦è‡ªå·±è®¡ç®— \u003cem\u003eÏ€\u003c/em\u003e çš„å€¼ï¼Œå› ä¸º Raku ç»™å‡ºäº†ä¸€äº›\u003ccode\u003eÏ€\u003c/code\u003eå’Œ\u003ccode\u003epi\u003c/code\u003e å½¢å¼çš„é¢„å®šä¹‰å¸¸æ•°ï¼Œä»¥åŠåŒå€çš„å€¼\u003ccode\u003eÏ„\u003c/code\u003eå’Œ\u003ccode\u003etau\u003c/code\u003eã€‚\u003c/p\u003e\n\u003cp\u003eä½†ä¸ºäº†æ¼”ç¤º map å’Œåºåˆ—çš„ç”¨æ³•ï¼Œè®©æˆ‘ä»¬å®ç°ä¸€ç§æœ€ç®€å•çš„ç®—æ³•æ¥è®¡ç®— \u003cem\u003eÏ€\u003c/em\u003eï¼š\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://inraku.files.wordpress.com/2018/12/Screen-Shot-2018-12-18-at-23.00.41.png?w=223\u0026amp;h=61\" alt=\"img\"\u003e\u003c/p\u003e\n\u003cp\u003eè¿™æ˜¯æ£€æŸ¥ç­”æ¡ˆçš„è‰æ¡ˆä»£ç ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$pi\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$sign\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e..\u003c/span\u003e\u003cspan class=\"mi\"\u003e10000\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$k\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nv\"\u003e$sign\u003c/span\u003e \u003cspan class=\"o\"\u003e*=\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nv\"\u003e$pi\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"nv\"\u003e$sign\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$k\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003esay\u003c/span\u003e \u003cspan class=\"mi\"\u003e4\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"nv\"\u003e$pi\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"ç¬¬1éƒ¨åˆ†\"\u003eç¬¬1éƒ¨åˆ†\u003c/h2\u003e\n\u003cp\u003eç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨\u003ccode\u003emap\u003c/code\u003eæ¥ä½¿ç­”æ¡ˆç´§å‡‘ä¸€ç‚¹ã€‚æœ€å¥½ä½¿å…¬å¼æ›´é€šç”¨ï¼š\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://inraku.files.wordpress.com/2018/12/Screen-Shot-2018-12-18-at-23.34.31.png?w=162\u0026amp;h=60\" alt=\"img\"\u003e\u003c/p\u003e\n\u003cp\u003eè¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå•è¡Œç¨‹åºï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003esay\u003c/span\u003e \u003cspan class=\"mi\"\u003e4\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e^\u003c/span\u003e\u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e({(\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e**\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)})\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæˆ‘å¸Œæœ›ä½ èƒ½ç†è§£è¿™æ®µä»£ç é‡Œçš„æ‰€æœ‰ä¸œè¥¿ã€‚æˆ‘ä»¬åœ¨ä»Šå¹´çš„ Advent Calendar çš„å‰å‡ å¤©ä»‹ç»äº†è¯¥ç­”æ¡ˆçš„ä¸åŒéƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼Œåœ¨\u003ca href=\"https://raku.online/2018/12/11/solving-the-problem-34-in-perl-6/\"\u003eç¬¬11å¤©çš„å¸–å­ä¸­\u003c/a\u003eã€‚\u003c/p\u003e\n\u003cp\u003eä½†æ˜¯ï¼Œæˆ‘ä»ç„¶æƒ³å¼ºè°ƒä½ éœ€è¦\u003ccode\u003e-1\u003c/code\u003eå‘¨å›´çš„åœ†æ‹¬å·ã€‚å¦‚æœè¾“å…¥\u003ccode\u003e-1 ** $_\u003c/code\u003eï¼Œåˆ™æ€»æ˜¯å¾—åˆ° \u003cem\u003e-1\u003c/em\u003eï¼Œå› ä¸ºå‡å·å‰ç¼€åº”ç”¨äºå–å¹‚çš„ç»“æœã€‚æ‰€ä»¥æ­£ç¡®çš„ä»£ç æ˜¯\u003ccode\u003e(-1) ** $_\u003c/code\u003eã€‚\u003c/p\u003e\n\u003ch2 id=\"ç¬¬2éƒ¨åˆ†\"\u003eç¬¬2éƒ¨åˆ†\u003c/h2\u003e\n\u003cp\u003eå°è¯•ä½¿ç”¨åºåˆ—è¿ç®—ç¬¦\u003ccode\u003e...\u003c/code\u003eæ ¹æ®ä¸Šè¿°å…¬å¼ç”Ÿæˆè¡Œä¹Ÿå¾ˆæœ‰è¶£ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æœ‰ç†æ•°ï¼ˆè§\u003ca href=\"https://raku.online/2018/12/12/displaying-a-zero-in-perl-6/\"\u003eç¬¬12å¤©\u003c/a\u003eï¼‰æ¥åˆ›å»ºåˆ†æ•°â…“ï¼Œâ…•ç­‰ã€‚\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-perl\" data-lang=\"perl\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003esay\u003c/span\u003e \u003cspan class=\"mi\"\u003e4\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"sr\"\u003e\u0026lt;1/1\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eRat\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$\u003c/span\u003e\u003cspan class=\"err\"\u003e^\u003c/span\u003e\u003cspan class=\"nv\"\u003en\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enumerator\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nv\"\u003e$\u003c/span\u003e\u003cspan class=\"err\"\u003e^\u003c/span\u003e\u003cspan class=\"nv\"\u003en\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edenominator\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e \u003cspan class=\"o\"\u003e...\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"o\"\u003e*.\u003c/span\u003e\u003cspan class=\"nb\"\u003eabs\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"mf\"\u003e1E-5\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eè¿™ä¸ªåºåˆ—ä»¥æœ‰ç†æ•°\u003ccode\u003e\u0026lt;1/1\u0026gt;\u003c/code\u003e å¼€å§‹ï¼Œè¿™å¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ç«‹å³å–å…¶åˆ†å­å’Œåˆ†æ¯ã€‚åºåˆ—çš„ç”Ÿæˆå™¨å—ä½¿ç”¨æ­¤æ•°å­—æ¥åˆ›å»ºæ–°çš„æœ‰ç†æ•°ï¼Œå…¶åˆ†æ¯åœ¨æ¯æ¬¡è¿­ä»£æ—¶åŠ 2ã€‚\u003c/p\u003e\n\u003cp\u003eä½ å¯èƒ½ä¼šé—®ä¸ºä»€ä¹ˆæˆ‘å¼•ç”¨ \u003ccode\u003e$^n.numerator\u003c/code\u003eï¼Œå®ƒæ€»æ˜¯ 1ã€‚è¿™æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºè¦æ”¹å˜ç¬¦å·ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å½“å‰å€¼çš„ç¬¦å·ï¼Œå¹¶ä¸”ç¬¦å·ä¿å­˜åœ¨æœ‰ç†æ•°å€¼çš„åˆ†å­éƒ¨åˆ†ä¸­ã€‚\u003c/p\u003e\n\u003cp\u003eè¯¥\u003ca href=\"https://docs.raku.org/language/variables#The_%5E_twigil\"\u003eå ä½ç¬¦å˜é‡\u003c/a\u003e \u003ccode\u003e$^n\u003c/code\u003e è‡ªåŠ¨å–ç”Ÿæˆå™¨ä»£ç å—çš„ç¬¬ä¸€ä¸ª(å¹¶ä¸”æ˜¯ä»…æœ‰çš„)å‚æ•°ã€‚\u003c/p\u003e\n\u003cp\u003eç”Ÿæˆåºåˆ—ï¼Œç›´åˆ°å½“å‰å€¼çš„ç»å¯¹å€¼å˜å¾—è¶³å¤Ÿå°ã€‚ç”¨ \u003ccode\u003e* â‰… 0\u003c/code\u003e æ›¿æ¢æœ€ç»ˆæ¡ä»¶å¯èƒ½å¾ˆè¯±äººï¼Œä½†è¯¥ç¨‹åºè¿è¡Œæ—¶é—´å¤ªé•¿è€Œæ— æ³•çœ‹åˆ°ç»“æœï¼Œå› ä¸º\u003ca href=\"https://docs.raku.org/routine/=~=\"\u003eè¿‘ä¼¼ç›¸ç­‰è¿ç®—ç¬¦\u003c/a\u003eçš„é»˜è®¤å®¹å·®ä¸º 10âˆ’15ï¼Œè€Œè¡Œä¸ä¼šå¿«é€Ÿæ”¶æ•›ã€‚\u003c/p\u003e\n\u003cp\u003eæ­¤å¤–ï¼Œä½ ä¸èƒ½ä½¿ç”¨\u003ccode\u003e\u0026lt;... / ...\u0026gt;\u003c/code\u003eè¯­æ³•åœ¨ç”Ÿæˆå™¨ä¸­åˆ›å»º\u003ccode\u003eRat\u003c/code\u003e æ•°å­—ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e{ \u0026lt;$^n.numerator / $^n.denominator + 2\u0026gt; }\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRaku ä¼šå°†å…¶è§†ä¸º\u003ca href=\"https://docs.raku.org/language/quoting\"\u003eå¼•å·æ„é€ ï¼Œ\u003c/a\u003eä¾‹å¦‚\u003ccode\u003e\u0026lt;red green blue\u0026gt;\u003c/code\u003eï¼Œè€Œä¸æ˜¯ä»£ç å—ï¼Œä½ å°†è·å¾—å­—ç¬¦ä¸²åˆ—è¡¨ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™å°±æ˜¯ä»Šå¤©çš„ä¸€åˆ‡ã€‚æ˜å¤©è§ï¼\u003c/p\u003e\n","text":"æ¬¢è¿æ¥åˆ°Raku One-Liner Advent Calendarçš„ç¬¬19å¤©ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ç§ä¸åŒçš„æ–¹æ³•è®¡ç®—Ï€çš„å€¼ã€‚è¿™ç¯‡åšæ–‡çš„ç›®çš„æ˜¯ä½¿ç”¨ä¸åŒçš„æ–¹æ³•æ¥ç”Ÿæˆæ•°å­—åºåˆ—ã€‚\nPre-party å½“ç„¶ï¼Œåœ¨ Raku ä¸­ä½ ä¸éœ€è¦è‡ªå·±è®¡ç®— Ï€ çš„å€¼ï¼Œå› ä¸º Raku ç»™å‡ºäº†ä¸€äº›Ï€å’Œpi å½¢å¼çš„é¢„å®šä¹‰å¸¸æ•°ï¼Œä»¥åŠåŒå€çš„å€¼Ï„å’Œtauã€‚\nä½†ä¸ºäº†æ¼”ç¤º map å’Œåºåˆ—çš„ç”¨æ³•ï¼Œè®©æˆ‘ä»¬å®ç°ä¸€ç§æœ€ç®€å•çš„ç®—æ³•æ¥è®¡ç®— Ï€ï¼š\nè¿™æ˜¯æ£€æŸ¥ç­”æ¡ˆçš„è‰æ¡ˆä»£ç ï¼š\nmy $pi = 1; my $sign = 1; for 1..10000 -\u0026gt; $k { $sign *= -1; $pi += $sign / ($k * 2 + 1); } say 4 * $pi; ç¬¬1éƒ¨åˆ† ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨mapæ¥ä½¿ç­”æ¡ˆç´§å‡‘ä¸€ç‚¹ã€‚æœ€å¥½ä½¿å…¬å¼æ›´é€šç”¨ï¼š\nè¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå•è¡Œç¨‹åºï¼š\nsay 4 * [+] (^1000).map({(-1) ** $_ / (2 * $_ + 1)}) æˆ‘å¸Œæœ›ä½ èƒ½ç†è§£è¿™æ®µä»£ç é‡Œçš„æ‰€æœ‰ä¸œè¥¿ã€‚æˆ‘ä»¬åœ¨ä»Šå¹´çš„ Advent Calendar çš„å‰å‡ å¤©ä»‹ç»äº†è¯¥ç­”æ¡ˆçš„ä¸åŒéƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼Œåœ¨ç¬¬11å¤©çš„å¸–å­ä¸­ã€‚\nä½†æ˜¯ï¼Œæˆ‘ä»ç„¶æƒ³å¼ºè°ƒä½ éœ€è¦-1å‘¨å›´çš„åœ†æ‹¬å·ã€‚å¦‚æœè¾“å…¥-1 ** $_ï¼Œåˆ™æ€»æ˜¯å¾—åˆ° -1ï¼Œå› ä¸ºå‡å·å‰ç¼€åº”ç”¨äºå–å¹‚çš„ç»“æœã€‚æ‰€ä»¥æ­£ç¡®çš„ä»£ç æ˜¯(-1) ** $_ã€‚\nç¬¬2éƒ¨åˆ† å°è¯•ä½¿ç”¨åºåˆ—è¿ç®—ç¬¦...æ ¹æ®ä¸Šè¿°å…¬å¼ç”Ÿæˆè¡Œä¹Ÿå¾ˆæœ‰è¶£ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æœ‰ç†æ•°ï¼ˆè§ç¬¬12å¤©ï¼‰æ¥åˆ›å»ºåˆ†æ•°â…“ï¼Œâ…•ç­‰ã€‚\nsay 4 * [+] \u0026lt;1/1\u0026gt;, {-Rat.new($^n.numerator, $^n.denominator + 2)} ... *.abs \u0026lt; 1E-5; è¿™ä¸ªåºåˆ—ä»¥æœ‰ç†æ•°\u0026lt;1/1\u0026gt; å¼€å§‹ï¼Œè¿™å¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ç«‹å³å–å…¶åˆ†å­å’Œåˆ†æ¯ã€‚åºåˆ—çš„ç”Ÿæˆå™¨å—ä½¿ç”¨æ­¤æ•°å­—æ¥åˆ›å»ºæ–°çš„æœ‰ç†æ•°ï¼Œå…¶åˆ†æ¯åœ¨æ¯æ¬¡è¿­ä»£æ—¶åŠ 2ã€‚\nä½ å¯èƒ½ä¼šé—®ä¸ºä»€ä¹ˆæˆ‘å¼•ç”¨ $^n.numeratorï¼Œå®ƒæ€»æ˜¯ 1ã€‚è¿™æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºè¦æ”¹å˜ç¬¦å·ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å½“å‰å€¼çš„ç¬¦å·ï¼Œå¹¶ä¸”ç¬¦å·ä¿å­˜åœ¨æœ‰ç†æ•°å€¼çš„åˆ†å­éƒ¨åˆ†ä¸­ã€‚\nè¯¥å ä½ç¬¦å˜é‡ $^n è‡ªåŠ¨å–ç”Ÿæˆå™¨ä»£ç å—çš„ç¬¬ä¸€ä¸ª(å¹¶ä¸”æ˜¯ä»…æœ‰çš„)å‚æ•°ã€‚\nç”Ÿæˆåºåˆ—ï¼Œç›´åˆ°å½“å‰å€¼çš„ç»å¯¹å€¼å˜å¾—è¶³å¤Ÿå°ã€‚ç”¨ * â‰… 0 æ›¿æ¢æœ€ç»ˆæ¡ä»¶å¯èƒ½å¾ˆè¯±äººï¼Œä½†è¯¥ç¨‹åºè¿è¡Œæ—¶é—´å¤ªé•¿è€Œæ— æ³•çœ‹åˆ°ç»“æœï¼Œå› ä¸ºè¿‘ä¼¼ç›¸ç­‰è¿ç®—ç¬¦çš„é»˜è®¤å®¹å·®ä¸º 10âˆ’15ï¼Œè€Œè¡Œä¸ä¼šå¿«é€Ÿæ”¶æ•›ã€‚\næ­¤å¤–ï¼Œä½ ä¸èƒ½ä½¿ç”¨\u0026lt;... / ...\u0026gt;è¯­æ³•åœ¨ç”Ÿæˆå™¨ä¸­åˆ›å»ºRat æ•°å­—ï¼š\n{ \u0026lt;$^n.numerator / $^n.denominator + 2\u0026gt; } åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRaku ä¼šå°†å…¶è§†ä¸ºå¼•å·æ„é€ ï¼Œä¾‹å¦‚\u0026lt;red green blue\u0026gt;ï¼Œè€Œä¸æ˜¯ä»£ç å—ï¼Œä½ å°†è·å¾—å­—ç¬¦ä¸²åˆ—è¡¨ã€‚\nè¿™å°±æ˜¯ä»Šå¤©çš„ä¸€åˆ‡ã€‚æ˜å¤©è§ï¼\n"},"name":"ğŸ„ 19/25. åœ¨ Raku ä¸­ä½¿ç”¨ map å’Œ Seq è®¡ç®— Ï€ çš„å€¼","published":"2018-12-19T09:19:29Z","summary":"æ¬¢è¿æ¥åˆ°Raku One-Liner Advent Calendarçš„ç¬¬19å¤©ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ç§ä¸åŒçš„æ–¹æ³•è®¡ç®—Ï€çš„å€¼ã€‚è¿™ç¯‡åšæ–‡çš„ç›®çš„æ˜¯ä½¿ç”¨ä¸åŒçš„æ–¹æ³•æ¥ç”Ÿæˆæ•°å­—åºåˆ—ã€‚\nPre-party å½“ç„¶ï¼Œåœ¨ Raku ä¸­ä½ ä¸éœ€è¦è‡ªå·±è®¡ç®— Ï€ çš„å€¼ï¼Œå› ä¸º Raku ç»™å‡ºäº†ä¸€äº›Ï€å’Œpi å½¢å¼çš„é¢„å®šä¹‰å¸¸æ•°ï¼Œä»¥åŠåŒå€çš„å€¼Ï„å’Œtauã€‚\nä½†ä¸ºäº†æ¼”ç¤º map å’Œåºåˆ—çš„ç”¨æ³•ï¼Œè®©æˆ‘ä»¬å®ç°ä¸€ç§æœ€ç®€å•çš„ç®—æ³•æ¥è®¡ç®— Ï€ï¼š\nè¿™æ˜¯æ£€æŸ¥ç­”æ¡ˆçš„è‰æ¡ˆä»£ç ï¼š\nmy $pi = 1; my $sign = 1; for 1..10000 -\u0026gt; $k { $sign *= -1; $pi += $sign / ($k * 2 + 1); } say 4 * $pi; ç¬¬1éƒ¨åˆ† ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨mapæ¥ä½¿ç­”æ¡ˆç´§å‡‘ä¸€ç‚¹ã€‚æœ€å¥½ä½¿å…¬å¼æ›´é€šç”¨ï¼š\nè¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå•è¡Œç¨‹åºï¼š\nsay 4 * [+] (^1000).map({(-1) ** $_ / (2 * $_ + 1)}) æˆ‘å¸Œæœ›ä½ èƒ½ç†è§£è¿™æ®µä»£ç é‡Œçš„æ‰€æœ‰ä¸œè¥¿ã€‚æˆ‘ä»¬åœ¨ä»Šå¹´çš„ Advent Calendar çš„å‰å‡ å¤©ä»‹ç»äº†è¯¥ç­”æ¡ˆçš„ä¸åŒéƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼Œåœ¨ç¬¬11å¤©çš„å¸–å­ä¸­ã€‚\nä½†æ˜¯ï¼Œæˆ‘ä»ç„¶æƒ³å¼ºè°ƒä½ éœ€è¦-1å‘¨å›´çš„åœ†æ‹¬å·ã€‚å¦‚æœè¾“å…¥-1 ** $_ï¼Œåˆ™æ€»æ˜¯å¾—åˆ° -1ï¼Œå› ä¸ºå‡å·å‰ç¼€åº”ç”¨äºå–å¹‚çš„ç»“æœã€‚æ‰€ä»¥æ­£ç¡®çš„ä»£ç æ˜¯(-1) ** $_ã€‚","type":"entry","url":"https://ohmycloud.github.io/notes/using-map-and-seq-to-compute-the-value-of-pi-in-perl6/"}
{"author":{"name":null,"type":"card","url":"https://ohmycloud.github.io/"},"content":{"html":"\u003cblockquote\u003e\n\u003cp\u003e2019年1月有闰秒吗？（剧透：没有）\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e今晚我们将在午夜时分从10倒数到0，并来到新的一年。\u003c/p\u003e\n\u003cp\u003e但是当我们倒数到0时，它会是2019年吗？如果有闰秒怎么办？\u003c/p\u003e\n\u003cp\u003e快点 - 让我们检查IETF提供的闰秒\u003ca href=\"https://www.ietf.org/timezones/data/leap-seconds.list\"\u003e列表\u003c/a\u003e。\u003c/p\u003e\n\u003cp\u003e不 - 它看起来不错，2017年1月1日是最后一个，并且该列表在2019年6月28日之前是 OK 的。\u003c/p\u003e\n\u003cp\u003e两年前，情况有所不同。\u003c/p\u003e\n\u003cp\u003e在“午夜”（UTC）时，它变成了2017年。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e~ $ raku -e \u003cspan class=\"s1\"\u003e\u0026#39;say DateTime.new(\u0026#34;2017-01-01T00:00:00Z\u0026#34;).year\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"m\"\u003e2017\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e但实际上，从晚上（和年）的11:59:59开始已经过了两秒钟！\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e~ $ raku -e \u003cspan class=\"s1\"\u003e\u0026#39;say DateTime.new(\u0026#34;2017-01-01T00:00:00Z\u0026#34;) - DateTime.new(\u0026#34;2016-12-31T23:59:59Z\u0026#34;)\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e在它变成2017年的那一刻，有一个闰秒。\u003ca href=\"https://docs.raku.org/routine/now\"\u003enow\u003c/a\u003e返回的值表明了这一点。\u003c/p\u003e\n\u003cp\u003e虽然今晚会很好：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e~ $ raku -e \u003cspan class=\"s1\"\u003e\u0026#39;say DateTime.new(\u0026#34;2019-01-01T00:00:00Z\u0026#34;) - DateTime.new(\u0026#34;2018-12-31T23:59:59Z\u0026#34;)\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e如果我们想要更明确，我们可以使用 \u003cstrong\u003eposix\u003c/strong\u003e 和 \u003cstrong\u003efrom-posix\u003c/strong\u003e 将 \u003ccode\u003eDateTime\u003c/code\u003e 转换为 \u003ccode\u003eInstant\u003c/code\u003e 并再返回 - 后者将布尔值作为第二个参数来指示是否应该考虑闰秒。\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$date\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u0026#34;\u003c/span\u003e\u003cspan class=\"s2\"\u003e2017-01-01T00:00:00Z\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#34;);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$instant\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003eInstant\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003efrom-posix\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nv\"\u003e$date\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003eposix\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$instant2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003eInstant\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003efrom-posix\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nv\"\u003e$date\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003eposix\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$instant\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"kt\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003eyear\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$instant2\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"kt\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003eyear\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e2016\n2017\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e我想知道有多少种语言支持闰秒？\u003c/p\u003e\n\u003cp\u003e看起来并\u003ca href=\"http://katafrakt.me/2015/06/29/does-your-language-handle-leap-second/\"\u003e不多\u003c/a\u003e。这太糟糕了。如果闰秒让你措手不及，可能会\u003ca href=\"https://www.wired.com/2012/07/leap-second-glitch-explained/\"\u003e发生\u003c/a\u003e奇怪的事情。\u003c/p\u003e\n\u003ch2 id=\"结论\"\u003e结论\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e闰秒偶尔发生一次。当他们确实发生时，在两个日期时间之间经过两秒钟，这两个日期时间似乎相差仅一秒钟。\u003c/li\u003e\n\u003cli\u003e编程语言应该支持闰秒。\u003c/li\u003e\n\u003cli\u003e2019年1月没有闰秒。\u003c/li\u003e\n\u003cli\u003e新年快乐！\u003c/li\u003e\n\u003c/ul\u003e\n","text":" 2019年1月有闰秒吗？（剧透：没有）\n今晚我们将在午夜时分从10倒数到0，并来到新的一年。\n但是当我们倒数到0时，它会是2019年吗？如果有闰秒怎么办？\n快点 - 让我们检查IETF提供的闰秒列表。\n不 - 它看起来不错，2017年1月1日是最后一个，并且该列表在2019年6月28日之前是 OK 的。\n两年前，情况有所不同。\n在“午夜”（UTC）时，它变成了2017年。\n~ $ raku -e \u0026#39;say DateTime.new(\u0026#34;2017-01-01T00:00:00Z\u0026#34;).year\u0026#39; 2017 但实际上，从晚上（和年）的11:59:59开始已经过了两秒钟！\n~ $ raku -e \u0026#39;say DateTime.new(\u0026#34;2017-01-01T00:00:00Z\u0026#34;) - DateTime.new(\u0026#34;2016-12-31T23:59:59Z\u0026#34;)\u0026#39; 2 在它变成2017年的那一刻，有一个闰秒。now返回的值表明了这一点。\n虽然今晚会很好：\n~ $ raku -e \u0026#39;say DateTime.new(\u0026#34;2019-01-01T00:00:00Z\u0026#34;) - DateTime.new(\u0026#34;2018-12-31T23:59:59Z\u0026#34;)\u0026#39; 1 如果我们想要更明确，我们可以使用 posix 和 from-posix 将 DateTime 转换为 Instant 并再返回 - 后者将布尔值作为第二个参数来指示是否应该考虑闰秒。\nmy $date = DateTime.new(\u0026#34;2017-01-01T00:00:00Z\u0026#34;); my $instant = Instant.from-posix: $date.posix, True; my $instant2 = Instant.from-posix: $date.posix; say $instant.DateTime.year; say $instant2.DateTime.year; 2016 2017 我想知道有多少种语言支持闰秒？\n看起来并不多。这太糟糕了。如果闰秒让你措手不及，可能会发生奇怪的事情。\n结论 闰秒偶尔发生一次。当他们确实发生时，在两个日期时间之间经过两秒钟，这两个日期时间似乎相差仅一秒钟。 编程语言应该支持闰秒。 2019年1月没有闰秒。 新年快乐！ "},"name":"润秒","published":"2019-01-05T13:13:57Z","summary":"2019年1月有闰秒吗？（剧透：没有）\n今晚我们将在午夜时分从10倒数到0，并来到新的一年。\n但是当我们倒数到0时，它会是2019年吗？如果有闰秒怎么办？\n快点 - 让我们检查IETF提供的闰秒列表。\n不 - 它看起来不错，2017年1月1日是最后一个，并且该列表在2019年6月28日之前是 OK 的。\n两年前，情况有所不同。\n在“午夜”（UTC）时，它变成了2017年。\n~ $ raku -e \u0026#39;say DateTime.new(\u0026#34;2017-01-01T00:00:00Z\u0026#34;).year\u0026#39; 2017 但实际上，从晚上（和年）的11:59:59开始已经过了两秒钟！\n~ $ raku -e \u0026#39;say DateTime.new(\u0026#34;2017-01-01T00:00:00Z\u0026#34;) - DateTime.new(\u0026#34;2016-12-31T23:59:59Z\u0026#34;)\u0026#39; 2 在它变成2017年的那一刻，有一个闰秒。now返回的值表明了这一点。\n虽然今晚会很好：\n~ $ raku -e \u0026#39;say DateTime.new(\u0026#34;2019-01-01T00:00:00Z\u0026#34;) - DateTime.new(\u0026#34;2018-12-31T23:59:59Z\u0026#34;)\u0026#39; 1 如果我们想要更明确，我们可以使用 posix 和 from-posix 将 DateTime 转换为 Instant 并再返回 - 后者将布尔值作为第二个参数来指示是否应该考虑闰秒。\nmy $date = DateTime.new(\u0026#34;2017-01-01T00:00:00Z\u0026#34;); my $instant = Instant.from-posix: $date.posix, True; my $instant2 = Instant.from-posix: $date.posix; say $instant.DateTime.year; say $instant2.","type":"entry","url":"https://ohmycloud.github.io/notes/leap-seconds/"}
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>
            
                    BUILD on
                
            
            焉知非鱼</title>
        <link>https://ohmyweekly.github.io/tags/build/</link>
        <description>Recent content  in BUILD
            on 焉知非鱼</description>
        <language>en-us</language>
        <lastBuildDate>Wed, 14 Apr 2021 23:11:23 +0800</lastBuildDate>
        <generator>Hugo -- gohugo.io</generator>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
            <atom:link href="https://ohmyweekly.github.io/tags/build/index.xml" rel="self" type="application/rss&#43;xml" />
        
            
            <item>
                <title>BUILD 和 TWEAK 的区别</title>
                <link>https://ohmyweekly.github.io/notes/2021-03-07-difference-between-build-and-tweak-in-raku/</link>
                
                
                <description>&lt;blockquote&gt;Difference Between Build and Tweak in Raku&lt;/blockquote&gt;&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;class Student {
    has $.name;
    has $.sex;
    has $!age;

    method BUILD(:$!name) {

    }
}

my $stu = Student.new(:name(&#39;赵今麦&#39;), :sex(&#39;女&#39;));
dd $stu;
# Student $stu = Student.new(name =&amp;gt; &amp;quot;赵今麦&amp;quot;, sex =&amp;gt; Any)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如果你加上 &lt;code&gt;BUILD&lt;/code&gt; 方法, 你必须自己全权负责设置所有的东西。也就是既包括公共属性, 也包括私有属性。&lt;/p&gt;
&lt;p&gt;但你可以通过巧妙地命名参数来让你的生活更轻松。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;method BUILD (:$!name, :$!sex, :$!age) { }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;BUILD&lt;/code&gt; 方法可以初始化私有属性:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;class Student {
    has $.name;
    has $.sex;
    has $!age;

    method BUILD(:$name, :$sex, :$age) {
        $!name = $name;
        $!sex = $sex;
        $!age = $age;
    }

    method heart() { return &#39;♥ &#39; ~ $!age }
}

my $stu = Student.new(:name(&#39;赵今麦&#39;), :sex(&#39;女&#39;), :age(18));
dd $stu;
say $stu;
say $stu.heart(); 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;也可以在 TWEAK 方法中初始化私有属性:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;class Student {
    has $.name;
    has $.sex;
    has $!age;

    method TWEAK(:$name, :$sex, :$age) {
        $!age = $age + 1;
    }

    method heart() { return &#39;♥&#39; ~ $!age }
}

my $stu = Student.new(:name(&#39;赵今麦&#39;), :sex(&#39;女&#39;), :age(18));
dd $stu;
say $stu;
say $stu.heart(); 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;使用 &lt;code&gt;TWEAK&lt;/code&gt;，你会得到与 &lt;code&gt;BUILD&lt;/code&gt; 相同的参数，但所有的初始设置都已经完成了（&lt;code&gt;BUILD&lt;/code&gt; 或公共属性的自动绑定，以及所有的默认值，再加上保证所需值的存在）。你只是有机会做一些最后的调整。&lt;/p&gt;
</description>
                
                        <author>焉知非鱼@fakeEmailToMakeValidatorHappy.com (焉知非鱼)</author>
                
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/categories/raku">Raku</category>
                                
                            
                        
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/raku">Raku</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/build">BUILD</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/tweak">TWEAK</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/object">Object</category>
                                
                            
                        
                    
                
                <guid>https://ohmyweekly.github.io/notes/2021-03-07-difference-between-build-and-tweak-in-raku/</guid>
                <pubDate>Sun, 07 Mar 2021 00:00:00 +0800</pubDate>
            </item>
        
    </channel>
</rss>



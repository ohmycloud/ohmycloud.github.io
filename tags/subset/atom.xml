<?xml version="1.0" encoding="utf-8"?> 
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-us">
    <generator uri="https://gohugo.io/" version="0.85.0">Hugo</generator><title type="html"><![CDATA[subset on 焉知非鱼]]></title>
    
        <subtitle type="html"><![CDATA[rakulang, dartlang, nimlang, golang, rustlang, lang lang no see]]></subtitle>
    
    
    
            <link href="https://ohmyweekly.github.io/tags/subset/" rel="alternate" type="text/html" title="HTML" />
            <link href="https://ohmyweekly.github.io/tags/subset/index.xml" rel="alternate" type="application/rss+xml" title="RSS" />
            <link href="https://ohmyweekly.github.io/tags/subset/atom.xml" rel="self" type="application/atom+xml" title="Atom" />
            <link href="https://ohmyweekly.github.io/tags/subset/jf2feed.json" rel="alternate" type="application/jf2feed+json" title="jf2feed" />
    <updated>2021-07-11T22:08:29+08:00</updated>
    
    
    
    
        <id>https://ohmyweekly.github.io/tags/subset/</id>
    
        
        <entry>
            <title type="html"><![CDATA[Subset]]></title>
            <link href="https://ohmyweekly.github.io/notes/2015-03-19-subset/?utm_source=atom_feed" rel="alternate" type="text/html" />
            
            
                <id>https://ohmyweekly.github.io/notes/2015-03-19-subset/</id>
            
            
                    <author>
                        <name>焉知非鱼</name>
                    </author>
            <published>2021-07-10T00:00:00+08:00</published>
            <updated>2021-07-10T00:00:00+08:00</updated>
            
            
            <content type="html"><![CDATA[<blockquote>Subset</blockquote><h2 id="subset-子集">Subset 子集</h2>
<p>Subset 可用于声明某一类型的子集。</p>
<p>输入一个密码,  要求密码必须满足如下条件：</p>
<p>1、 至少 8 位
2、 必须包含大写字母、小写字母 和 数字</p>
<div class="highlight"><pre class="chroma"><code class="language-raku" data-lang="raku"><span class="k">subset</span> <span class="nc">Length8</span>      <span class="k">of</span> <span class="nb">Str</span> <span class="k">where</span> <span class="o">*.</span><span class="nb">chars</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">;</span>
<span class="k">subset</span> <span class="nc">UpCase</span>       <span class="k">of</span> <span class="nb">Str</span> <span class="k">where</span> <span class="nb">none</span><span class="p">(&#39;</span><span class="s1">A</span><span class="p">&#39;</span><span class="o">..</span><span class="p">&#39;</span><span class="s1">Z</span><span class="p">&#39;)</span>  <span class="o">∈</span> <span class="o">*.</span><span class="nb">comb</span><span class="o">.</span><span class="nb">Set</span><span class="p">;</span>
<span class="k">subset</span> <span class="nc">LowerCase</span>    <span class="k">of</span> <span class="nb">Str</span> <span class="k">where</span> <span class="nb">none</span><span class="p">(&#39;</span><span class="s1">a</span><span class="p">&#39;</span><span class="o">..</span><span class="p">&#39;</span><span class="s1">z</span><span class="p">&#39;)</span>  <span class="o">∈</span> <span class="o">*.</span><span class="nb">comb</span><span class="o">.</span><span class="nb">Set</span><span class="p">;</span>
<span class="k">subset</span> <span class="nc">IntNumber</span>    <span class="k">of</span> <span class="nb">Str</span> <span class="k">where</span> <span class="nb">none</span><span class="p">(&#39;</span><span class="s1">0</span><span class="p">&#39;</span><span class="o">..</span><span class="p">&#39;</span><span class="s1">9</span><span class="p">&#39;)</span>  <span class="o">∈</span> <span class="o">*.</span><span class="nb">comb</span><span class="o">.</span><span class="nb">Set</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$guess</span> <span class="o">=</span> <span class="nb">prompt</span><span class="p">(&#39;</span><span class="s1">Enter your password:</span><span class="p">&#39;);</span>

<span class="k">given</span> <span class="nv">$guess</span> <span class="p">{</span>
    <span class="k">when</span> <span class="n">Length8</span>     <span class="p">{</span> <span class="nb">say</span> <span class="p">&#39;</span><span class="s1">密码长度必须为 8 位 以上</span><span class="p">&#39;;</span> <span class="k">proceed</span> <span class="p">}</span>
    <span class="k">when</span>  <span class="n">UpCase</span>     <span class="p">{</span> <span class="nb">say</span> <span class="p">&#39;</span><span class="s1">密码必须包括大写字母</span><span class="p">&#39;;</span>     <span class="k">proceed</span> <span class="p">}</span>
    <span class="k">when</span> <span class="n">LowerCase</span>   <span class="p">{</span> <span class="nb">say</span> <span class="p">&#39;</span><span class="s1">密码必须包含小写字母</span><span class="p">&#39;;</span>     <span class="k">proceed</span> <span class="p">}</span>
    <span class="k">when</span> <span class="n">IntNumber</span>   <span class="p">{</span> <span class="nb">say</span> <span class="p">&#39;</span><span class="s1">密码必须包含数字</span><span class="p">&#39;;</span>                <span class="p">}</span>   
 <span class="p">}</span>
</code></pre></div><p>该程序具有可扩展性, 要增加一种密码验证, 只有添加一个 subset 就好了, 然后在 <code>given/when</code> 里面增加一个处理。</p>
<p><code>proceed</code> 相当于 <code>continue</code>, 不像 C 里面的 falling through, Raku 里面的 proceed 在继续执行下一个 <code>when</code> 语句时会计算 when 后面的条件。所以, 只要有 proceed, 则 proceed 后面的那个条件就会被执行。</p>
]]></content>
            
                 
                    
                         
                        
                            
                             
                                <category scheme="https://ohmyweekly.github.io/categories/rakulang" term="rakulang" label="rakulang" />
                            
                        
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://ohmyweekly.github.io/tags/subset" term="subset" label="subset" />
                            
                        
                    
                
            
        </entry>
    
</feed>

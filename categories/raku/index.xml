<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>
            
                    Raku on
                
            
            ç„‰çŸ¥éé±¼</title>
        <link>https://ohmyweekly.github.io/categories/raku/</link>
        <description>Recent content  in Raku
            on ç„‰çŸ¥éé±¼</description>
        <language>en-us</language>
        <lastBuildDate>Tue, 13 Apr 2021 22:37:31 +0800</lastBuildDate>
        <generator>Hugo -- gohugo.io</generator>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
            <atom:link href="https://ohmyweekly.github.io/categories/raku/index.xml" rel="self" type="application/rss&#43;xml" />
        
            
            <item>
                <title>BUILD å’Œ TWEAK çš„åŒºåˆ«</title>
                <link>https://ohmyweekly.github.io/notes/2021-03-07-difference-between-build-and-tweak-in-raku/</link>
                
                
                <description>&lt;blockquote&gt;Difference Between Build and Tweak in Raku&lt;/blockquote&gt;&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;class Student {
    has $.name;
    has $.sex;
    has $!age;

    method BUILD(:$!name) {

    }
}

my $stu = Student.new(:name(&#39;èµµä»Šéº¦&#39;), :sex(&#39;å¥³&#39;));
dd $stu;
# Student $stu = Student.new(name =&amp;gt; &amp;quot;èµµä»Šéº¦&amp;quot;, sex =&amp;gt; Any)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœä½ åŠ ä¸Š &lt;code&gt;BUILD&lt;/code&gt; æ–¹æ³•, ä½ å¿…é¡»è‡ªå·±å…¨æƒè´Ÿè´£è®¾ç½®æ‰€æœ‰çš„ä¸œè¥¿ã€‚ä¹Ÿå°±æ˜¯æ—¢åŒ…æ‹¬å…¬å…±å±æ€§, ä¹ŸåŒ…æ‹¬ç§æœ‰å±æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ä½ å¯ä»¥é€šè¿‡å·§å¦™åœ°å‘½åå‚æ•°æ¥è®©ä½ çš„ç”Ÿæ´»æ›´è½»æ¾ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;method BUILD (:$!name, :$!sex, :$!age) { }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;BUILD&lt;/code&gt; æ–¹æ³•å¯ä»¥åˆå§‹åŒ–ç§æœ‰å±æ€§:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;class Student {
    has $.name;
    has $.sex;
    has $!age;

    method BUILD(:$name, :$sex, :$age) {
        $!name = $name;
        $!sex = $sex;
        $!age = $age;
    }

    method heart() { return &#39;â™¥ &#39; ~ $!age }
}

my $stu = Student.new(:name(&#39;èµµä»Šéº¦&#39;), :sex(&#39;å¥³&#39;), :age(18));
dd $stu;
say $stu;
say $stu.heart(); 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨ TWEAK æ–¹æ³•ä¸­åˆå§‹åŒ–ç§æœ‰å±æ€§:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;class Student {
    has $.name;
    has $.sex;
    has $!age;

    method TWEAK(:$name, :$sex, :$age) {
        $!age = $age + 1;
    }

    method heart() { return &#39;â™¥&#39; ~ $!age }
}

my $stu = Student.new(:name(&#39;èµµä»Šéº¦&#39;), :sex(&#39;å¥³&#39;), :age(18));
dd $stu;
say $stu;
say $stu.heart(); 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;TWEAK&lt;/code&gt;ï¼Œä½ ä¼šå¾—åˆ°ä¸ &lt;code&gt;BUILD&lt;/code&gt; ç›¸åŒçš„å‚æ•°ï¼Œä½†æ‰€æœ‰çš„åˆå§‹è®¾ç½®éƒ½å·²ç»å®Œæˆäº†ï¼ˆ&lt;code&gt;BUILD&lt;/code&gt; æˆ–å…¬å…±å±æ€§çš„è‡ªåŠ¨ç»‘å®šï¼Œä»¥åŠæ‰€æœ‰çš„é»˜è®¤å€¼ï¼Œå†åŠ ä¸Šä¿è¯æ‰€éœ€å€¼çš„å­˜åœ¨ï¼‰ã€‚ä½ åªæ˜¯æœ‰æœºä¼šåšä¸€äº›æœ€åçš„è°ƒæ•´ã€‚&lt;/p&gt;
</description>
                
                        <author>ç„‰çŸ¥éé±¼@fakeEmailToMakeValidatorHappy.com (ç„‰çŸ¥éé±¼)</author>
                
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/categories/raku">Raku</category>
                                
                            
                        
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/raku">Raku</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/build">BUILD</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/tweak">TWEAK</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/object">Object</category>
                                
                            
                        
                    
                
                <guid>https://ohmyweekly.github.io/notes/2021-03-07-difference-between-build-and-tweak-in-raku/</guid>
                <pubDate>Sun, 07 Mar 2021 00:00:00 +0800</pubDate>
            </item>
        
            
            <item>
                <title>å¦‚ä½•åœ¨ Raku ä¸­è¾“å…¥ Unicode</title>
                <link>https://ohmyweekly.github.io/notes/2021-03-01-how-to-type-unicode-in-raku/</link>
                
                
                <description>&lt;blockquote&gt;How to Type Unicode in Raku&lt;/blockquote&gt;&lt;p&gt;Raku æœ‰éå¸¸å¥½çš„ Unicode æ”¯æŒ, ä½†æ˜¯è¾“å…¥ Unicode ä¸€ç›´æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ã€‚åœ¨ REPL ä¸­, è¾“å…¥ Unicode éƒ½ä¸å¤ªæ–¹ä¾¿ã€‚ä¸‹é¢ä»‹ç»å‡ ç§æ–¹æ³•æ¥æ–¹ä¾¿åœ°è¾“å…¥ Unicodeã€‚&lt;/p&gt;
&lt;h1 id=&#34;comma&#34;&gt;Comma&lt;/h1&gt;
&lt;p&gt;æœ€æ–¹ä¾¿çš„æ˜¯ä½¿ç”¨ Raku è‡ªå·±çš„ IDE, &lt;a href=&#34;http://commaide.com&#34;&gt;Comma&lt;/a&gt;ã€‚ä½†æ˜¯éœ€è¦åšä¸¤ä¸ªè®¾ç½®:&lt;/p&gt;
&lt;p&gt;é¦–å…ˆ, åˆ‡æ¢åˆ° Comma IDE, ç‚¹å‡»å·¦ä¸Šè§’èœå•æ çš„ &lt;strong&gt;Comma&lt;/strong&gt; é€‰é¡¹, åœ¨å¼¹å‡ºçš„ &lt;strong&gt;Preference&lt;/strong&gt; çª—å£ä¸­, æ‰¾åˆ°å·¦ä¾§èœå•æ ä¸­çš„ &lt;strong&gt;Editor&lt;/strong&gt; é€‰é¡¹, ç‚¹å‡» &lt;strong&gt;Code Style&lt;/strong&gt; ä¸­çš„ &lt;strong&gt;Raku&lt;/strong&gt;, åœ¨å³ä¾§çš„çª—å£çš„æœ€ä¸Šé¢, æ‰¾åˆ° &lt;strong&gt;Schema&lt;/strong&gt; ä¸€è¡Œ, ç‚¹å‡»å€’ä¸‰è§’å›¾æ ‡, åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© &lt;strong&gt;Project&lt;/strong&gt;ã€‚ç„¶ååœ¨ç¬¬äºŒè¡Œæ–‡å­—ä¸­æ‰¾åˆ° &lt;strong&gt;Editor Behavior&lt;/strong&gt;, å‹¾é€‰ &lt;strong&gt;Convert operators to Unicode&lt;/strong&gt;ã€‚å®Œæˆåç‚¹å‡»å³ä¸‹è§’çš„ &lt;strong&gt;Apply&lt;/strong&gt;, ç„¶åç‚¹å‡» &lt;strong&gt;OK&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·å½“ä½ åœ¨ Comma ä¸­é”®å…¥ &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; è¿™æ ·çš„è¿ç®—ç¬¦å, Comma ä¼šè‡ªåŠ¨æŠŠå®ƒè½¬ä¸º Unicode å½¢å¼çš„ &lt;code&gt;Â»&lt;/code&gt;ã€‚ç›®å‰å·²æ”¯æŒå¤§éƒ¨åˆ† Unicode è¿ç®—ç¬¦äº†ã€‚Comma æ˜¯è·¨å¹³å°çš„ Raku ç¼–è¾‘å™¨, æ”¯æŒ Windowsã€Linux å’Œ MacOS, æ‰€ä»¥ä½ æƒ³è·¨å¹³å°å¼€å‘çš„è¯, Comma å€¼å¾—ä¸€è¯•ã€‚&lt;/p&gt;
&lt;h1 id=&#34;kitty&#34;&gt;Kitty&lt;/h1&gt;
&lt;p&gt;å¦‚æœä½ æƒ³åœ¨ Vim ä¸­å¼€å‘ Raku, åˆä¸æƒ³å¤±å»è¾“å…¥ Unicode çš„ä¹è¶£, è¯·ä½¿ç”¨ &lt;a href=&#34;https://github.com/kovidgoyal/kitty&#34;&gt;Kitty&lt;/a&gt; ç»ˆç«¯ã€‚ç‚¹å¼€ Kitty ç»ˆç«¯, ä½¿ç”¨å¿«æ·é”® Ctrl + Shift + U å³å¯è§¦å‘è¾“å…¥ Unnicode çš„ç•Œé¢(ä¹Ÿå¯ä»¥é”®å…¥å‘½ä»¤ kitty +kitten unicode_input æ¥è§¦å‘)ã€‚å†é€šè¿‡å¿«æ·é”®  F1ã€F2ã€F3 å’Œ F4 (æˆ–é€šè¿‡ Ctrl+[ å’Œ Ctrl+] åˆ‡æ¢æ ‡ç­¾)å¯ä»¥åˆ†åˆ«æŒ‰ä»£ç æœç´¢ Unicodeã€æŒ‰åå­—æœç´¢ Unicodeã€æŒ‰è¡¨æƒ…æœç´¢å’Œæ”¶è—ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚åœ¨ REPL ä¸­é”®å…¥ Unicode å­—ç¬¦:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ raku
Welcome to ğ‘ğšğ¤ğ®ğğ¨â„¢ v2021.02.
Implementing the ğ‘ğšğ¤ğ®â„¢ programming language v6.d.
Built on MoarVM version 2021.02.

To &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;exit&amp;#39;&lt;/span&gt; or &lt;span class=&#34;s1&#34;&gt;&amp;#39;^D&amp;#39;&lt;/span&gt;
&amp;gt; my @a &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 1..5&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&amp;gt; @aÂ».sin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å€ŸåŠ© Kitty, æ•°ç»„ &lt;code&gt;@a&lt;/code&gt; åé¢çš„ &lt;code&gt;Â»&lt;/code&gt; å¯ä»¥è¿™æ ·è¾“å…¥, å…ˆè¾“å…¥ &lt;code&gt;@a&lt;/code&gt;, ç„¶åä½¿ç”¨å¿«æ·é”® Shift + Ctrl + U è°ƒå‡º Kitty çš„ &lt;strong&gt;Unicode input&lt;/strong&gt; ç•Œé¢, ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•, ç¬¬ä¸€ç§æ˜¯é€šè¿‡å¿«æ·é”® F1, ç„¶åè¾“å…¥å¯¹åº”çš„ Unicode ç¼–ç , å†å›è½¦ã€‚ç¬¬äºŒç§æ˜¯é€šè¿‡å¿«æ·é”® F2, é€šè¿‡åå­—æœç´¢, ä¾‹å¦‚è¾“å…¥å•è¯ quota, ä¼šå‡ºç°ä¸€å †å¼•å·ç¬¦å·ä¾›ä½ é€‰æ‹©, æŒ‰ä¸Šä¸‹æ–¹å‘é”®é€‰ä¸­ &lt;code&gt;Â»&lt;/code&gt;, å†å›è½¦å³å¯ã€‚Vim ä¸­åŒç†ã€‚&lt;/p&gt;
&lt;h1 id=&#34;julia-repl&#34;&gt;Julia REPL&lt;/h1&gt;
&lt;p&gt;åœ¨ REPL ä¸­è¾“å…¥ &lt;code&gt;\â€² + å•è¯ + Tab, ä¾‹å¦‚è¾“å…¥ &lt;/code&gt;\heartsuit` å†æŒ‰ Tab, å°±ä¼šè‡ªåŠ¨å˜æˆ â™¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;julia&amp;gt; &lt;span class=&#34;se&#34;&gt;\h&lt;/span&gt;eartsuit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;ipython&#34;&gt;IPython&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;\^&lt;/code&gt; è¾“å…¥ä¸Šæ ‡, &lt;code&gt;\_p&lt;/code&gt; è¾“å…¥ä¸‹æ ‡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ ipython
&lt;span class=&#34;se&#34;&gt;\^&lt;/span&gt;a
&lt;span class=&#34;se&#34;&gt;\_&lt;/span&gt;p
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;vscode&#34;&gt;VScode&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;\\â€² + å®Œæ•´çš„å•è¯ + Tab, VsCode ä¼šè‡ªåŠ¨è½¬æ¢ä¸º Unicodeã€‚ ä¾‹å¦‚ &lt;/code&gt;^a&lt;code&gt;å’Œ&lt;/code&gt;_p`&lt;/p&gt;
&lt;h1 id=&#34;dmenu&#34;&gt;dmenu&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-perl&#34; data-lang=&#34;perl&#34;&gt;&lt;span class=&#34;ch&#34;&gt;#!/usr/bin/perl&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#use strict;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#use warnings;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#use autodie;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#use utf8;&lt;/span&gt;


&lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$FH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34; | dmenu -i -l 30 -fn &amp;#39;-xos4-terminus-medium-r-*-*-10-*&amp;#39; | sed &amp;#39;s/^\\(.\\).*/\\1/&amp;#39; | tr -d &amp;#39;\n&amp;#39; | { pbcopy; pbpaste; } &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# if you do not have the xos4-terminus font that makes characters a little bigger :&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# uncoment this line and use the second here document&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#open $FH, &amp;#34; | dmenu -i -l 30 | sed &amp;#39;s/^\\(.\\).*/\\1/&amp;#39; | tr -d &amp;#39;\n&amp;#39; | { xsel -ib; xsel -ip; } &amp;#34;;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# also you can compile dmenu from source and change the font size directly in the C done&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# in the file config.h / config.def.h&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# this heredoc is well aligned with the -xos4-terminus-medium-r-*-*-10-* font&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;print&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$FH&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;dl&#34;&gt;EOF&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Â«         hyper operator
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Â»         hyper operator
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆˆ        membership
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆ‰        non-membership
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆª         set union
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆ©         set intersection
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆ–         set difference
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â‰¡         set equality
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â‰¢        set inequality
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠ–        symmetric set difference
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠ         baggy multiplication
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠ         baggy addition
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆ…        empty set
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠ†        subset
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠˆ         not a subset
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠ‚        strict subset
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠ„        not a strict subset
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆ‹        reverse membership
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆŒ          reverse non-membership
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠ‡        superset
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠ‰         not a superset
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠƒ        strict superset
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âŠ…        not a strict superset
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆ         infinity
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âš›        atomic operator
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Ï€        pi
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Ï„         tau
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;ğ‘’         Euler&amp;#39;s number
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆ˜         function composition
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Ã—        multiplication 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Ã·        division
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â‰¤         inferior or equal
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â‰¥         greater or equal
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â‰    	     inequality
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âˆ’        substraction
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â‰…       approximatively equal
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â€¦      sequence operator
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â€˜         left single quotation mark
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â€™         right single quotation mark
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â€š         single low-9 quotation mark 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â€         right double quotation mark
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â€œ         left double quotation mark
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â€         double low-9 quotation mark
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;ï½¢         halfwidth left corner bracket
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;ï½£         halfwidth right corner bracket
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âº         plus superscript
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â»         minus superscript
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â°         0 superscript
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Â¹         1 superscript 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Â²         2 superscript 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Â³         3 superscript 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â´         4 superscript 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;âµ         5 superscript 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â¶         6 superscript 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â·         7 superscript 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â¸         8 superscript 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;â¹         9 superscript 
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&lt;/span&gt;&lt;span class=&#34;dl&#34;&gt;EOF&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# use this without -xos4-terminus-medium-r-*-*-10-* font&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# the default font may change given which font packages are installed and given the font configurations&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#print $FH &amp;lt;&amp;lt;&amp;#39;EOF&amp;#39;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Â«         hyper operator&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Â»         hyper operator&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆˆ         membership&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆ‰         non-membership&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆª         set union&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆ©         set intersection&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆ–         set difference&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â‰¡         set equality&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â‰¢         set inequality&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠ–         symmetric set difference&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠ         baggy multiplication&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠ         baggy addition&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆ…         empty set&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠ†         subset&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠˆ         not a subset&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠ‚         strict subset&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠ„         not a strict subset&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆ‹         reverse membership&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆŒ         reverse non-membership&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠ‡         superset&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠ‰         not a superset&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠƒ         strict superset&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âŠ…         not a strict superset&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆ         infinity&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âš›         atomic operator&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Ï€         pi&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Ï„         tau&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#ğ‘’         Euler&amp;#39;s number&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆ˜         function composition&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Ã—         multiplication &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Ã·         division&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â‰¤         inferior or equal&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â‰¥         greater or equal&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â‰          inequality&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âˆ’         substraction&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â‰…         approximatively equal&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â€¦         sequence operator&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â€˜         left single quotation mark&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â€™         right single quotation mark&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â€š         single low-9 quotation mark &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â€         right double quotation mark&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â€œ         left double quotation mark&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â€         double low-9 quotation mark&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#ï½¢         halfwidth left corner bracket&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#ï½£         halfwidth right corner bracket&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âº         plus superscript&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â»         minus superscript&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â°         0 superscript&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Â¹         1 superscript &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Â²         2 superscript &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Â³         3 superscript &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â´         4 superscript &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#âµ         5 superscript &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â¶         6 superscript &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â·         7 superscript &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â¸         8 superscript &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#â¹         9 superscript &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#EOF&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#;&lt;/span&gt;



&lt;span class=&#34;nb&#34;&gt;close&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$FH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;



&lt;span class=&#34;cp&#34;&gt;__END__
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=pod 
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=head1 NAME
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;lazy_raku_unicode.pl
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=head1 SYNOPSIS
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;This script allows you to select a Unicode symbol from a drop-down menu that you can simply paste into your text editor, terminal or IDE.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;All it does is send a heredoc through a pipe to dmenu, and copy to the clipboard the character that you selected.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;Dmenu is a program that reads lines from stdin, display them in a menu, and write to stdout the lines selected.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;It is not practical to execute this script from a terminal each time you want a character though. This is why it should be executed by sxhkd.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;Sxhkd is the program that will call this script each time you press the right key combination.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;Only the most useful Unicode characters are present to not make dmenu get too slow. (It is usually very fast when there is only ascii text.)
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;This include most of the Raku operators that have a Unicode version, plus some quoting characters, superscripts, and mathematical constants.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=head1 MANUAL INSTALLATION STEPS
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=head2 INSTALLING DMENU
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;B&amp;lt;On Debian or Ubuntu :&amp;gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	sudo apt install suckless-tools
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;B&amp;lt;On Archlinux :&amp;gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	sudo pacman -Sy dmenu
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;B&amp;lt;Compile it from source :&amp;gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	https://tools.suckless.org/dmenu/
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=head2 CHANGING DMENU FONT SIZE (OPTIIONAL)
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;You have only two ways of changing the font size :
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;Change the default font with the B&amp;lt;-fn&amp;gt; flag (See dmenu(1) for the specifics).
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	dmenu -l 30 -fn &amp;#39;-xos4-terminus-medium-r-*-*-10-*&amp;#39;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;Modify directly the C source code of dmenu. Only the files B&amp;lt;config.h / config.def.h&amp;gt;.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;Simply edit this line and change 10 by 14 for example.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	static const char *fonts[] = {
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;		&amp;#34;monospace:size=10&amp;#34;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	};
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;Then execute sudo make install and you&amp;#39;re ready to go.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=head2 INSTALLING SXHKD
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;B&amp;lt;On Debian or Ubuntu :&amp;gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	sudo apt install sxhkd
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;B&amp;lt;On Archlinux :&amp;gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	sudo pacman -Sy sxhkd
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=head2 CONFIGURING SXHKD
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;B&amp;lt;Autostarting sxhkd at startup :&amp;gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;simply put this line in B&amp;lt;~/.xprofile&amp;gt; :
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	sxhkd &amp;amp;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;B&amp;lt;Setting the keybinding :&amp;gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;Add these two lines in B&amp;lt;~/.config/sxhkd/sxhkdrc&amp;gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	ctrl + apostrophe
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;		/path/to/lazy_raku_unicode.pl
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;The keybinding have to start at the beginning of a line, and the command has to follow on the next line and be preceded by a tabulation.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;To make sxhkd reload the config file, either kill it and relaunch it, or send a SIGUSR1 signal. This command can do it :
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;	pidof sxhkd | kill -SIGUSR1 $(cat /dev/stdin)
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;If you want to use a different keybinding, please see sxhkd(1) and use xev(1) to find the name of keys.
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;Here the name of some of the keys : ctrl, super, alt, Return .
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=head1 SEE ALSO
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;dmenu(1), sxhkd(1), xev(1)
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;=cut
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚è€ƒé“¾æ¥: &lt;a href=&#34;https://docs.raku.org/language/unicode_entry&#34;&gt;https://docs.raku.org/language/unicode_entry&lt;/a&gt;&lt;/p&gt;
</description>
                
                        <author>ç„‰çŸ¥éé±¼@fakeEmailToMakeValidatorHappy.com (ç„‰çŸ¥éé±¼)</author>
                
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/categories/raku">Raku</category>
                                
                            
                        
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/raku">Raku</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/unicode">Unicode</category>
                                
                            
                        
                    
                
                <guid>https://ohmyweekly.github.io/notes/2021-03-01-how-to-type-unicode-in-raku/</guid>
                <pubDate>Mon, 01 Mar 2021 00:00:00 +0800</pubDate>
            </item>
        
            
            <item>
                <title>Method-ish</title>
                <link>https://ohmyweekly.github.io/notes/2021-02-17-method-isd/</link>
                
                
                <description>&lt;blockquote&gt;Method-ish&lt;/blockquote&gt;&lt;p&gt;åœ¨æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘åˆä¸€æ¬¡ä¸ºä» CORE ä¸­å¢å¼ºç±»çš„æ–¹æ³•è€Œè‹¦æ¼ã€‚è¿™ç§æŒ£æ‰å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæˆ‘å¹¶æ²¡æœ‰ç”¨å¢åŠ çš„æ–¹æ³•æ”¹å˜å¯¹è±¡çš„çŠ¶æ€ã€‚å¯¹äºåšæ›´é«˜çº§çš„ä¸œè¥¿ï¼Œæˆ‘å¯èƒ½ä¸å¾—ä¸è¿™æ ·åšã€‚æŠŠæ‰‹ä¼¸è¿› Raku çš„å†…éƒ¨è¿™ä¹ˆæ·±ï¼Œæˆ‘å¯èƒ½ä¼šæŠŠè‡ªå·±çƒ«ä¼¤ã€‚æ—¢ç„¶æˆ‘æƒ³åšçš„æ˜¯æŠŠæˆ‘çš„ä»£ç ç»‘åœ¨ç¼–è¯‘å™¨çš„å˜åŒ–ä¸Šï¼Œåæ­£æˆ‘å¯èƒ½ä¼šå…¨èº«å¿ƒåœ°æŠ•å…¥åˆ° nqp-land ä¸­å»ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;my \j = 1 | 2 | 3;
dd j;
use nqp;
.say for nqp::getattr(j, Junction, &#39;$!eigenstates&#39;);
# OUTPUT: any(1, 2, 3)
          1
          2
          3
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ nqp æ¥è·å–ç§æœ‰å±æ€§ï¼Œè€Œä¸éœ€è¦æ·»åŠ ä»»ä½•æ–¹æ³•ã€‚è¿™å°±æœ‰ç‚¹å„¿ä¸ä¼¦ä¸ç±»äº†ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬ç”¨ä¸€ä¸ªä¼ªæ–¹æ³•æ¥åšä¸€äº› deboilerplatingã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;sub pry(Mu $the-object is raw) {
    use InterceptAllMethods;

    class Interceptor {
        has Mu $!the-object;
        method ^find_method(Mu \type, Str $name) {
            my method (Mu \SELF:) is raw {
                use nqp;
                my $the-object := nqp::getattr(SELF, Interceptor, &#39;$!the-object&#39;);
                nqp::getattr($the-object, $the-object.WHAT, &#39;$!&#39; ~ $name)
            }
        }
    }

    use nqp;
    nqp::p6bindattrinvres(nqp::create(Interceptor), Interceptor, &#39;$!the-object&#39;, $the-object);
}

.say for j.&amp;amp;pry.eigenstates;
# OUTPUT: 1
          2
          3
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é€šè¿‡ InterceptAllMethodsï¼Œlizmat æ”¹å˜äº†ç±»å…³é”®å­—çš„è¡Œä¸ºï¼Œå…è®¸æˆ‘ä»¬æä¾›ä¸€ä¸ª FALLBACK-method æ¥æ•è·ä»»ä½•æ–¹æ³•ï¼ŒåŒ…æ‹¬ä» Mu ç»§æ‰¿çš„æ–¹æ³•ã€‚è¿™åè¿‡æ¥åˆå…è®¸ pry è¿”å›çš„å¯¹è±¡å°†ä»»ä½•æ–¹æ³•è°ƒç”¨è½¬ç§»åˆ°ä¸€ä¸ªè‡ªå®šä¹‰çš„æ–¹æ³•ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ &lt;code&gt;.&amp;amp;pry&lt;/code&gt; è¢«è°ƒç”¨çš„å¯¹è±¡åšä»»ä½•æˆ‘ä»¬æƒ³åšçš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæˆ‘ä»¬çš„ç‰¹æ®Šå¯¹è±¡ä¼šæ‹¦æˆªä»»ä½•è°ƒç”¨ï¼Œç”šè‡³æ˜¯ Mu çš„è°ƒç”¨ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°å¦ä¸€ç§æ–¹æ³•æ¥è°ƒç”¨ &lt;code&gt;.new&lt;/code&gt;ã€‚ç”±äº &lt;code&gt;.^&lt;/code&gt; ä¸æ˜¯ &lt;code&gt;.&lt;/code&gt; çš„ç‰¹æ®Šå½¢å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è·å¾—å¯¹ç±»æ–¹æ³•çš„è®¿é—®ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;sub interceptor(Method $the-method){
    use InterceptAllMethods;
    use nqp;

    sub (Mu $the-object is raw) {
        my class Interceptor {
            has Mu $!the-object;
            has Code $!the-method;

            method ^find_method(Mu \type, Mu:D $name) {
                my method (Mu \SELF: |c) is raw {
                    $!the-method.($!the-object, $name, |c)
                }
            }
            method ^introspect(Mu \type, Mu \obj) {
                my method call-it() is raw {
                    $!the-object
                }
                obj.&amp;amp;call-it;
            }
            method ^new(Mu \type, $the-object!, $the-method) {
                nqp::p6bindattrinvres(
                        nqp::p6bindattrinvres(nqp::create(Interceptor), Interceptor, &#39;$!the-object&#39;, $the-object),
                        Interceptor, &#39;$!the-method&#39;, $the-method)
            }
        }

            # nqp::p6bindattrinvres(
                #     nqp::p6bindattrinvres(nqp::create(Interceptor), Interceptor, &#39;$!the-object&#39;, $the-object),
                #   Interceptor, &#39;$!the-method&#39;, $the-method);
        Interceptor.^new($the-object, $the-method)
    }
}

my &amp;amp;first-defined = interceptor(
    my method (Positional \SELF: $name) {
        for SELF.flat -&amp;gt; $e {
            with $e.&amp;quot;$name&amp;quot;(|%_) {
                .return
            }
        }
        Nil
    }
);

my $file = &amp;lt;file1.txt file2.txt file3.txt nohup.out&amp;gt;Â».IO.&amp;amp;first-defined.open(:r);
dd $file;
# OUTPUT: Handle $file = IO::Handle.new(path =&amp;gt; IO::Path.new(&amp;quot;nohup.out&amp;quot;, :SPEC(IO::Spec::Unix), :CWD(&amp;quot;/home/dex/projects/raku/tmp&amp;quot;)), chomp =&amp;gt; Bool::True, nl-in =&amp;gt; $[&amp;quot;\n&amp;quot;, &amp;quot;\r\n&amp;quot;], nl-out =&amp;gt; &amp;quot;\n&amp;quot;, encoding =&amp;gt; &amp;quot;utf8&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;sub &lt;code&gt;interceptor&lt;/code&gt; æ¥å—ä¸€ä¸ªæ–¹æ³•å¹¶è¿”å›ä¸€ä¸ª subã€‚å¦‚æœè¿™ä¸ª sub åƒæ–¹æ³•ä¸€æ ·è¢«è°ƒç”¨ï¼Œå®ƒå°†æŠŠè¦è¢«è°ƒç”¨çš„æ–¹æ³•çš„åç§°å’Œè°ƒç”¨è€…è½¬å‘ç»™ä¸€ä¸ªè‡ªå®šä¹‰æ–¹æ³•ã€‚å½“ &lt;code&gt;.&amp;amp;first-defined&lt;/code&gt; è¢«è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒæ˜¯ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;my \uhhh-special = &amp;lt;a b c&amp;gt;.&amp;amp;first-defined;
dd uhhh-special.^introspect(uhhh-special);
# OUTPUT: ($(&amp;quot;a&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;c&amp;quot;), method &amp;lt;anon&amp;gt; (Positional \SELF: $name, *%_) { #`(Method|93927752146784) ... })
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘ä»¬å¿…é¡»ç»™ &lt;code&gt;.^introspect&lt;/code&gt; ä¸€ä¸ªæˆ‘ä»¬æƒ³çœ‹çš„å¯¹è±¡ï¼Œå› ä¸ºå®ƒçš„è°ƒç”¨è€…æ˜¯ç±» Interceptor çš„ç±»å‹å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰ï¼Œæˆ‘è¿˜ä¸çŸ¥é“æœ‰ä»€ä¹ˆåŠæ³•ï¼ˆæ¯•ç«Ÿï¼Œæˆ‘çŸ¥é“çš„åªæ˜¯è¶³å¤Ÿå¤šçš„ä¸œè¥¿ï¼ŒçœŸçš„å¾ˆå±é™©ã€‚è¿™æ˜¯ä¸å¹¸çš„ï¼Œå› ä¸º lizmat å†³å®šé‡è½½å…³é”®å­— &lt;code&gt;class&lt;/code&gt;ï¼Œè€Œä¸æ˜¯ç”¨ä¸åŒçš„åå­—å¯¼å‡ºç‰¹æ®Šçš„ &lt;code&gt;Metamodel::ClassHOW&lt;/code&gt;ã€‚å¦‚æœæˆ‘ä»¬ä¸æƒ³æˆ–ä¸èƒ½æœ‰å¤–éƒ¨ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ MOP æ¥åˆ›å»ºæˆ‘ä»¬çš„ç±»å‹å¯¹è±¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;class InterceptHOW is Metamodel::ClassHOW {
    method publish_method_cache(|) { }
}

sub ipry(Mu $the-object is raw) {
    my \Interceptor = InterceptHOW.new_type(:name&amp;lt;Interceptor&amp;gt;);
    Interceptor.^add_attribute(Attribute.new(:name&amp;lt;$!the-object&amp;gt;, :type(Mu), :package(Interceptor)));
    Interceptor.^add_meta_method(&#39;find_method&#39;,
        my method find_method(Mu \type, Str $name) {
            # say â€looking for $nameâ€œ;
            my method (Mu \SELF:) is raw {
                use nqp;
                my $the-object := nqp::getattr(SELF, Interceptor, &#39;$!the-object&#39;);
                nqp::getattr($the-object, $the-object.WHAT, &#39;$!&#39; ~ $name)
            }
    });
    Interceptor.^compose;

    use nqp;
    nqp::p6bindattrinvres(nqp::create(Interceptor), Interceptor, &#39;$!the-object&#39;, $the-object);
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å½“æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘å‘ç° &lt;code&gt;.^add_meta_method&lt;/code&gt; åªæœ‰åœ¨æä¾›ç»™å®ƒçš„æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„åå­—å’Œ &lt;code&gt;Str&lt;/code&gt; ç›¸åŒçš„æ—¶å€™æ‰ä¼šå·¥ä½œã€‚èµ·åˆï¼Œæˆ‘å°è¯•äº†ä¸€ä¸ªåŒ¿åæ–¹æ³•ï¼Œå®ƒæœ€ç»ˆå‡ºç°åœ¨ &lt;code&gt;.^meta_method_table&lt;/code&gt; ä¸­ï¼Œä½†ä»æœªè¢«è°ƒç”¨ã€‚æˆ‘æƒ³è¿™ä¸ª bug å…¶å®å¹¶ä¸é‡è¦ï¼Œå› ä¸ºè¿™ä¸ªå…ƒæ–¹æ³•æ ¹æœ¬æ²¡æœ‰è¢«è®°å½•ä¸‹æ¥ã€‚å¦‚æœæˆ‘ç©ç«ï¼Œæˆ‘æ²¡æœ‰æƒåˆ©æŠ±æ€¨çƒ§ä¼¤ã€‚ä½ ä¼šåœ¨é‡å¤–çš„ &lt;code&gt;Actions.nqp&lt;/code&gt; ä¸­å‘ç°è¿™ä¸ªæ–¹æ³•ã€‚Class å…³é”®å­—å¹¶æ²¡æœ‰ä»€ä¹ˆç¥å¥‡çš„ä½œç”¨ã€‚Rakudo åªæ˜¯ä½¿ç”¨ MOP æ¥æ„é€ ç±»å‹å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¸èƒ½åœ¨ Raku ä¸­é‡è½½èµ‹å€¼æ“ä½œç¬¦ã€‚è¿™å…¶å®å¹¶ä¸éœ€è¦ï¼Œå› ä¸ºèµ‹å€¼æ˜¯é€šè¿‡è°ƒç”¨ä¸€ä¸ªåä¸º STORE çš„æ–¹æ³•æ¥å®ç°çš„ã€‚ç”±äºæˆ‘ä»¬å¾—åˆ°äº†å¯¹ dispatch çš„å®Œå…¨æ§åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¦æˆªä»»ä½•æ–¹æ³•è°ƒç”¨ï¼ŒåŒ…æ‹¬ä¸€è¿ä¸²çš„æ–¹æ³•è°ƒç”¨ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;multi sub methodify(%h, :$deeply!) {
    sub interceptor(%h, $parent = Nil){
        use InterceptAllMethods;
        use nqp;

        class Interceptor is Callable {
            has Mu $!the-object;
            has Mu @!stack;

            method ^find_method(Mu \type, Mu:D $name) {
                my method (Mu \SELF: |c) is raw {
                    my @new-stack = @!stack;
                    my $the-object = $!the-object;

                    if $name eq &#39;STORE&#39; {
                        # workaround for rakudobug#4203
                        $the-object{||@new-stack.head(*-1)}:delete if $the-object{||@new-stack.head(*-1)}:exists;

                        $the-object{||@new-stack} = c;
                        return-rw c
                    } else {
                        @new-stack.push: $name;
                        my \nextlevel = SELF.^new($!the-object, @new-stack, $name);
                        nextlevel
                    }
                }
            }
            method ^introspect(Mu \type, Mu \obj) {
                my method call-it() is raw {
                    $!the-object, @!stack
                }
                obj.&amp;amp;call-it;
            }
            method ^new(Mu \type, $the-object!, @new-stack?, $name?) {
                $name
                    ?? nqp::p6bindattrinvres(
                        nqp::p6bindattrinvres(nqp::create(Interceptor), Interceptor, &#39;$!the-object&#39;, $the-object),
                        Interceptor, &#39;@!stack&#39;, @new-stack)
                    !! nqp::p6bindattrinvres(nqp::create(Interceptor), Interceptor, &#39;$!the-object&#39;, $the-object)
                }
        }

        Interceptor.^new(%h)
    }

    interceptor(%h)
}

my %h2;
my $o2 = methodify(%h2, :deeply);
$o2.a.b = 42;
dd %h2;
$o2.a.b.c = &amp;lt;answer&amp;gt;;
dd %h2;
say $o2.a.b.c;
# OUTPUT: Hash %h2 = {:a(${:b(\(42))})}
          Hash %h2 = {:a(${:b(${:c(\(&amp;quot;answer&amp;quot;))})})}
          This type cannot unbox to a native string: P6opaque, Interceptor
            in block &amp;lt;unit&amp;gt; at /home/dex/projects/raku/any-chain.raku line 310
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¯å½“æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Interceptor å®ä¾‹ï¼Œå®ƒå­˜å‚¨äº†å‰ä¸€ä¸ªæ–¹æ³•çš„åç§°ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ²¿ç€æ–¹æ³•è°ƒç”¨é“¾ç§»åŠ¨ã€‚ç”±äºèµ‹å€¼è°ƒç”¨ STOREï¼Œæˆ‘ä»¬å¯ä»¥å°†èµ‹å€¼è½¬ç§»åˆ°æˆ‘ä»¬ç”¨ä½œå®é™…æ•°æ®ç»“æ„çš„ Hash ä¸­ã€‚å”‰ï¼Œæ£€ç´¢å€¼å°±ä¸ä¸€æ ·äº†ï¼Œå› ä¸º Raku ä¸åŒºåˆ†æ–¹æ³•è°ƒç”¨å’Œ FETCHã€‚åœ¨è¿™é‡Œï¼Œé¾™æ¯”æˆ‘å¼ºã€‚æˆ‘è¿˜æ˜¯åŒ…å«äº†è¿™ä¸ªä¸€åŠå¤±è´¥çš„å°è¯•ï¼Œå› ä¸ºæˆ‘å¯¹ slippy åŠåˆ—è¡¨æœ‰å¾ˆå¥½çš„åˆ©ç”¨ã€‚è¿™éœ€è¦ä½¿ç”¨ &lt;code&gt;v6.e.preview&lt;/code&gt;ï¼Œè®©æˆ‘è¸©åˆ°äº†ä¸€ä¸ª bugã€‚å¯èƒ½è¿˜æœ‰æ›´å¤šè¿™æ ·çš„æƒ…å†µã€‚æ‰€ä»¥è¯·ä½¿ç”¨åŒæ ·çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ &lt;code&gt;.e&lt;/code&gt; å‘å¸ƒåˆ°é‡å¤–ä¹‹å‰ï¼ŒæŠŠæ‰€æœ‰çš„é‡å…½éƒ½æ€æ‰ã€‚&lt;/p&gt;
&lt;p&gt;èƒ½å¤Ÿå®Œå…¨æ§åˆ¶æ–¹æ³•è°ƒç”¨é“¾å°†æ˜¯ä¸€ä»¶å¥½äº‹ã€‚ä¹Ÿè®¸æˆ‘ä»¬å¯ä»¥ç”¨ RakuAST æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº†è¿™äº›å·²ç»å¯ä»¥å·¥ä½œçš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥åšä¸€äº›æœ‰è¶£çš„äº‹æƒ…ã€‚é‚£äº›çƒ¦äººçš„å¼‚å¸¸æ€»æ˜¯åœ¨æ‹–æˆ‘ä»¬çš„åè…¿ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ &lt;code&gt;try&lt;/code&gt; æ¥åŒ–è§£å®ƒä»¬ï¼Œä½†é‚£ä¼šç ´åä¸€ä¸ªæ–¹æ³•è°ƒç”¨é“¾ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;constant no-argument-given = Mu.new;
sub try(Mu $obj is raw, Mu $alternate-value = no-argument-given) {
    interceptor(my method (Mu \SELF: $name, |c) {
        my $o = SELF;
        my \m = $o.^lookup($name) orelse {
            my $bt = Backtrace.new;
            my $idx = $bt.next-interesting-index($bt.next-interesting-index + 1);
            (X::Method::NotFound.new(:method($name), :typename($o.^name)) but role :: { method vault-backtrace { False }}).throw(Backtrace.new($idx + 1));
        }

        try {
            $o = $o.&amp;quot;$name&amp;quot;(|c);
        }
 
        $! ~~ Exception
            ?? $alternate-value.WHICH eqv no-argument-given.WHICH
                ?? $o
                !! $alternate-value
            !! $o
    }).($obj)
}

class C {
    has $.greeting;
    method might-throw { die &amp;quot;Not today love!&amp;quot; }
    method greet { say $.greeting }
}

C.new(greeting =&amp;gt; â€šLet&#39;s make love!â€˜).&amp;amp;try.might-throw.greet;
# OUTPUT: Let&#39;s make love!
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¼ªæ–¹æ³• try å°†ä¼šåŒ–è§£ä»»ä½•å¼‚å¸¸ï¼Œå¹¶å…è®¸ç»§ç»­è°ƒç”¨ C è¯­è¨€çš„æ–¹æ³•ã€‚æˆ‘å¿…é¡»ç”¨ä¸€ä¸ªç‰¹æ®Šçš„å€¼æ¥æ ‡è®°æ²¡æœ‰å¯é€‰çš„å‚æ•° &lt;code&gt;$alternate-value&lt;/code&gt;ï¼Œå› ä¸ºå®ƒå®é™…ä¸Šå¯èƒ½ä¼šæŠŠå¼‚å¸¸å¯¹è±¡å˜æˆ &lt;code&gt;Nil&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å¾ˆè‚¯å®šè¿˜æœ‰å¾ˆå¤šè¿™æ ·çš„å°å¸®æ‰‹åœ¨ç­‰ç€æˆ‘ä»¬å»å‘ç°ã€‚æœªæ¥å¯èƒ½ä¼šæœ‰ä¸€ä¸ªæ¨¡å—ï¼Œå¸Œæœ›èƒ½å¸®åŠ© Raku æˆä¸ºä¸€ä¸ªå¥½çš„&lt;a href=&#34;https://ftp.fau.de/fosdem/2021/D.perl/programming_lang_for_free_software.webm&#34;&gt;ç¼–ç¨‹è¯­è¨€&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥: &lt;a href=&#34;https://gfldex.wordpress.com/2021/02/17/method-ish/&#34;&gt;https://gfldex.wordpress.com/2021/02/17/method-ish/&lt;/a&gt;&lt;/p&gt;
</description>
                
                        <author>ç„‰çŸ¥éé±¼@fakeEmailToMakeValidatorHappy.com (ç„‰çŸ¥éé±¼)</author>
                
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/categories/raku">Raku</category>
                                
                            
                        
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/raku">Raku</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/raku-%E5%8D%9A%E5%AE%A2">Raku åšå®¢</category>
                                
                            
                        
                    
                
                <guid>https://ohmyweekly.github.io/notes/2021-02-17-method-isd/</guid>
                <pubDate>Sun, 28 Feb 2021 00:00:00 +0800</pubDate>
            </item>
        
            
            <item>
                <title>æ¨¡å¼åˆ†æ´¾</title>
                <link>https://ohmyweekly.github.io/notes/2021-02-28-pattern-dispatch/</link>
                
                
                <description>&lt;blockquote&gt;Pattern Dispatch&lt;/blockquote&gt;&lt;p&gt;ä¸€ç›´ä»¥æ¥ä¹äºåŠ©äººçš„ &lt;a href=&#34;https://stackoverflow.com/users/1077672/raiph&#34;&gt;raiph&lt;/a&gt; åœ¨å›ç­”ä¸€ä¸ªå…³äºæ¨¡å¼åŒ¹é…çš„&lt;a href=&#34;https://stackoverflow.com/questions/66233465/haskell-like-pattern-matching-in-raku&#34;&gt;é—®é¢˜&lt;/a&gt;æ—¶å¸Œæœ›å¾—åˆ° RakuASTï¼Œå°±åƒåœ¨ Haskell ä¸­ä¸€æ ·ã€‚æœ‰äººæå‡ºç”¨ MMD æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™æ ·åšï¼Œå¾—åˆ°ä¸€ä¸ªè´¯ç©¿çš„é»˜è®¤è·¯å¾„æ˜¯æ— è§£çš„ã€‚ç”±äº dispatch ç®€å•æ¥è¯´å°±æ˜¯æ¨¡å¼åŒ¹é…ï¼Œæˆ‘ä»¬åªéœ€è¦åšä¸€äº›é¢å¤–çš„å·¥ä½œã€‚ç®€è€Œè¨€ä¹‹ï¼Œdispatcher å¾—åˆ°ä¸€ä¸ªå‡½æ•°åˆ—è¡¨å’Œä¸€ä¸ªå¸¦å‚æ•°çš„åˆ—è¡¨ã€‚ç¬¬ä¸€ä¸ªæ¥å—æ‰€æœ‰å‚æ•°çš„å‡½æ•°è·èƒœã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;class Hold { has $.key; }
class Press { has $.key; }
class Err { has $.msg; }

sub else(&amp;amp;code) { &amp;amp;code }

sub match($needle, *@tests) {
    for @tests.head(*-1) -&amp;gt; &amp;amp;f {
        if &amp;amp;f.cando(\($needle)) {
            return f($needle);
        }
    }
    @tests.tail.();
}

match Hold.new(:key&amp;lt;a&amp;gt;),
    -&amp;gt; Hold (:$key) { put â€holding $keyâ€œ; },
    -&amp;gt; Press (:$key) { put â€pressing $keyâ€œ; },
    -&amp;gt; Err (:$msg) { warn â€ERR: $msgâ€œ },
    else { fail â€šunsopportedâ€˜ };
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ–¹æ³• &lt;code&gt;.cando&lt;/code&gt; éœ€è¦ä¸€ä¸ª &lt;a href=&#34;https://docs.raku.org/type/Capture&#34;&gt;Capture&lt;/a&gt; æ¥å‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ª Routine æ˜¯å¦å¯ä»¥ç”¨ä¸€ä¸ªç»™å®šçš„å‚æ•°åˆ—è¡¨æ¥è°ƒç”¨ã€‚ä¸ºäº†åˆ›å»ºè¿™æ ·ä¸€ä¸ªæ•è·ï¼Œæˆ‘ä»¬ä½¿ç”¨å­—é¢çš„ &lt;code&gt;\($arguments, $go, $here)&lt;/code&gt;ã€‚æˆ‘ä»¬ä¸åœ¨æœ€åæµ‹è¯•é»˜è®¤å€¼ã€‚ç›¸åï¼Œå½“æ²¡æœ‰å…¶ä»–å‡½æ•°åŒ¹é…æ—¶ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚å£°æ˜ sub &lt;code&gt;else&lt;/code&gt; åªæ˜¯ä¸ºäº†ç¾åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæˆ‘ä»¬æ˜¯åœ¨å‡½æ•°å¼çš„åœŸåœ°ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Raku æä¾›ç»™æˆ‘ä»¬çš„æ‰€æœ‰æ–¹ä¾¿çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;my &amp;amp;key-matcher = &amp;amp;match.assuming(*,[
        -&amp;gt; Hold (:$key) { put â€holding $keyâ€œ; },
        -&amp;gt; Press (:$key) { put â€pressing $keyâ€œ; },
        -&amp;gt; Err (:$msg) { warn â€ERR: $msgâ€œ },
        else { fail â€šunsopportedâ€˜ };
]);

sub key-source {
    gather loop {
        sleep 1;
        take (Hold.new(:key&amp;lt;a&amp;gt;), Press.new(:key&amp;lt;b&amp;gt;), Err.new(:msg&amp;lt;WELP!&amp;gt;), &#39;unsupported&#39;).pick;
    }
}

.&amp;amp;key-matcher for key-source;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘ä»¬è¦å¸®åŠ© &lt;code&gt;.assuming&lt;/code&gt; æœ‰ç‚¹ç†è§£ slurpiesï¼ŒæŠŠå‡½æ•°åˆ—è¡¨æ”¾åœ¨ä¸€ä¸ªæ˜¾å¼ Array ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æ€»æœ‰ä¸€ç§å‡½æ•°å¼çš„æ–¹æ³•æ¥è§£å†³ä¸€ä¸ªé—®é¢˜ã€‚æœ‰æ—¶æˆ‘ä»¬ç”šè‡³å¯ä»¥ä»ä¸­å¾—åˆ°ä¸€ä¸ªæ•´é½çš„è¯­æ³•ã€‚&lt;/p&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥: &lt;a href=&#34;https://gfldex.wordpress.com/2021/02/24/pattern-dispatch/&#34;&gt;https://gfldex.wordpress.com/2021/02/24/pattern-dispatch/&lt;/a&gt;&lt;/p&gt;
</description>
                
                        <author>ç„‰çŸ¥éé±¼@fakeEmailToMakeValidatorHappy.com (ç„‰çŸ¥éé±¼)</author>
                
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/categories/raku">Raku</category>
                                
                            
                        
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/raku">Raku</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/raku-%E5%8D%9A%E5%AE%A2">Raku åšå®¢</category>
                                
                            
                        
                    
                
                <guid>https://ohmyweekly.github.io/notes/2021-02-28-pattern-dispatch/</guid>
                <pubDate>Sun, 28 Feb 2021 00:00:00 +0800</pubDate>
            </item>
        
            
            <item>
                <title>è‡ªå®šä¹‰ when</title>
                <link>https://ohmyweekly.github.io/notes/2021-02-28-custom-when/</link>
                
                
                <description>&lt;blockquote&gt;Custom When&lt;/blockquote&gt;&lt;p&gt;æˆ‘ä¸å¤ªå–œæ¬¢ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ä½¿ç”¨åŒ¹é…çš„è¯­æ³•ã€‚å®ƒçš„å‚æ•°åˆ—è¡¨ä¸­çš„é€—å·çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼Œä¸åˆé€‚ã€‚ä¹Ÿè®¸æ˜¯å› ä¸ºæˆ‘çš„çœ¼ç›ä¹ æƒ¯äº†ç»™å®šçš„å—ã€‚ç¡ä¸€è§‰å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;sub accord(&amp;amp;c) { (c(CALLER::&amp;lt;$_&amp;gt;); succeed) if &amp;amp;c.cando(\(CALLER::&amp;lt;$_&amp;gt;)) }

given Err.new(:msg&amp;lt;a&amp;gt;) {
    accord -&amp;gt; Hold (:$key) { put â€holding $keyâ€œ; }
    accord -&amp;gt; Err (:$msg) { warn â€ERR: $msgâ€œ }
    default { fail â€šunsupportedâ€˜ }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ˜¯å› ä¸º &lt;code&gt;accord&lt;/code&gt; æ¨¡ä»¿äº† &lt;code&gt;when&lt;/code&gt; çš„å·¥ä½œã€‚å®ƒåšäº†ä¸€äº›åŒ¹é…ï¼Œå½“ True æ—¶è°ƒç”¨ä¸€ä¸ªå—ï¼Œå¹¶åœ¨æ¯ä¸ªå—çš„ç»“å°¾æ·»åŠ ä¸€ä¸ª successï¼ˆé€šè¿‡æŠ›å‡ºä¸€ä¸ªæ§åˆ¶å¼‚å¸¸ï¼‰ã€‚given æ‰€åšçš„åªæ˜¯è®¾ç½®ä¸»é¢˜ã€‚å®ƒè¿˜å……å½“äº† caller çš„è§’è‰²ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªä¼ªåŒ…æ¥è®¿é—®å®ƒçš„ &lt;code&gt;$_&lt;/code&gt;ã€‚åˆ©ç”¨ pointy çš„ç­¾åæ¥åš&lt;a href=&#34;https://docs.raku.org/type/Signature#Destructuring_arguments&#34;&gt;è§£æ„&lt;/a&gt;æ˜¯ç›¸å½“å¼ºå¤§çš„ã€‚æŠŠè¿™ä¸ªæ·»åŠ åˆ° CORE ä¸­å¯èƒ½æ˜¯ä¸ªå¥½ä¸»æ„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯èƒ½è¦æŠŠ Raku çš„å®šä¹‰æ”¹æˆ: &amp;ldquo;Raku æ˜¯ä¸€ç§é«˜åº¦å¯ç»„åˆçš„ç¼–ç¨‹è¯­è¨€&amp;rdquo;, åœ¨è¿™é‡Œï¼Œæ‰€æœ‰çš„ä¸œè¥¿éƒ½ä¼šè½åˆ°å®å¤„ã€‚&amp;quot;&lt;/p&gt;
&lt;p&gt;æ›´æ–°ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº›æƒ…å†µä¸‹ï¼Œ&lt;code&gt;$_&lt;/code&gt; ä¸æ˜¯åŠ¨æ€çš„ã€‚å¦å¤–ï¼Œsuccess æ­£åœ¨æŠ›å‡ºä¸€ä¸ªæ§åˆ¶å¼‚å¸¸ï¼Œè€Œè¿™äº›çš„å¤„ç†ç¨‹åºæ˜¯ç”± when æˆ–é»˜è®¤æ·»åŠ çš„ã€‚è¿™ç§æƒ…å†µæ˜¯åœ¨ç¼–è¯‘æ—¶å‘ç”Ÿçš„ï¼Œç›®å‰ä¸èƒ½ç”¨å®æ¥è§£å†³ã€‚ç¬¬ä¸€ä¸ªé—®é¢˜å¯ä»¥ç”¨é»‘é­”æ³•è§£å†³ã€‚åä¸€ä¸ªé—®é¢˜éœ€è¦ç”¨é»˜è®¤å—ã€‚æˆ‘æ²¡æœ‰æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥æä¾›ä¸€ä¸ªåˆç†çš„é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœç¼ºå°‘è¿™ä¸ªå—ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;multi sub accord(&amp;amp;c) {
    use nqp;
    $_ := nqp::getlexcaller(&#39;$_&#39;);
    (c($_); succeed) if &amp;amp;c.cando(\($_))
}

for @possibilities.roll(1) -&amp;gt; $needle {
    given $needle {
        accord -&amp;gt; Hold (:$key) { put â€holding $keyâ€œ; }
        accord -&amp;gt; Err (:$msg) { warn â€ERR: $msgâ€œ }
        default { warn â€šunsopportedâ€˜ }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åŸæ–‡é“¾æ¥: &lt;a href=&#34;https://gfldex.wordpress.com/2021/02/25/custom-when/&#34;&gt;https://gfldex.wordpress.com/2021/02/25/custom-when/&lt;/a&gt;&lt;/p&gt;
</description>
                
                        <author>ç„‰çŸ¥éé±¼@fakeEmailToMakeValidatorHappy.com (ç„‰çŸ¥éé±¼)</author>
                
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/categories/raku">Raku</category>
                                
                            
                        
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/raku">Raku</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/rakulang">Rakulang</category>
                                
                            
                        
                    
                
                <guid>https://ohmyweekly.github.io/notes/2021-02-28-custom-when/</guid>
                <pubDate>Sun, 28 Feb 2021 00:00:00 +0800</pubDate>
            </item>
        
            
            <item>
                <title>Caesarean Substrings With Raku and Perl</title>
                <link>https://ohmyweekly.github.io/notes/2021-01-30-caesarean-substrings-with-raku-and-perl/</link>
                
                
                <description>&lt;blockquote&gt;Caesarean Substrings With Raku and Perl&lt;/blockquote&gt;&lt;p&gt;[113] å‘è¡¨äº2021å¹´1æœˆ30æ—¥ã€‚
è¿™æ˜¯æˆ‘å¯¹ &lt;a href=&#34;https://perlweeklychallenge.org/blog/perl-weekly-challenge-097/&#34;&gt;Perl æ¯å‘¨æŒ‘æˆ˜#097&lt;/a&gt; çš„å›åº”ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æŒ‘æˆ˜-0971-å‡¯æ’’å¯†ç &#34;&gt;æŒ‘æˆ˜ #097.1: å‡¯æ’’å¯†ç &lt;/h2&gt;
&lt;p&gt;ç»™ä½ ä¸€ä¸ªåªåŒ…å«å­—æ¯ &lt;code&gt;A..Z&lt;/code&gt; çš„å­—ç¬¦ä¸² &lt;code&gt;$S&lt;/code&gt; å’Œä¸€ä¸ªæ•°å­— &lt;code&gt;$N&lt;/code&gt;ã€‚
å†™ä¸€ä¸ªè„šæœ¬ï¼Œç”¨&lt;a href=&#34;https://en.wikipedia.org/wiki/Caesar_cipher&#34;&gt;å‡¯æ’’å¯†ç &lt;/a&gt;å¯¹ç»™å®šçš„å­—ç¬¦ä¸² &lt;code&gt;$S&lt;/code&gt; è¿›è¡ŒåŠ å¯†ï¼Œå·¦ç§»å¤§å°ä¸º &lt;code&gt;$N&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å­:
è¾“å…¥: $S = &amp;ldquo;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&amp;rdquo;, $N = 3
è¾“å‡º: &amp;ldquo;QEB NRFZH YOLTK CLU GRJMP LSBO QEB IXWV ALD&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Plain:    ABCDEFGHIJKLMNOPQRSTUVWXYZ
Cipher:   XYZABCDEFGHIJKLMNOPQRSTUVW&lt;/p&gt;
&lt;p&gt;Plaintext:  THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG
Ciphertext: QEB NRFZH YOLTK CLU GRJMP LSBO QEB IXWV ALD&lt;/p&gt;
&lt;p&gt;&amp;ldquo;åªç”¨å­—æ¯ &lt;code&gt;A...Z&lt;/code&gt;&amp;rdquo; çš„è¡¨è¿°æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºä¾‹å­ä¸­ä¹Ÿæœ‰å‡ ä¸ªç©ºæ ¼ã€‚å› æ­¤ï¼Œåº”è¯¥å…è®¸è¿™äº›ç©ºæ ¼ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶: caesar-cipher&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;#! /usr/bin/env raku

subset AZ-space of Str where /^ &amp;lt;[ A .. Z \s ]&amp;gt;+ $/;   # [1]
subset PosInt of Int where -25 &amp;lt;= $_ &amp;lt;= 25;            # [2]

unit sub MAIN (AZ-space $S = &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39;,
               PosInt $N = 3);                         # [3]

say $S.comb.map({ caesar($_, $N) }).join;              # [4]

sub caesar ($char, $shift)
{
  return $char if $char eq &amp;quot; &amp;quot;;                        # [5]

  my $code = $char.ord;                                # [6]

  $code -= $shift;                                     # [7]

  $code += 26 if $code &amp;lt; 65;  # &#39;A&#39;                    # [8]
  $code -= 26 if $code &amp;gt; 90;  # &#39;Z&#39;                    # [8a]

  return $code.chr;                                    # [9]
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;[1] æ‰€å…è®¸çš„å­—ç¬¦ (æˆ– Â«ç‰¹å®šé¢†åŸŸå­—æ¯Â»).&lt;/p&gt;
&lt;p&gt;[2] æŒ‘æˆ˜è¯´å·¦ç§»å€¼æ˜¯ä¸€ä¸ªæ•°å­—ã€‚å…è®¸é™¤æ•´æ•°ä»¥å¤–çš„ä»»ä½•ä¸œè¥¿æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥æˆ‘æŠŠå€¼é™åˆ¶åœ¨è¿™ä¸ªç±»å‹ã€‚è´Ÿå€¼åº”è¯¥æ˜¯å¯ä»¥çš„ï¼Œå®ƒä»¬æ„å‘³ç€å³ç§»å€¼ï¼ˆè€Œä¸æ˜¯å·¦ç§»ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;[3] å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºæŒ‘æˆ˜ä¸­ç»™å‡ºçš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;[4] å°†å­—ç¬¦ä¸²åˆ†å‰²æˆå•ä¸ªå­—ç¬¦ï¼ˆç”¨æ¢³å­(comb)ï¼Œåœ¨æ¯ä¸ªå­—ç¬¦ä¸Šåº”ç”¨ &amp;ldquo;caesar&amp;rdquo; å‡½æ•°ï¼ˆç”¨mapï¼‰ï¼Œå†æ¬¡å°†å­—ç¬¦è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆç”¨joinï¼‰ï¼Œç„¶åæ‰“å°å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;[5] ä¸ç§»åŠ¨ç©ºæ ¼ã€‚&lt;/p&gt;
&lt;p&gt;[6] è·å–å­—ç¬¦çš„ä»£ç ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;[7] å‡å»ç§»ä½å€¼ï¼ˆå½“æˆ‘ä»¬å‘å·¦ç§»ä½æ—¶ï¼Œæˆ–åœ¨å­—æ¯è¡¨ä¸­é™ä½ç§»ä½å€¼ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;[8] ç»•å›, å¦‚æœæˆ‘ä»¬ç§»å‡ºA-ZèŒƒå›´ï¼Œè¿™é‡Œä¸ºæ›´ä½ - æˆ–æ›´é«˜çš„ [8b]ã€‚&lt;/p&gt;
&lt;p&gt;[9] è·å–æŒ‡å®šä»£ç ç‚¹çš„å­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ docs.raku.org/routine/ord è·å–æ›´å¤šå…³äº ord çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ docs.raku.org/routine/chr è·å–æ›´å¤šå…³äº chr çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œå®ƒ:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./caesar-cipher &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; 3
QEB NRFZH YOLTK CLU GRJMP LSBO QEB IXWV ALD

$ ./caesar-cipher &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; -3
WKH TXLFN EURZQ IRA MXPSV RYHU WKH ODCB GRJ

$ ./caesar-cipher &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; 13
GUR DHVPX OEBJA SBK WHZCF BIRE GUR YNML QBT

$ ./caesar-cipher &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; -13
GUR DHVPX OEBJA SBK WHZCF BIRE GUR YNML QBT
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Raku æœ‰ä¸€ä¸ª ords å˜ä½“ï¼Œå®ƒæ¥æ”¶ä¸€æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä½œä¸º ordã€‚è¿˜æœ‰ chrsï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªä»£ç ç‚¹æ•°ç»„ï¼Œå¹¶å°†å®ƒä»¬å˜æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯åƒ chr é‚£æ ·æ¥æ”¶ä¸€ä¸ªå­—ç¬¦çš„ä»£ç ç‚¹ã€‚è®©æˆ‘ä»¬ç”¨å®ƒä»¬æ¥å†™ä¸€ä¸ªæ›´çŸ­çš„ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶: caesar-cipher-map&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;#! /usr/bin/env raku

subset AZ-space of Str where /^ &amp;lt;[ A .. Z \s ]&amp;gt;+ $/;
subset PosInt of Int where -25 &amp;lt;= $_ &amp;lt;= 25;

unit sub MAIN (AZ-space $S = &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39;,
               PosInt $N = 3);

say caesar($S, $N);

sub caesar ($string, $shift)
{
  return $string.ords.map({$_ == 32 ?? 32 !! (($_ - $shift - 65) % 26 ) + 65}).chrs;
    # #################### # 1a ############# ############ # 1b  # 1c ## 1d
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;[1] æˆ‘ä»¬ä½¿ç”¨mapæ¥æ”¹å˜å„ä¸ªä»£ç ç‚¹ã€‚æˆ‘ä»¬è®©ä»£ç ç‚¹ä¸º32çš„ç©ºé—´å•ç‹¬å­˜åœ¨[1a]ã€‚æ¯ä¸€ä¸ªå…¶ä»–çš„å€¼æˆ‘ä»¬éƒ½è¿˜åŸæˆ0åˆ°25ä¹‹é—´çš„æ•°å­—ï¼ˆé€šè¿‡å‡å»ç¬¬ä¸€ä¸ªå­—æ¯çš„ä»£ç ç‚¹ï¼ˆAï¼š65ï¼‰å’Œç§»ä½å€¼[1b]ï¼‰ã€‚æ¨¡æ•°è¿ç®—ç¬¦ (%) ä¸ºæˆ‘ä»¬å¤„ç†è´Ÿå€¼ï¼Œåšæ­£ç¡®çš„äº‹æƒ…ã€‚ä¾‹å¦‚ï¼š-2 % 26 -&amp;gt; 24 [1c]ã€‚ç„¶åæˆ‘ä»¬æ·»åŠ è°ƒæ•´å€¼åˆ°å®ƒä»¬åº”è¯¥åœ¨çš„ä½ç½®(ä»Aåˆ°Z)[1d]ï¼Œç„¶åæˆ‘ä»¬å°†æ•´ä¸ªæ•°ç»„çš„ä»£ç ç‚¹å˜æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ docs.raku.org/routine/ords è·å–æ›´å¤šå…³äº ords çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ docs.raku.org/routine/chrs è·å–æ›´å¤šå…³äº chrs çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œå®ƒçš„ç»“æœå’Œä¹‹å‰ä¸€æ ·ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./caesar-cipher-map &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; 3
QEB NRFZH YOLTK CLU GRJMP LSBO QEB IXWV ALD

$ ./caesar-cipher-map &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; -3
WKH TXLFN EURZQ IRA MXPSV RYHU WKH ODCB GRJ

$ ./caesar-cipher-map &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; 13
GUR DHVPX OEBJA SBK WHZCF BIRE GUR YNML QBT

$ ./caesar-cipher-map &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; -13
GUR DHVPX OEBJA SBK WHZCF BIRE GUR YNML QBT
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;perl-ç‰ˆæœ¬&#34;&gt;Perl ç‰ˆæœ¬&lt;/h2&gt;
&lt;p&gt;è¿™æ˜¯å¯¹ç¬¬ä¸€ä¸ª Raku ç‰ˆçš„ç›´æ¥ç¿»è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;File: caesar-cipher-perl&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-perl&#34; data-lang=&#34;perl&#34;&gt;&lt;span class=&#34;ch&#34;&gt;#! /usr/bin/env perl&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;strict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;warnings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;feature&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;say&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;feature&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;signatures&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;no&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;warnings&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;experimental::signatures&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;my&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$S&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;shift&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;@ARGV&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;sr&#34;&gt;//&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;die&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Illegal characters&amp;#34;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;unless&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$S&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=~&lt;/span&gt;&lt;span class=&#34;sr&#34;&gt; /^[A-Z\s]+$/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;my&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;shift&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;@ARGV&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;sr&#34;&gt;//&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;die&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Illegal shift $N&amp;#34;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!~&lt;/span&gt; &lt;span class=&#34;sr&#34;&gt;/^\-?\d+$/&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;25&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;say&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;map&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;caesar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sr&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$S&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;sub&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;caesar&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;($char, $shift)
&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$char&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$char&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;eq&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;k&#34;&gt;my&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;ord&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$char&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

  &lt;span class=&#34;nv&#34;&gt;$code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$shift&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;nv&#34;&gt;$code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;26&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;65&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# &amp;#39;A&amp;#39;&lt;/span&gt;
  &lt;span class=&#34;nv&#34;&gt;$code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;26&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;90&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# &amp;#39;Z&amp;#39;&lt;/span&gt;

  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;chr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$code&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œå®ƒçš„ç»“æœå’Œ Raku ç‰ˆä¸€æ ·ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./caesar-cipher-perl &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; 3
QEB NRFZH YOLTK CLU GRJMP LSBO QEB IXWV ALD

$ ./caesar-cipher-perl &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; -3
WKH TXLFN EURZQ IRA MXPSV RYHU WKH ODCB GRJ

$ ./caesar-cipher-perl &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; 13
GUR DHVPX OEBJA SBK WHZCF BIRE GUR YNML QBT

$ ./caesar-cipher-perl &#39;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&#39; -13
GUR DHVPX OEBJA SBK WHZCF BIRE GUR YNML QBT
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;æŒ‘æˆ˜-0972äºŒè¿›åˆ¶å­å­—ç¬¦ä¸²binary-substrings&#34;&gt;æŒ‘æˆ˜ #097.2ï¼šäºŒè¿›åˆ¶å­å­—ç¬¦ä¸²(Binary Substrings)&lt;/h2&gt;
&lt;p&gt;ç»™ä½ ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸² &lt;code&gt;$B&lt;/code&gt; å’Œä¸€ä¸ªæ•´æ•° &lt;code&gt;$S&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å†™ä¸€ä¸ªè„šæœ¬æ¥æ‹†åˆ†å¤§å°ä¸º &lt;code&gt;$S&lt;/code&gt; çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸² &lt;code&gt;$B&lt;/code&gt;ï¼Œç„¶åæ‰¾å‡ºä½¿å…¶ç›¸åŒçš„æœ€å°ç¿»è½¬æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹ 1:
è¾“å…¥: $B = â€œ101100101â€, $S = 3
è¾“å‡º: 1&lt;/p&gt;
&lt;p&gt;äºŒè¿›åˆ¶å­å­—ç¬¦ä¸²:
&amp;ldquo;101&amp;rdquo;: 0 flip
&amp;ldquo;100&amp;rdquo;: 1 flip to make it &amp;ldquo;101&amp;rdquo;
&amp;ldquo;101&amp;rdquo;: 0 flip&lt;/p&gt;
&lt;p&gt;ä¾‹ 2:
è¾“å…¥ $B = â€œ10110111â€, $S = 4
è¾“å‡º: 2&lt;/p&gt;
&lt;p&gt;äºŒè¿›åˆ¶å­å­—ç¬¦ä¸²:
&amp;ldquo;1011&amp;rdquo;: 0 flip
&amp;ldquo;0111&amp;rdquo;: 2 flips to make it &amp;ldquo;1011&amp;rdquo;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆä»ç¬¬ä¸€ä¸ªä¾‹å­ä¸­çš„äºŒè¿›åˆ¶å­å­—ç¬¦ä¸²ä¸­ç æ‰3ä¸ªå­—ç¬¦å—ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; say &amp;quot;101100101&amp;quot;.comb(3);   # -&amp;gt; (101 100 101)
&amp;gt; say &amp;quot;1011001010&amp;quot;.comb(3);  # -&amp;gt; (101 100 101 0)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¬¬äºŒè¡Œæ˜¾ç¤ºäº†å¦‚æœé•¿åº¦ä¸åŒ¹é…ä¼šå‘ç”Ÿä»€ä¹ˆã€‚è¿™å°±ç»™äº†æˆ‘ä»¬ä¸€ä¸ªéæ³•çš„å€¼ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½å°†ä¸€ä½æ•°ç¿»è½¬ä¸ºä¸‰ä½æ•°çš„å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬å¿…é¡»æ·»åŠ ä¸€ä¸ªæ£€æŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªå­ä¸²ä¸å…¶ä½™çš„å­ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œä¸€æ¬¡ä¸€ä¸ªã€‚åœ¨è¿™é‡Œä½¿ç”¨bitwise XORï¼ˆExclusive ORï¼‰è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªåˆç†çš„é€‰æ‹©ã€‚è¿™ç»™äº†æˆ‘ä»¬ä¸€ä¸ªäºŒè¿›åˆ¶å€¼ï¼Œå…¶ä¸­1çš„æ•°é‡å°±æ˜¯è¯¥å­ä¸²çš„ç¿»è½¬æ¬¡æ•°ã€‚Rakuç¡®å®æœ‰ä¸€ä¸ªXORè¿ç®—ç¬¦ã€‚+^. ä½†æ˜¯å®ƒ &amp;ldquo;å°†ä¸¤ä¸ªå‚æ•°éƒ½å¼ºåˆ¶ä¸ºIntï¼Œå¹¶è¿›è¡Œä½æ™ºXORæ“ä½œ&amp;rdquo;(æ ¹æ®æ–‡æ¡£&amp;quot;ï¼›å‚è§docs.raku.org/language/operators#infix_+^)ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åœ¨è¿›è¡ŒXORæ“ä½œä¹‹å‰ï¼Œå°†äºŒè¿›åˆ¶å€¼è½¬æ¢ä¸ºåè¿›åˆ¶å€¼ã€‚è®©æˆ‘ä»¬è¯•è¯•ã€‚&lt;/p&gt;
&lt;p&gt;è·å–ç¿»è½¬çš„æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; say (&amp;quot;10101&amp;quot;.parse-base(2) +^ &amp;quot;10111&amp;quot;.parse-base(2)).base(2).comb.sum;  # -&amp;gt; 1
&amp;gt; say (&amp;quot;11101&amp;quot;.parse-base(2) +^ &amp;quot;10111&amp;quot;.parse-base(2)).base(2).comb.sum;  # -&amp;gt; 2
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™å½“ç„¶å¯è¡Œï¼Œä½†éœ€è¦å¤§é‡çš„ä»£ç ã€‚æ‰€ä»¥æˆ‘å°†ä½¿ç”¨ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³• - é€ä¸ªæ¯”è¾ƒæ¯ä¸ªæ•°å­—ã€‚&lt;/p&gt;
&lt;p&gt;File: binary-substring&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;#! /usr/bin/env raku

subset BinaryString where /^ &amp;lt;[01]&amp;gt;+ $/;                    # [1]
subset PosInt of Int where * &amp;gt; 0;                           # [2]

unit sub MAIN (BinaryString $B = &#39;101100101&#39;,               # [1]
               PosInt $S where $B.chars %% $S = 3,          # [2]
	       :v(:$verbose));

my @B     = $B.comb($S.Int);                                # [3]
my $first = @B.shift;                                       # [4]
my $total = 0;                                              # [5]

for @B -&amp;gt; $current                                          # [6]
{
  my $flip = bit-diff($first, $current);                    # [7]
  $total += $flip;                                          # [8]
  say &amp;quot;: $first -&amp;gt; $current -&amp;gt; Flip: $flip&amp;quot; if $verbose;
}

say $total;                                                 # [9]

sub bit-diff ($a, $b)                                       # [7]
{
  my $flip = 0;                                             # [10]

  for ^$a.chars -&amp;gt; $index                                   # [11]
  {
    $flip++ if $a.substr($index,1) ne $b.substr($index,1);  # [12]
  }

  return $flip;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;[1] ç¡®ä¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²æ˜¯åˆæ³•çš„ï¼ˆåªåŒ…å« &amp;ldquo;0 &amp;ldquo;å’Œ &amp;ldquo;1&amp;rdquo;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;[2] ç¡®ä¿æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼ŒåŒæ—¶ç¡®ä¿å­—ç¬¦ä¸²æ˜¯è¢«å®ƒå¶æ•°åˆ†å‰²çš„ã€‚(ä¾‹å¦‚ï¼Œ&amp;ldquo;4 &amp;ldquo;ç»™æˆ‘ä»¬æä¾›äº†é•¿åº¦ä¸º4çš„å­ä¸²ï¼Œå¦‚æœæœ€åä¸€ä¸ªè¾ƒçŸ­ï¼Œç¨‹åºå°†ä¸­æ­¢ã€‚)&lt;/p&gt;
&lt;p&gt;[3] æ¢³å­é€šå¸¸ç”¨äºå°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå•ä¸ªå­—ç¬¦ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡å®šé•¿åº¦æ¥è·å¾—æ¯ä¸ªå­å­—ç¬¦ä¸²ä¸­çš„å¤šä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚è¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;[4] ä¾‹å­é¦–å…ˆå°†ç¬¬ä¸€ä¸ªå­ä¸²ä¸è‡ªå·±è¿›è¡Œæ¯”è¾ƒï¼Œç»™å‡ºé›¶ç¿»è½¬ã€‚è¿™æ˜¯æ„šè ¢çš„(ish)ï¼Œæ‰€ä»¥æˆ‘è·³è¿‡è¿™ä¸€ç‚¹ï¼ŒæŠŠç¬¬ä¸€ä¸ªå­ä¸²ç§»å‡ºã€‚&lt;/p&gt;
&lt;p&gt;[5] ç»“æœä¼šåˆ°è¿™é‡Œã€‚&lt;/p&gt;
&lt;p&gt;[6] å¯¹äºæ¯ä¸€ä¸ªå­ä¸²ï¼ˆé™¤äº†ç¬¬ä¸€ä¸ªï¼Œè§[4]ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;[7] è·å–æ¯ä¸ªå­ä¸²çš„ç¿»è½¬æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;[8] å¹¶å°†å…¶æ·»åŠ åˆ°æ€»æ•°ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;[9] æ‰“å°å®ƒã€‚&lt;/p&gt;
&lt;p&gt;[10] ç¿»è½¬çš„æ•°é‡ä¼šåœ¨è¿™é‡Œã€‚&lt;/p&gt;
&lt;p&gt;[11] å¯¹äºä¸¤ä¸ªå­ä¸²ä¸­çš„æ¯ä¸ªç´¢å¼•ï¼ˆå…·æœ‰ç›¸åŒçš„é•¿åº¦ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;[12] - å¦‚æœç»™å®šä½ç½®ä¸Šçš„å­—ç¬¦ä¸åŒï¼Œåˆ™åœ¨æ€»æ•°çš„åŸºç¡€ä¸ŠåŠ 1ï¼Œæ„å‘³ç€ç§»åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;See docs.raku.org/routine/comb for more information about comb.&lt;/p&gt;
&lt;p&gt;è¿è¡Œå®ƒã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./binary-substring &amp;quot;101100101&amp;quot; 3
 1

$ ./binary-substring -v &amp;quot;101100101&amp;quot; 3
: 101 -&amp;gt; 100 -&amp;gt; Flip: 1
: 101 -&amp;gt; 101 -&amp;gt; Flip: 0
1

$ ./binary-substring &amp;quot;10110111&amp;quot; 4
2

$ ./binary-substring -v &amp;quot;10110111&amp;quot; 4
: 1011 -&amp;gt; 0111 -&amp;gt; Flip: 2
2
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;çœ‹èµ·æ¥ä¸é”™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;perl&#34;&gt;Perl&lt;/h2&gt;
&lt;p&gt;è¿™æ˜¯å¯¹ Raku ç‰ˆæœ¬çš„ç›´æ¥ç¿»è¯‘ï¼Œåªæ˜¯æˆ‘å¿…é¡»å®ç° &amp;ldquo;comb&amp;rdquo;ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶ï¼š binary-substring-perl&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-raku&#34; data-lang=&#34;raku&#34;&gt;#! /usr/bin/env perl

use strict;
use warnings;
use feature &#39;say&#39;;
use feature &#39;signatures&#39;;
use Getopt::Long;

no warnings &amp;quot;experimental::signatures&amp;quot;;

my $verbose = 0;

GetOptions(&amp;quot;verbose&amp;quot;  =&amp;gt; \$verbose);

my $B = shift(@ARGV) // &#39;101100101&#39;;

die &amp;quot;Not a binary number&amp;quot; unless $B =~ /^[01]+$/;

my $S = shift(@ARGV) // 3;

die &amp;quot;Not an integer&amp;quot; unless $S =~ /^[1-9][0-9]*$/;
die &amp;quot;Not a legal length&amp;quot; if length($B) % $S;

my @B     =  comb($B, $S);
my $first = shift(@B);
my $total = 0;

for my $current (@B)
{
  my $flip = bit_diff($first, $current);
  $total += $flip;
  say &amp;quot;: $first -&amp;gt; $current -&amp;gt; Flip: $flip&amp;quot; if $verbose;
}

say $total;

sub bit_diff ($a, $b)
{
  my $flip = 0;

  for my $index (0 .. length($a))
  {
    $flip++ if substr($a, $index,1) ne substr($b, $index,1);
  }

  return $flip;
}

sub comb ($string, $length = 1)  # [1]
{
  my @result;

  while ($string)
  {
    push(@result, substr($string, 0, $length));
    $string = substr($string, $length);
  }
  return @result;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;[1] ç¼ºå¤±çš„ Raku ä¾‹ç¨‹ &amp;ldquo;comb&amp;rdquo;ã€‚å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šäº†å®ƒæ‰€è¿”å›çš„æ¯ä¸ªå­ä¸²ä¸­æ‰€åŒ…å«çš„ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°çš„ï¼‰å­ä¸²é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œå®ƒçš„ç»“æœä¸ Raku ç‰ˆæœ¬ç›¸åŒã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./binary-substring-perl &amp;quot;101100101&amp;quot; 3
1

$ ./binary-substring-perl -v &amp;quot;101100101&amp;quot; 3
: 101 -&amp;gt; 100 -&amp;gt; Flip: 1
: 101 -&amp;gt; 101 -&amp;gt; Flip: 0
1

$ ./binary-substring-perl &amp;quot;101100111&amp;quot; 3
2

$ ./binary-substring-perl -v &amp;quot;101100111&amp;quot; 3
: 101 -&amp;gt; 100 -&amp;gt; Flip: 1
: 101 -&amp;gt; 111 -&amp;gt; Flip: 1
2
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å°±æ˜¯è¿™æ ·ã€‚&lt;/p&gt;
</description>
                
                        <author>ç„‰çŸ¥éé±¼@fakeEmailToMakeValidatorHappy.com (ç„‰çŸ¥éé±¼)</author>
                
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/categories/raku">Raku</category>
                                
                            
                        
                     
                        
                             
                            
                                
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/raku">Raku</category>
                                 
                                    <category domain="https://ohmyweekly.github.io/tags/rakulang">Rakulang</category>
                                
                            
                        
                    
                
                <guid>https://ohmyweekly.github.io/notes/2021-01-30-caesarean-substrings-with-raku-and-perl/</guid>
                <pubDate>Sun, 07 Feb 2021 00:00:00 +0800</pubDate>
            </item>
        
    </channel>
</rss>



{"author":{"name":null,"type":"card","url":"http://localhost:1313/"},"content":{"html":"\u003ch1 id=\"sub-main\"\u003eSub MAIN\u003c/h1\u003e\n\u003cp\u003e在 Raku 中，命令行参数的解析是通过 \u003ccode\u003eMAIN\u003c/code\u003e 子例程完成的，\u003ccode\u003eMAIN\u003c/code\u003e 子例程是一种特殊的子例程，它根据 \u003ccode\u003eMAIN\u003c/code\u003e 子例程的签名解析命令行参数。与其他子例程一样，\u003ccode\u003eMAIN\u003c/code\u003e 子例程可以具有命名参数和位置参数、可选(和必需)参数、多重分派等等。\u003c/p\u003e\n\u003cp\u003e有了 \u003ccode\u003eMAIN\u003c/code\u003e 子例程的定义，\u003ccode\u003eUSAGE\u003c/code\u003e 子例程将由编译器自动生成。可以修改此子例程以返回定制的使用消息。所有命令行参数也可以在特殊变量 \u003ccode\u003e@*ARGS\u003c/code\u003e 中使用，它可以在 \u003ccode\u003eMAIN\u003c/code\u003e 处理之前发生转变。\u003c/p\u003e\n\u003ch1 id=\"命名参数和位置参数\"\u003e命名参数和位置参数\u003c/h1\u003e\n\u003ch2 id=\"命名参数\"\u003e命名参数\u003c/h2\u003e\n\u003cp\u003e让我们从一个简单的程序开始(保存为 \u003ccode\u003eprog.p6\u003c/code\u003e):\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e在这个 \u003ccode\u003eMAIN\u003c/code\u003e 子句中，我们通过前置 \u003ccode\u003e:\u003c/code\u003e 到子例程签名中的每个变量上，创建了两个带有类型约束(\u003ccode\u003eStr\u003c/code\u003e)的命名参数，\u003ccode\u003e$name\u003c/code\u003e 和 \u003ccode\u003e$last-name\u003c/code\u003e。这些参数也有默认值，这是通过给参数赋值来实现的。在本例中，我们将 \u003ccode\u003e$name\u003c/code\u003e 设置为默认值 “John”，将 \u003ccode\u003e$last-name\u003c/code\u003e 设置为 “Doe”。如果执行 \u003ccode\u003eprog.p6\u003c/code\u003e 时命令行参数与 \u003ccode\u003eMAIN\u003c/code\u003e 签名匹配，则会打印出一个格式化的全名:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ raku prog.p6\nJohn Doe\n$ raku prog.p6 --name=\u0026#39;carl\u0026#39; --last-name=\u0026#39;sagan\u0026#39;\nCarl Sagan\n$ raku prog.p6 --last-name=\u0026#39;sagan\u0026#39; --name=\u0026#39;carl\u0026#39;\nCarl Sagan\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e如您所见，命名参数可以按任何顺序传递。\u003c/p\u003e\n\u003cp\u003e如果没有匹配 \u003ccode\u003eMAIN\u003c/code\u003e 签名，则会得到一条使用信息:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ p6 prog.p6 --name=\u0026#39;Carl\u0026#39; --last-name=\u0026#39;Sagan\u0026#39; --career=\u0026#39;astronomer\u0026#39;\nprog.p6 [--name=\u0026lt;Str\u0026gt;] [--last-name=\u0026lt;Str\u0026gt;]\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"位置参数\"\u003e位置参数\u003c/h2\u003e\n\u003cp\u003e如果我们想使用位置参数，我们可以重新定义子例程的签名，只解析位置参数。与之前的版本一样，我们将为参数设置默认值，但是这些参数现在是位置的，并且必须按照签名定义的顺序提供:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e       \u003cspan class=\"c1\"\u003e# No colon(:) in the variable \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# No colon(:) in the variable \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e用匹配的签名执行 \u003ccode\u003eprog.p6\u003c/code\u003e 将打印以下输出:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ raku prog.p6\nJohn Doe\n\n$ raku prog.p6 carl sagan\nCarl Sagan\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e如果签名不匹配，则它给出如下用法信息：\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ raku prog.p6 carl sagan astronomer\nprog.p6 [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;]\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"多重分派\"\u003e多重分派\u003c/h2\u003e\n\u003cp\u003e我们可能更喜欢在我们的小程序中同时使用命名参数和位置参数。如前所述，我们可以使用多重分派(几个名称相同但签名不同的子例程)来声明具有自己签名的多个 \u003ccode\u003eMAIN\u003c/code\u003e 子例程。为了做到这一点，每个候选用 \u003ccode\u003emulti\u003c/code\u003e 关键字来声明，而不是 \u003ccode\u003esub\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e这两个 \u003ccode\u003eMAIN\u003c/code\u003e 子例程看起来非常相似，但是它们有不同的签名来描述预期的命令行参数。\u003c/p\u003e\n\u003cp\u003e如果我们执行 \u003ccode\u003eprog.p6\u003c/code\u003e 的命令行参数匹配任何 \u003ccode\u003eMAIN\u003c/code\u003e 签名，我们将得到格式化的全名:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ p6 prog.p6 --name=\u0026#39;ada\u0026#39; --last-name=\u0026#39;lovelace\u0026#39;\nAda Lovelace\n\n$ p6 prog.p6 marcus aurelius\nMarcus Aurelius\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e如果没有匹配的签名，我们将得到一个用法消息，详细说明我们的 \u003ccode\u003eMAIN\u003c/code\u003e 子例程可能的签名:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ p6 prog.p6 --name=\u0026#39;Ada\u0026#39; --last-name=\u0026#39;Lovelace\u0026#39; --title=\u0026#39;Ms\u0026#39;\nUsage:\n  prog.p6 [--name=\u0026lt;Str\u0026gt;] [--last-name=\u0026lt;Str\u0026gt;] \n  prog.p6 [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] \n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"组合命名参数和位置参数\"\u003e组合命名参数和位置参数\u003c/h2\u003e\n\u003cp\u003e定义不同的签名来处理不同的命令行参数(在我们的示例中是命名参数和位置参数)是可以的。但是，如果您想在 \u003ccode\u003eMAIN\u003c/code\u003e 签名中混合命名参数和位置参数呢? 这很容易做到，尽管位置参数必须在命名参数之前定义。\u003c/p\u003e\n\u003cp\u003e让我们通过添加位置参数到第一个 \u003ccode\u003emulti\u003c/code\u003e 子例程来更新我们的简单程序 \u003ccode\u003eprog.p6\u003c/code\u003e 到最新版本：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$title\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eMr\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e      \u003cspan class=\"c1\"\u003e# Our positional parameter defined before named ones\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$title\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$title\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$title\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch1 id=\"可选参数和必须参数\"\u003e可选参数和必须参数\u003c/h1\u003e\n\u003cp\u003e\u003cstrong\u003e默认情况下，命名参数是可选的\u003c/strong\u003e。尽管如此，可以通过使用 \u003ccode\u003e!\u003c/code\u003e 附加各自的词法变量来将它们标记为必须的。例如，\u003ccode\u003eMAIN( :$first, :$second, :$operator ){ ... }\u003c/code\u003e， 如果不带某些命令行参数调用 \u003ccode\u003eMAIN( :$first!, :$second!, :$operator! ){ ... }\u003c/code\u003e 则不会打印用法信息。考虑到参数现在是必须的了，调用者必须传递必须的参数才行。\u003c/p\u003e\n\u003cp\u003e另一方面，\u003cstrong\u003e位置参数在默认情况下是必需的\u003c/strong\u003e，但是可以通过使用 \u003ccode\u003e?\u003c/code\u003e 附加相应的词法变量来将它标记为可选的。例如，\u003ccode\u003eMAIN( $first, $second, $operator ){ ... }\u003c/code\u003e， 如果在没有命令行参数的情况下调用 \u003ccode\u003eMAIN( $first?, $second?, $operator? ){ ... }\u003c/code\u003e 则不会打印用法信息，因为参数现在是可选的。\u003c/p\u003e\n\u003cp\u003e位置参数也可以通过设置默认值来定义为可选的，比如在 \u003ccode\u003emulti MAIN( $title, $name = 'John', $last-name = 'Doe' ) { ... }\u003c/code\u003e 中使用的 \u003ccode\u003e$name\u003c/code\u003e 和 \u003ccode\u003e$last-name\u003c/code\u003e。\u003c/p\u003e\n\u003ch1 id=\"别名或替换命名参数\"\u003e别名或替换命名参数\u003c/h1\u003e\n\u003cp\u003e命名参数及其别名是通过使用冒号对语法(\u003ccode\u003e:\u003c/code\u003e)提供的。冒号的存在将决定我们是否创建一个新的命名参数。\u003c/p\u003e\n\u003cp\u003e让我们修改 \u003ccode\u003eprog.p6\u003c/code\u003e 中的第一个 \u003ccode\u003emulti\u003c/code\u003e 以包括一些别名:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$title\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eMr\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003elast-name\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$surname\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eBool\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$print\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$title\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$surname\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nv\"\u003e$print\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e...\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ccode\u003eMAIN\u003c/code\u003e 定义了两种别名：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e:last-name($surname)\u003c/code\u003e 只将传递给命令行参数的内容别名 \u003ccode\u003e-—last-name\u003c/code\u003e 到变量 \u003ccode\u003e$surname\u003c/code\u003e (注意缺少 \u003ccode\u003e:\u003c/code\u003e)。这意味着 \u003ccode\u003e$surname\u003c/code\u003e 将只是别名变量的名字，而不创建新的命名参数:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39; -p\nAlan Turing\n\n$ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --surname=\u0026#39;turing\u0026#39;\nUsage:\n  pos-named.p6 [--name=\u0026lt;Str\u0026gt;] [--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;]\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e:$print\u003c/code\u003e 不仅是别名变量的名称，而且是一个新的命名参数，旁边还有 \u003ccode\u003e:p\u003c/code\u003e:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39;\n\n$ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39; -p\nAlan Turing\n\n$ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39; -print\nAlan Turing\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e正如您可能已经注意到的，如果要打印此人的格式化全名，现在必须指定标记 \u003ccode\u003e-p\u003c/code\u003e (或 \u003ccode\u003e-print\u003c/code\u003e)。这是因为 \u003ccode\u003eBool\u003c/code\u003e 类型使 \u003ccode\u003e$print\u003c/code\u003e 成为一个二进制标记，如果不存在，则为 \u003ccode\u003eFalse\u003c/code\u003e。如果调用，则标志为 \u003ccode\u003eTrue\u003c/code\u003e，使执行简单的 \u003ccode\u003eif $print { ... }\u003c/code\u003e 语句变得可能。\u003c/p\u003e\n\u003cp\u003e使用别名是为参数创建长形式和短形式选项名的一种简单方法。我们可以进一步修改 \u003ccode\u003eprog.p6\u003c/code\u003e 中的第一个 \u003ccode\u003emulti\u003c/code\u003e，以便为 \u003ccode\u003e-—name\u003c/code\u003e 和 \u003ccode\u003e-—last-name\u003c/code\u003e 提供一个简短的形式选项名:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$title\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eMr\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003el\u003c/span\u003e\u003cspan class=\"p\"\u003e(:\u003c/span\u003e\u003cspan class=\"s\"\u003elast-name\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$surname\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eBool\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$print\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$title\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$surname\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nv\"\u003e$print\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e...\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e通过执行带有不同形式选项的 \u003ccode\u003eprog.p6\u003c/code\u003e，我们得到:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ep6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39; -print\nMr. Alan Turing\n\np6 prog.p6 -n=\u0026#39;grace\u0026#39; -l=\u0026#39;hopper\u0026#39; -p \u0026#39;Ms\u0026#39;\nMs. Grace Hopper\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e如果没有匹配的签名，我们就会得到使用信息:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ep6 prog.p6 -n=\u0026#39;alan\u0026#39; -l=\u0026#39;turing\u0026#39; -p --career=\u0026#39;mathematician\u0026#39;\nUsage:\n  prog.p6 [-n|--name=\u0026lt;Str\u0026gt;] [-l|--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;] \n  prog.p6 [\u0026lt;title\u0026gt;] [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;]\n\u003c/code\u003e\u003c/pre\u003e\u003ch1 id=\"sub-usage\"\u003eSub USAGE\u003c/h1\u003e\n\u003cp\u003e没有匹配的签名，这是我们小程序 \u003ccode\u003eprog.p6\u003c/code\u003e 的最新版本会打印以下使用信息:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eUsage:\n  prog.p6 [-n|--name=\u0026lt;Str\u0026gt;] [-l|--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;] \n  prog.p6 \u0026lt;title\u0026gt; [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这是由于，在没有向 \u003ccode\u003eMAIN\u003c/code\u003e 子例程提供匹配的签名时，将自动调用 \u003ccode\u003eUSAGE\u003c/code\u003e 子例程。如果没有找到这样的子例程，编译器将输出一个默认生成的使用消息，这意味着我们可以定义它以提供更详细的(如果我们想要的话!)使用消息。\u003c/p\u003e\n\u003cp\u003e这是带有修改过的 \u003ccode\u003eUSAGE\u003c/code\u003e sub 的 \u003ccode\u003eprog.p6\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-raku\" data-lang=\"raku\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ev\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$title\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eMr\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003el\u003c/span\u003e\u003cspan class=\"p\"\u003e(:\u003c/span\u003e\u003cspan class=\"s\"\u003elast-name\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$surname\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eBool\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$print\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$title\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$surname\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nv\"\u003e$print\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003emulti\u003c/span\u003e \u003cspan class=\"nb\"\u003eMAIN\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$title\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eMr\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eJohn\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kt\"\u003eStr\u003c/span\u003e \u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eDoe\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003emy\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$title\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$last-name\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u0026#34;;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003esay\u003c/span\u003e \u003cspan class=\"nv\"\u003e$formatted-name\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esub\u003c/span\u003e \u003cspan class=\"nb\"\u003eUSAGE\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eprint\u003c/span\u003e \u003cspan class=\"k\"\u003eQ\u003c/span\u003e\u003cspan class=\"sa\"\u003e:c:to\u003c/span\u003e\u003cspan class=\"p\"\u003e/END/;\u003c/span\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eUsage:\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"vg\"\u003e$*PROGRAM-NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e [-n|--name=\u0026lt;Str\u0026gt;] [-l|--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;] \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"vg\"\u003e$*PROGRAM-NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e [\u0026lt;title\u0026gt;] [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eoptional arguments:\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  -h, --help                     show this help message and exit\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  -n=PERSON_NAME, --name=PERSON_NAME\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e                                 specify person\u0026#39;s name\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  -l=PERSON_LAST_NAME, --last-name=PERSON_LAST_NAME\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e                                 specify person\u0026#39;s last name\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  -p , --print                   print person\u0026#39;s full name\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026lt;title\u0026gt;                        specify person\u0026#39;s title (\u0026#39;Mr\u0026#39; by default)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  Examples:\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"vg\"\u003e$*PROGRAM-NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e --name=\u0026#39;richard\u0026#39; --last-name=\u0026#39;feynman\u0026#39; -p\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"vg\"\u003e$*PROGRAM-NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e --name=\u0026#39;sophie\u0026#39; --last-name=\u0026#39;germain\u0026#39; -p \u0026#39;Ms\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"vg\"\u003e$*PROGRAM-NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e \u0026#39;leonhard\u0026#39; \u0026#39;euler\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\u003c/span\u003e\u003cspan class=\"p\"\u003eEND\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e注意，用法消息中提到了 \u003ccode\u003e-h\u003c/code\u003e(和 \u003ccode\u003e--help\u003c/code\u003e)标志，我们不需要显式地定义它们，因为它们是自动生成的。如果我们现在执行带有 \u003ccode\u003e--help\u003c/code\u003e(或\u003ccode\u003e-h\u003c/code\u003e)标志的 \u003ccode\u003eprog.p6\u003c/code\u003e，或不提供匹配签名，我们得到新的使用信息:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eUsage:\n  prog.p6 [-n|--name=\u0026lt;Str\u0026gt;] [-l|--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;] \n  prog.p6 [\u0026lt;title\u0026gt;] [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] \n\noptional arguments:\n  -h, --help                     show this help message and exit\n  -n=PERSON_NAME, --name=PERSON_NAME\n                                 specify person\u0026#39;s name\n  -l=PERSON_LAST_NAME, --last-name=PERSON_LAST_NAME\n                                 specify person\u0026#39;s last name\n  -p , --print                   print person\u0026#39;s full name\n  \u0026lt;title\u0026gt;                        specify person\u0026#39;s title (\u0026#39;Mr\u0026#39; by default)\n\n  Examples:\n   prog.p6 --name=\u0026#39;richard\u0026#39; --last-name=\u0026#39;feynman\u0026#39; -p\n   prog.p6 --name=\u0026#39;sophie\u0026#39; --last-name=\u0026#39;germain\u0026#39; -p \u0026#39;Ms\u0026#39;\n   prog.p6 \u0026#39;leonhard\u0026#39; \u0026#39;euler\u0026#39;\n\u003c/code\u003e\u003c/pre\u003e\u003ch1 id=\"结论\"\u003e结论\u003c/h1\u003e\n\u003cp\u003e这当然只是对 \u003ccode\u003eMAIN\u003c/code\u003e 和 \u003ccode\u003eUSAGE\u003c/code\u003e 子例程的简单介绍。就像在 Raku 中一样，总有比看起来更多的东西。例如，如果希望将命名参数放在命令行中的任何位置(甚至在位置参数之后)，可以修改 hash \u003ccode\u003e%*SUB-MAIN-OPTS\u003c/code\u003e 以允许这种行为。如果你想了解更多细节，我在下面提供了一些有用的链接。\u003c/p\u003e\n\u003ch2 id=\"另请参阅\"\u003e另请参阅\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docs.raku.org/language/functions\"\u003eMore about subroutines, blocks, signatures, return values, MAIN sub, etc.\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://rakuadvent.wordpress.com/2010/12/02/day-2-interacting-with-the-command-line-with-main-subs/\"\u003eInteracting with the command line with MAIN subs\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://www.jnthn.net/papers/2010-osdc.fr-signatures.pdf\"\u003eRaku Signatures - Jonathan Worthington\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://linuxtot.com/parsing-command-line-arguments-in-perl-6/\"\u003eParsing Command Line Arguments in Raku\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://rakumaven.com/parsing-command-line-arguments-raku\"\u003eParsing command line arguments in Raku\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://stackoverflow.com/a/29704107\"\u003eHow do I parse and validate command line arguments in Raku?\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","text":"Sub MAIN 在 Raku 中，命令行参数的解析是通过 MAIN 子例程完成的，MAIN 子例程是一种特殊的子例程，它根据 MAIN 子例程的签名解析命令行参数。与其他子例程一样，MAIN 子例程可以具有命名参数和位置参数、可选(和必需)参数、多重分派等等。\n有了 MAIN 子例程的定义，USAGE 子例程将由编译器自动生成。可以修改此子例程以返回定制的使用消息。所有命令行参数也可以在特殊变量 @*ARGS 中使用，它可以在 MAIN 处理之前发生转变。\n命名参数和位置参数 命名参数 让我们从一个简单的程序开始(保存为 prog.p6):\nuse v6; sub MAIN( Str :$name = \u0026#39;John\u0026#39;, Str :$last-name = \u0026#39;Doe\u0026#39;, ) { my $formatted-name = \u0026#34;$name.tc() $last-name.tc()\u0026#34;; say $formatted-name; } 在这个 MAIN 子句中，我们通过前置 : 到子例程签名中的每个变量上，创建了两个带有类型约束(Str)的命名参数，$name 和 $last-name。这些参数也有默认值，这是通过给参数赋值来实现的。在本例中，我们将 $name 设置为默认值 “John”，将 $last-name 设置为 “Doe”。如果执行 prog.p6 时命令行参数与 MAIN 签名匹配，则会打印出一个格式化的全名:\n$ raku prog.p6 John Doe $ raku prog.p6 --name=\u0026#39;carl\u0026#39; --last-name=\u0026#39;sagan\u0026#39; Carl Sagan $ raku prog.p6 --last-name=\u0026#39;sagan\u0026#39; --name=\u0026#39;carl\u0026#39; Carl Sagan 如您所见，命名参数可以按任何顺序传递。\n如果没有匹配 MAIN 签名，则会得到一条使用信息:\n$ p6 prog.p6 --name=\u0026#39;Carl\u0026#39; --last-name=\u0026#39;Sagan\u0026#39; --career=\u0026#39;astronomer\u0026#39; prog.p6 [--name=\u0026lt;Str\u0026gt;] [--last-name=\u0026lt;Str\u0026gt;] 位置参数 如果我们想使用位置参数，我们可以重新定义子例程的签名，只解析位置参数。与之前的版本一样，我们将为参数设置默认值，但是这些参数现在是位置的，并且必须按照签名定义的顺序提供:\nuse v6; sub MAIN( Str $name = \u0026#39;John\u0026#39;, # No colon(:) in the variable Str $last-name = \u0026#39;Doe\u0026#39;, # No colon(:) in the variable ) { my $formatted-name = \u0026#34;$name.tc() $last-name.tc()\u0026#34;; say $formatted-name; } 用匹配的签名执行 prog.p6 将打印以下输出:\n$ raku prog.p6 John Doe $ raku prog.p6 carl sagan Carl Sagan 如果签名不匹配，则它给出如下用法信息：\n$ raku prog.p6 carl sagan astronomer prog.p6 [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] 多重分派 我们可能更喜欢在我们的小程序中同时使用命名参数和位置参数。如前所述，我们可以使用多重分派(几个名称相同但签名不同的子例程)来声明具有自己签名的多个 MAIN 子例程。为了做到这一点，每个候选用 multi 关键字来声明，而不是 sub:\nuse v6; multi MAIN( Str :$name = \u0026#39;John\u0026#39;, Str :$last-name = \u0026#39;Doe\u0026#39;, ) { my $formatted-name = \u0026#34;$name.tc() $last-name.tc()\u0026#34;; say $formatted-name; } multi MAIN( Str $name = \u0026#39;John\u0026#39;, Str $last-name = \u0026#39;Doe\u0026#39;, ) { my $formatted-name = \u0026#34;$name.tc() $last-name.tc()\u0026#34;; say $formatted-name; } 这两个 MAIN 子例程看起来非常相似，但是它们有不同的签名来描述预期的命令行参数。\n如果我们执行 prog.p6 的命令行参数匹配任何 MAIN 签名，我们将得到格式化的全名:\n$ p6 prog.p6 --name=\u0026#39;ada\u0026#39; --last-name=\u0026#39;lovelace\u0026#39; Ada Lovelace $ p6 prog.p6 marcus aurelius Marcus Aurelius 如果没有匹配的签名，我们将得到一个用法消息，详细说明我们的 MAIN 子例程可能的签名:\n$ p6 prog.p6 --name=\u0026#39;Ada\u0026#39; --last-name=\u0026#39;Lovelace\u0026#39; --title=\u0026#39;Ms\u0026#39; Usage: prog.p6 [--name=\u0026lt;Str\u0026gt;] [--last-name=\u0026lt;Str\u0026gt;] prog.p6 [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] 组合命名参数和位置参数 定义不同的签名来处理不同的命令行参数(在我们的示例中是命名参数和位置参数)是可以的。但是，如果您想在 MAIN 签名中混合命名参数和位置参数呢? 这很容易做到，尽管位置参数必须在命名参数之前定义。\n让我们通过添加位置参数到第一个 multi 子例程来更新我们的简单程序 prog.p6 到最新版本：\nuse v6; multi MAIN( Str $title = \u0026#39;Mr\u0026#39;, # Our positional parameter defined before named ones Str :$name = \u0026#39;John\u0026#39;, Str :$last-name = \u0026#39;Doe\u0026#39;, ) { my $formatted-name = \u0026#34;$title.tc() $name.tc() $last-name.tc()\u0026#34;; say $formatted-name; } multi MAIN( Str $title, Str $name = \u0026#39;John\u0026#39;, Str $last-name = \u0026#39;Doe\u0026#39;, ) { my $formatted-name = \u0026#34;$title.tc() $name.tc() $last-name.tc()\u0026#34;; say $formatted-name; } 可选参数和必须参数 默认情况下，命名参数是可选的。尽管如此，可以通过使用 ! 附加各自的词法变量来将它们标记为必须的。例如，MAIN( :$first, :$second, :$operator ){ ... }， 如果不带某些命令行参数调用 MAIN( :$first!, :$second!, :$operator! ){ ... } 则不会打印用法信息。考虑到参数现在是必须的了，调用者必须传递必须的参数才行。\n另一方面，位置参数在默认情况下是必需的，但是可以通过使用 ? 附加相应的词法变量来将它标记为可选的。例如，MAIN( $first, $second, $operator ){ ... }， 如果在没有命令行参数的情况下调用 MAIN( $first?, $second?, $operator? ){ ... } 则不会打印用法信息，因为参数现在是可选的。\n位置参数也可以通过设置默认值来定义为可选的，比如在 multi MAIN( $title, $name = 'John', $last-name = 'Doe' ) { ... } 中使用的 $name 和 $last-name。\n别名或替换命名参数 命名参数及其别名是通过使用冒号对语法(:)提供的。冒号的存在将决定我们是否创建一个新的命名参数。\n让我们修改 prog.p6 中的第一个 multi 以包括一些别名:\nuse v6; multi MAIN( Str $title = \u0026#39;Mr\u0026#39;, Str :$name = \u0026#39;John\u0026#39;, Str :last-name($surname) = \u0026#39;Doe\u0026#39;, Bool :p(:$print), ) { my $formatted-name = \u0026#34;$title.tc() $name.tc() $surname.tc()\u0026#34;; if $print { say $formatted-name; } } ... MAIN 定义了两种别名：\n:last-name($surname) 只将传递给命令行参数的内容别名 -—last-name 到变量 $surname (注意缺少 :)。这意味着 $surname 将只是别名变量的名字，而不创建新的命名参数: $ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39; -p Alan Turing $ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --surname=\u0026#39;turing\u0026#39; Usage: pos-named.p6 [--name=\u0026lt;Str\u0026gt;] [--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;] :$print 不仅是别名变量的名称，而且是一个新的命名参数，旁边还有 :p: $ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39; $ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39; -p Alan Turing $ p6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39; -print Alan Turing 正如您可能已经注意到的，如果要打印此人的格式化全名，现在必须指定标记 -p (或 -print)。这是因为 Bool 类型使 $print 成为一个二进制标记，如果不存在，则为 False。如果调用，则标志为 True，使执行简单的 if $print { ... } 语句变得可能。\n使用别名是为参数创建长形式和短形式选项名的一种简单方法。我们可以进一步修改 prog.p6 中的第一个 multi，以便为 -—name 和 -—last-name 提供一个简短的形式选项名:\nuse v6; multi MAIN( Str $title = \u0026#39;Mr\u0026#39;, Str :n(:$name) = \u0026#39;John\u0026#39;, Str :l(:last-name($surname)) = \u0026#39;Doe\u0026#39;, Bool :p(:$print), ) { my $formatted-name = \u0026#34;$title.tc() $name.tc() $surname.tc()\u0026#34;; if $print { say $formatted-name; } } ... 通过执行带有不同形式选项的 prog.p6，我们得到:\np6 prog.p6 --name=\u0026#39;alan\u0026#39; --last-name=\u0026#39;turing\u0026#39; -print Mr. Alan Turing p6 prog.p6 -n=\u0026#39;grace\u0026#39; -l=\u0026#39;hopper\u0026#39; -p \u0026#39;Ms\u0026#39; Ms. Grace Hopper 如果没有匹配的签名，我们就会得到使用信息:\np6 prog.p6 -n=\u0026#39;alan\u0026#39; -l=\u0026#39;turing\u0026#39; -p --career=\u0026#39;mathematician\u0026#39; Usage: prog.p6 [-n|--name=\u0026lt;Str\u0026gt;] [-l|--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;] prog.p6 [\u0026lt;title\u0026gt;] [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] Sub USAGE 没有匹配的签名，这是我们小程序 prog.p6 的最新版本会打印以下使用信息:\nUsage: prog.p6 [-n|--name=\u0026lt;Str\u0026gt;] [-l|--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;] prog.p6 \u0026lt;title\u0026gt; [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] 这是由于，在没有向 MAIN 子例程提供匹配的签名时，将自动调用 USAGE 子例程。如果没有找到这样的子例程，编译器将输出一个默认生成的使用消息，这意味着我们可以定义它以提供更详细的(如果我们想要的话!)使用消息。\n这是带有修改过的 USAGE sub 的 prog.p6:\nuse v6; multi MAIN( Str $title = \u0026#39;Mr\u0026#39;, Str :n(:$name) = \u0026#39;John\u0026#39;, Str :l(:last-name($surname)) = \u0026#39;Doe\u0026#39;, Bool :p(:$print), ) { my $formatted-name = \u0026#34;$title.tc() $name.tc() $surname.tc()\u0026#34;; if $print { say $formatted-name; } } multi MAIN( Str $title = \u0026#39;Mr\u0026#39;, Str $name = \u0026#39;John\u0026#39;, Str $last-name = \u0026#39;Doe\u0026#39;, ) { my $formatted-name = \u0026#34;$title.tc() $name.tc() $last-name.tc()\u0026#34;; say $formatted-name; } sub USAGE() { print Q:c:to/END/; Usage: {$*PROGRAM-NAME} [-n|--name=\u0026lt;Str\u0026gt;] [-l|--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;] {$*PROGRAM-NAME} [\u0026lt;title\u0026gt;] [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] optional arguments: -h, --help show this help message and exit -n=PERSON_NAME, --name=PERSON_NAME specify person\u0026#39;s name -l=PERSON_LAST_NAME, --last-name=PERSON_LAST_NAME specify person\u0026#39;s last name -p , --print print person\u0026#39;s full name \u0026lt;title\u0026gt; specify person\u0026#39;s title (\u0026#39;Mr\u0026#39; by default) Examples: {$*PROGRAM-NAME} --name=\u0026#39;richard\u0026#39; --last-name=\u0026#39;feynman\u0026#39; -p {$*PROGRAM-NAME} --name=\u0026#39;sophie\u0026#39; --last-name=\u0026#39;germain\u0026#39; -p \u0026#39;Ms\u0026#39; {$*PROGRAM-NAME} \u0026#39;leonhard\u0026#39; \u0026#39;euler\u0026#39; END } 注意，用法消息中提到了 -h(和 --help)标志，我们不需要显式地定义它们，因为它们是自动生成的。如果我们现在执行带有 --help(或-h)标志的 prog.p6，或不提供匹配签名，我们得到新的使用信息:\nUsage: prog.p6 [-n|--name=\u0026lt;Str\u0026gt;] [-l|--last-name=\u0026lt;Str\u0026gt;] [-p|--print] [\u0026lt;title\u0026gt;] prog.p6 [\u0026lt;title\u0026gt;] [\u0026lt;name\u0026gt;] [\u0026lt;last-name\u0026gt;] optional arguments: -h, --help show this help message and exit -n=PERSON_NAME, --name=PERSON_NAME specify person\u0026#39;s name -l=PERSON_LAST_NAME, --last-name=PERSON_LAST_NAME specify person\u0026#39;s last name -p , --print print person\u0026#39;s full name \u0026lt;title\u0026gt; specify person\u0026#39;s title (\u0026#39;Mr\u0026#39; by default) Examples: prog.p6 --name=\u0026#39;richard\u0026#39; --last-name=\u0026#39;feynman\u0026#39; -p prog.p6 --name=\u0026#39;sophie\u0026#39; --last-name=\u0026#39;germain\u0026#39; -p \u0026#39;Ms\u0026#39; prog.p6 \u0026#39;leonhard\u0026#39; \u0026#39;euler\u0026#39; 结论 这当然只是对 MAIN 和 USAGE 子例程的简单介绍。就像在 Raku 中一样，总有比看起来更多的东西。例如，如果希望将命名参数放在命令行中的任何位置(甚至在位置参数之后)，可以修改 hash %*SUB-MAIN-OPTS 以允许这种行为。如果你想了解更多细节，我在下面提供了一些有用的链接。\n另请参阅 More about subroutines, blocks, signatures, return values, MAIN sub, etc. Interacting with the command line with MAIN subs Raku Signatures - Jonathan Worthington Parsing Command Line Arguments in Raku Parsing command line arguments in Raku How do I parse and validate command line arguments in Raku? "},"name":"Raku 中的命令行参数","published":"2018-10-05T21:33:03+08:00","summary":"Sub MAIN 在 Raku 中，命令行参数的解析是通过 MAIN 子例程完成的，MAIN 子例程是一种特殊的子例程，它根据 MAIN 子例程的签名解析命令行参数。与其他子例程一样，MAIN 子例程可以具有命名参数和位置参数、可选(和必需)参数、多重分派等等。\n有了 MAIN 子例程的定义，USAGE 子例程将由编译器自动生成。可以修改此子例程以返回定制的使用消息。所有命令行参数也可以在特殊变量 @*ARGS 中使用，它可以在 MAIN 处理之前发生转变。\n命名参数和位置参数 命名参数 让我们从一个简单的程序开始(保存为 prog.p6):\nuse v6; sub MAIN( Str :$name = \u0026#39;John\u0026#39;, Str :$last-name = \u0026#39;Doe\u0026#39;, ) { my $formatted-name = \u0026#34;$name.tc() $last-name.tc()\u0026#34;; say $formatted-name; } 在这个 MAIN 子句中，我们通过前置 : 到子例程签名中的每个变量上，创建了两个带有类型约束(Str)的命名参数，$name 和 $last-name。这些参数也有默认值，这是通过给参数赋值来实现的。在本例中，我们将 $name 设置为默认值 “John”，将 $last-name 设置为 “Doe”。如果执行 prog.p6 时命令行参数与 MAIN 签名匹配，则会打印出一个格式化的全名:\n$ raku prog.p6 John Doe $ raku prog.p6 --name=\u0026#39;carl\u0026#39; --last-name=\u0026#39;sagan\u0026#39; Carl Sagan $ raku prog.","type":"entry","url":"http://localhost:1313/raku/2018-10-05-command-line-arguments-in-raku/"}